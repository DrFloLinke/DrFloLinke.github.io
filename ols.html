<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Linear Regression | Analysing Quantitative Data with R</title>
  <meta name="description" content="9 Linear Regression | Analysing Quantitative Data with R" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Linear Regression | Analysing Quantitative Data with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Linear Regression | Analysing Quantitative Data with R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="association.html"/>
<link rel="next" href="logit.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/font-awesome-5.13.0/js/script.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I THE BASICS</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#content"><i class="fa fa-check"></i><b>1.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-is-r-and-why-should-i-learn-it"><i class="fa fa-check"></i>What is R and why should I learn it?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-course-structure"><i class="fa fa-check"></i>The course structure</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#setup"><i class="fa fa-check"></i>Setup</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#layout"><i class="fa fa-check"></i>Layout</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics of R Programming</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#content-1"><i class="fa fa-check"></i><b>2.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#arithmetic-operations-and-assignment"><i class="fa fa-check"></i>Arithmetic operations and assignment</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#coercion"><i class="fa fa-check"></i>Coercion</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#logical-values-and-operators"><i class="fa fa-check"></i>Logical Values and Operators</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#indexing"><i class="fa fa-check"></i>Indexing</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#sorting"><i class="fa fa-check"></i>Sorting</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#summary"><i class="fa fa-check"></i><b>2.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#functions-list"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basics.html"><a href="basics.html#exercises"><i class="fa fa-check"></i><b>2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="datastructures.html"><a href="datastructures.html"><i class="fa fa-check"></i><b>3</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="datastructures.html"><a href="datastructures.html#content-2"><i class="fa fa-check"></i><b>3.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#data-frames"><i class="fa fa-check"></i>Data Frames</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#factors"><i class="fa fa-check"></i>Factors</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#reading-and-writing-the-data"><i class="fa fa-check"></i>Reading and writing the data</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#missing-values"><i class="fa fa-check"></i>Missing values</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#lists"><i class="fa fa-check"></i>Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="datastructures.html"><a href="datastructures.html#summary-1"><i class="fa fa-check"></i><b>3.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#functions-list-1"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="datastructures.html"><a href="datastructures.html#exercises-1"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory.html"><a href="exploratory.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploratory.html"><a href="exploratory.html#content-3"><i class="fa fa-check"></i><b>4.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#what-is-exploratory-data-analysis"><i class="fa fa-check"></i>What is exploratory data analysis?</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#first-look-at-the-data"><i class="fa fa-check"></i>First look at the data</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#numeric-vs-categorical-variables"><i class="fa fa-check"></i>Numeric vs categorical variables</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#numeric-variables"><i class="fa fa-check"></i>Numeric variables</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#categorical-variables"><i class="fa fa-check"></i>Categorical variables</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#customizing-visualizations"><i class="fa fa-check"></i>Customizing visualizations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exploratory.html"><a href="exploratory.html#summary-2"><i class="fa fa-check"></i><b>4.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#functions-list-2"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="exploratory.html"><a href="exploratory.html#exercises-2"><i class="fa fa-check"></i><b>4.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II ADVANCED DATA MANIPULATION</b></span></li>
<li class="chapter" data-level="5" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i><b>5</b> Key Programming Concepts</a>
<ul>
<li class="chapter" data-level="5.1" data-path="programming.html"><a href="programming.html#content-4"><i class="fa fa-check"></i><b>5.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#control-flow-statements"><i class="fa fa-check"></i>Control flow statements</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#for-loops"><i class="fa fa-check"></i>For loops</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#if-statements"><i class="fa fa-check"></i>If statements</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#sapply"><i class="fa fa-check"></i>Sapply</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="programming.html"><a href="programming.html#summary-3"><i class="fa fa-check"></i><b>5.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#functions-list-3"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="programming.html"><a href="programming.html#exercises-3"><i class="fa fa-check"></i><b>5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>6</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dplyr.html"><a href="dplyr.html#content-5"><i class="fa fa-check"></i><b>6.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#reading-the-data"><i class="fa fa-check"></i>Reading the data</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#the-pipe-operator"><i class="fa fa-check"></i>The pipe operator</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#dataset-manipulation"><i class="fa fa-check"></i>Dataset manipulation</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#reshaping-data"><i class="fa fa-check"></i>Reshaping data</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#joining"><i class="fa fa-check"></i>Joining</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#aggregating-data"><i class="fa fa-check"></i>Aggregating data</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="dplyr.html"><a href="dplyr.html#summary-4"><i class="fa fa-check"></i><b>6.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#functions-list-4"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="dplyr.html"><a href="dplyr.html#exercises-4"><i class="fa fa-check"></i><b>6.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>7</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="visualization.html"><a href="visualization.html#content-6"><i class="fa fa-check"></i><b>7.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#the-plotting-syntax"><i class="fa fa-check"></i>The plotting syntax</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#all-about-geoms---plot-types-in-ggplot2"><i class="fa fa-check"></i>All about geoms - plot types in ggplot2</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#multiple-plots"><i class="fa fa-check"></i>Multiple plots</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#customizing-plots"><i class="fa fa-check"></i>Customizing plots</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#saving-plots"><i class="fa fa-check"></i>Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="visualization.html"><a href="visualization.html#summary-5"><i class="fa fa-check"></i><b>7.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#functions-list-5"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="visualization.html"><a href="visualization.html#exercises-5"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III DATA ANALYSIS</b></span></li>
<li class="chapter" data-level="8" data-path="association.html"><a href="association.html"><i class="fa fa-check"></i><b>8</b> Statistical Inference and Association</a>
<ul>
<li class="chapter" data-level="8.1" data-path="association.html"><a href="association.html#content-7"><i class="fa fa-check"></i><b>8.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#comparing-means"><i class="fa fa-check"></i>Comparing means</a></li>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#relationship-between-two-continuous-variables"><i class="fa fa-check"></i>Relationship between two continuous variables</a></li>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#further-details"><i class="fa fa-check"></i>Further details</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="association.html"><a href="association.html#summary-6"><i class="fa fa-check"></i><b>8.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#functions-list-6"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="association.html"><a href="association.html#exercises-6"><i class="fa fa-check"></i><b>8.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ols.html"><a href="ols.html"><i class="fa fa-check"></i><b>9</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ols.html"><a href="ols.html#content-8"><i class="fa fa-check"></i><b>9.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#bivariate-linear-regression"><i class="fa fa-check"></i>Bivariate Linear Regression</a></li>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#multiple-linear-regression"><i class="fa fa-check"></i>Multiple Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ols.html"><a href="ols.html#summary-7"><i class="fa fa-check"></i><b>9.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#functions-list-7"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ols.html"><a href="ols.html#exercises-7"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
<li class="chapter" data-level="9.4" data-path="ols.html"><a href="ols.html#references"><i class="fa fa-check"></i><b>9.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>10</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="logit.html"><a href="logit.html#content-9"><i class="fa fa-check"></i><b>10.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---the-intuition"><i class="fa fa-check"></i>Logit - The Intuition</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---the-estimation"><i class="fa fa-check"></i>Logit - The Estimation</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---the-output"><i class="fa fa-check"></i>Logit - The Output</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---interpreting-the-coefficients"><i class="fa fa-check"></i>Logit - Interpreting the Coefficients</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---model-fit"><i class="fa fa-check"></i>Logit - Model Fit</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="logit.html"><a href="logit.html#summary-8"><i class="fa fa-check"></i><b>10.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#functions-list-8"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="logit.html"><a href="logit.html#exercises-8"><i class="fa fa-check"></i><b>10.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Advanced Topics</b></span></li>
<li class="chapter" data-level="11" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="rmarkdown.html"><a href="rmarkdown.html#content-10"><i class="fa fa-check"></i><b>11.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#usage"><i class="fa fa-check"></i>Usage</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#the-components-of-an-r-markdown-document"><i class="fa fa-check"></i>The Components of an R Markdown Document</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#figures-and-graphs"><i class="fa fa-check"></i>Figures and Graphs</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#useful-stuff"><i class="fa fa-check"></i>Useful Stuff</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliography"><i class="fa fa-check"></i>Bibliography</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#stargazer"><i class="fa fa-check"></i>stargazer</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="rmarkdown.html"><a href="rmarkdown.html#summary-9"><i class="fa fa-check"></i><b>11.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#functions-list-9"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="rmarkdown.html"><a href="rmarkdown.html#exercises-9"><i class="fa fa-check"></i><b>11.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="course-summary.html"><a href="course-summary.html"><i class="fa fa-check"></i><b>12</b> Course summary</a>
<ul>
<li class="chapter" data-level="" data-path="course-summary.html"><a href="course-summary.html#index-of-functions-used-throughout-the-course"><i class="fa fa-check"></i>Index of functions used throughout the course</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysing Quantitative Data with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ols" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Linear Regression<a href="ols.html#ols" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<button class="btn btn-default" onclick="fetch(&#39;data:text/plain;base64,IycgIyBMaW5lYXIgUmVncmVzc2lvbiAKCiMnIAojJyAKIycgCiMnIAojJyAjIyBDb250ZW50CiMnIAojJyA8Y2VudGVyPiBfX1NpdGUgc3RpbGwgdW5kZXIgY29uc3RydWN0aW9uIV9fIDwvY2VudGVyPgojJyAKIycgIyMjIEludHJvZHVjdGlvbiAKCiMnIAojJyBSZWdyZXNzaW9uIGlzIHRoZSBwb3dlciBob3VzZSBvZiB0aGUgc29jaWFsIHNjaWVuY2VzLiBJdCBpcyB3aWRlbHkgYXBwbGllZCBhbmQgdGFrZXMgbWFueSBkaWZmZXJlbnQgZm9ybXMuIEluIHRoaXMgQ2hhcHRlciB3ZSBhcmUgZ29pbmcgdG8gZXhwbG9yZSB0aGUgbGluZWFyIHZhcmlhbnQsIGFsc28gY2FsbGVkIE9yZGluYXJ5IExlYXN0IFNxdWFyZXMgKE9MUykuIFRoaXMgdHlwZSBvZiByZWdyZXNzaW9uIGlzIHVzZWQgaWYgb3VyIGRlcGVuZGVudCB2YXJpYWJsZSBpcyBjb250aW51b3VzLiBJbiB0aGUgZm9sbG93aW5nIENoYXB0ZXIgd2Ugd2lsbCBoYXZlIGEgbG9vayBhdCByZWdyZXNzaW9uIHdpdGggYSBiaW5hcnkgZGVwZW5kZW50IHZhcmlhYmxlIGFuZCB0aGUgY2FsY3VsYXRpb24gb2YgdGhlIHByb2JhYmlsaXR5IHRvIGZhbGwgaW50byBlaXRoZXIgb2YgdGhvc2UgdHdvIGNhdGVnb3JpZXMuIEJ1dCBsZXQncyBmaXJzdCB0dXJuIHRvIGxpbmVhciByZWdyZXNzaW9uLgojJyAKIycgIyMjIEJpdmFyaWF0ZSBMaW5lYXIgUmVncmVzc2lvbiAKCiMnIAojJyAjIyMjIFRoZSBUaGVvcnkgCgojJyAKIycgUmVncmVzc2lvbiBpcyBub3Qgb25seSBhYmxlIHRvIGlkZW50aWZ5IHRoZSBkaXJlY3Rpb24gb2YgYSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhbiBpbmRlcGVuZGVudCBhbmQgYSBkZXBlbmRlbnQgdmFyaWFibGUsIGl0IGlzIGFsc28gYWJsZSB0byBxdWFudGlmeSB0aGUgZWZmZWN0LiBMZXQgdXMgY2hvb3NlIGBZYCBhcyBvdXIgZGVwZW5kZW50IHZhcmlhYmxlLCBhbmQgYFhgIGFzIG91ciBpbmRlcGVuZGVudCB2YXJpYWJsZS4gV2UgaGF2ZSBzb21lIGRhdGEgd2hpY2ggd2UgYXJlIGRpc3BsYXlpbmcgaW4gYSBzY2F0dGVyIHBsb3Q6CiMnIAojJyAKIycge3dpZHRoPTc1JX0KIycgCiMnIFdpdGggYSBsaXR0bGUgZ29vZHdpbGwgd2UgY2FuIGFscmVhZHkgc2VlIHRoYXQgdGhlcmUgaXMgYSBwb3NpdGl2ZSByZWxhdGlvbnNoaXA6IGFzIGBYYCBpbmNyZWFzZXMsIGBZYCBpbmNyZWFzZXMsIGFzIHdlbGwuIE5vdywgaW1hZ2luZSB0YWtpbmcgYSBydWxlciBhbmQgdHJ5aW5nIHRvIGZpdCBpbiBhIGxpbmUgdGhhdCBiZXN0IGRlc2NyaWJlcyB0aGUgcmVsYXRpb25zaGlwIGRlcGljdGVkIGJ5IHRoZXNlIHBvaW50cy4gVGhpcyB3aWxsIGJlIG91ciByZWdyZXNzaW9uIGxpbmUuIAojJyAKIycgVGhlIHBvc2l0aW9uIG9mIGEgbGluZSBpbiBhIGNvb3JkaW5hdGUgc3lzdGVtIGlzIHVzdWFsbHkgZGVzY3JpYmVkIGJ5IHR3byBpdGVtczogdGhlIGludGVyY2VwdCB3aXRoIHRoZSBZLWF4aXMsIGFuZCB0aGUgc2xvcGUgb2YgdGhlIGxpbmUuIFRoZSBzbG9wZSBpcyBkZWZpbmVkIGFzIHJpc2Ugb3ZlciBydW4sIGFuZCBpbmRpY2F0ZXMgYnkgaG93IG11Y2ggWSBpbmNyZWFzZXMgKG9yIGRlY3JlYXNlcyBpcyB0aGUgc2xvcGUgaXMgbmVnYXRpdmUpIGlmIHdlIGFkZCBhbiBhZGRpdGlvbmFsIHVuaXQgb2YgWC4gSW4gdGhlIG5vdGF0aW9uIHdoaWNoIGZvbGxvd3Mgd2Ugd2lsbCBjYWxsIHRoZSBpbnRlcmNlcHQgJFxiZXRhX3swfSQsIGFuZCB0aGUgc2xvcGUgJFxiZXRhX3sxfSQuIEl0IHdpbGwgYmUgb3VyIHRhc2sgdG8gZXN0aW1hdGUgdGhlc2UgdmFsdWVzLCBhbHNvIGNhbGxlZCBjb2VmZmljaWVudHMuIFlvdSBjYW4gc2VlIHRoaXMgZGVwaWN0ZWQgZ3JhcGhpY2FsbHkgaGVyZToKIycgCiMnIAojJyB7d2lkdGg9NzUlfQojJyAKIycgCiMnIF9fUG9wdWxhdGlvbl9fCiMnIAojJyBXZSB3aWxsIGZpcnN0IGFzc3VtZSBoZXJlIHRoYXQgd2UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgcG9wdWxhdGlvbiBhbmQgbm90IGEgc2FtcGxlLiBUaGUgcmVncmVzc2lvbiBsaW5lIHdlIGhhdmUganVzdCBkcmF3biB3b3VsZCB0aGVuIGJlIGNhbGxlZCB0aGUgUG9wdWxhdGlvbiBSZWdyZXNzaW9uIEZ1bmN0aW9uIChQUkYpIGFuZCBpcyB3cml0dGVuIGFzIGZvbGxvd3M6CiMnIAojJyBcYmVnaW57ZXF1YXRpb259CiMnIEUoWXxYX3tpfSkgPSBcYmV0YV97MH0gKyBcYmV0YV97MX0gWF97aX0KIycgKFwjZXE6cHJmKQojJyBcZW5ke2VxdWF0aW9ufQojJyAKIycgQmVjYXVzZSB3ZXIgYXJlIGRlYWxpbmcgd2l0aCB0aGUgcG9wdWxhdGlvbiwgdGhlIGxpbmUgaXMgdGhlIGdlb21ldHJpYyBsb2N1cyBvZiBhbGwgdGhlIGV4cGVjdGVkIHZhbHVlcyBvZiB0aGUgZGVwZW5kZW50IHZhcmlhYmxlIGBZYCwgZ2l2ZW4gdGhlIHZhbHVlcyBvZiB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGVzIGBYYC4gVGhpcyBoYXMgdG8gZG8gd2l0aCB0aGUgYXBwcm9hY2ggdG8gc3RhdGlzdGljcyB0aGF0IHVuZGVycGlucyB0aGlzIG1vZHVsZTogZnJlcXVlbnRpc3Qgc3RhdHNjdGljcyAoYXMgb3Bwb3NlZCB0byBCYXllc2lhbiBzdGF0aXN0aWNzKS4gV2UgYXJlIHVuZGVyc3RhbmRpbmcgYWxsIHZhbHVlcyB0byBiZSAiaW4gdGhlIGxvbmcgcnVuIiwgYW5kIGlmIHdlIHNhbXBsZWQgcmVwZWF0ZWRseSBmcm9tIGEgcG9wdWxhdGlvbiwgdGhlbiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgdGhlIHZhbHVlIHdlIHdvdWxkLCB3ZWxsLCBleHBlY3QgdG8gc2VlIG1vc3Qgb2Z0ZW4gaW4gdGhlIGxvbmcgcnVuLgojJyAKIycgVGhlIHJlZ3Jlc3Npb24gbGluZSBpcyBub3QgaW50ZXJjZXB0aW5nIHdpdGggYWxsIG9ic2VydmF0aW9ucy4gT25seSB0d28gYXJlIGxvY2F0ZWQgb24gdGhlIGxpbmUsIGFuZCBhbGwgb3RoZXJzIGhhdmUgYSBsaXR0bGUgZGlzdGFuY2UgYmV0d2VlbiB0aGVtIGFuZCB0aGUgUFJGLiBUaGVzZSBkaXN0YW5jZXMgYmV0d2VlbiAkRShZfFhfe2l9KSQgYW5kICRZX3tpfSQgYXJlIGNhbGxlZCBlcnJvciB0ZXJtcyBhbmQgYXJlIGRlbm90ZWQgYXMgJFxlcHNpbG9uX3tpfSQuIAojJyAKIycgCiMnIHt3aWR0aD03NSV9CiMnIAojJyBUbyBkZXNjcmliZSB0aGUgb2JzZXJ2YXRpb25zICRZX3tpfSQgd2UgdGhlcmVmb3JlIG5lZWQgdG8gYWRkIHRoZSBlcnJvciB0ZXJtcyB0byBlcXVhdGlvbiBcQHJlZihlcTpwcmYpOgojJyAKIycgXGJlZ2lue2VxdWF0aW9ufQojJyBZX3tpfSA9IFxiZXRhX3swfSArIFxiZXRhX3sxfSBYX3tpfSArIFxlcHNpbG9uX3tpfQojJyAoXCNlcTpwb3ApCiMnIFxlbmR7ZXF1YXRpb259CiMnIAojJyBfX1NhbXBsZV9fCiMnIAojJyBJbiByZWFsaXR5IHdlIGhhcmRseSBldmVyIGhhdmUgdGhlIHBvcHVsYXRpb24gaW4gdGhlIHNvY2lhbCBzY2llbmNlcywgYW5kIHdlIGdlbmVyYWxseSBoYXZlIHRvIGNvbnRlbmQgd2l0aCBhIHNhbXBsZS4gTm9uZXRoZWxlc3MsIHdlIGNhbiBjb25zdHJ1Y3QgYSByZWdyZXNzaW9uIGxpbmUgb24gdGhlIGJhc2lzIG9mIHRoZSBzYW1wbGUsIHRoZSBTYW1wbGUgUmVncmVzc2lvbiBGdW5jdGlvbiAoU1JGKS4gSXQgaXMgaW1wb3J0YW50IHRvIG5vdGUgdGhhdCB0aGUgbmF0dXJlIG9mIHRoZSByZWdyZXNzaW9uIGxpbmUgd2UgZGVyaXZlIGZyb210IGhlIHNhbXBsZSB3aWxsIGJlIGRpZmZlcmVudCBmb3IgZXZlcnkgc2FtcGxlLCBhcyBlYWNoIHNhbXBsZSB3aWxsIGhhdmUgb3RoZXIgdmFsdWVzIGluIGl0LiBSYXJlbHksIHRoZSBQUkYgaXMgdGhlIHNhbWUgYXMgdGhlIFNSRiAtIGJ1dCB3ZSBhcmUgYWx3YXlzIHVzaW5nIHRoZSBTUkYgdG8gZXN0aW1hdGUgdGhlIFBSRi4gIAojJyAKIycgSW4gb3JkZXIgdG8gZmxhZyB0aGlzIHVwIGluIHRoZSBub3RhdGlvbiB3ZSB1c2UgdG8gc3BlY2lmeSB0aGUgU1JGLCB3ZSBhcmUgdXNpbmcgbGl0dGxlIGhhdHMgb3ZlciBldmVyeXRoaW5nIHdlIGVzdGltYXRlLCBsaWtlIHRoaXM6CiMnIAojJyBcYmVnaW57ZXF1YXRpb259CiMnIFxoYXR7WX1fe2l9ID0gXGhhdHtcYmV0YX1fezB9ICsgXGhhdHtcYmV0YX1fezF9IFhfe2l9CiMnIChcI2VxOnNyZikKIycgXGVuZHtlcXVhdGlvbn0KIycgCiMnIAojJyBBbmFsb2dvdXNseSwgd2Ugd291bGQgd291bGQgZGVzY3JpYmUgdGhlIG9ic2VydmF0aW9ucyAkWV97aX0kIGJ5IGFkZGluZyB0aGUgZXN0aW1hdGVkIGVycm9yIHRlcm1zICRcaGF0e1xlcHNpbG9ufV97aX0kIHRvIHRoZSBlcXVhdGlvbi4KIycgCiMnIFxiZWdpbntlcXVhdGlvbn0KIycgWV97aX0gPSBcaGF0e1xiZXRhfV97MH0gKyBcaGF0e1xiZXRhfV97MX0gWF97aX0gKyBcaGF0e1xlcHNpbG9ufV97aX0KIycgXGVuZHtlcXVhdGlvbn0KIycgCiMnIFRoZSBmb2xsb3dpbmcgZ3JhcGggdmlzZHVhbGlzZWQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGFuIG9ic2VydmF0aW9uLCB0aGUgUFJGLCB0aGUgU1JGIGFuZCB0aGUgcmVzcGVjdGl2ZSBlcnJvciB0ZXJtcy4KIycgCiMnIAojJyB7d2lkdGg9NzUlfQojJyAKIycgCiMnIAojJyBPcmRpbmFyeSBMZWFzdCBTcXVhcmVzIChPTFMpCiMnIAojJyBXaGVuIHlvdSBleWUtYmFsbGVkIHRoZSBzY2F0dGVyIHBsb3QgIGF0IHRoZSBzdGFydCBvZiB0aGlzIENoYXB0ZXIgaW4gb3JkZXIgdG8gZml0IGEgbGluZSB0aHJvdWdoIGl0LCB5b3UgaGF2ZSBzdWItY29uc2Npb3VzbHkgZG9uZSBzbyBieSBtaW5pbWlzaW5nIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGVhY2ggb2YgdGhlIG9ic2VydmF0aW9ucyBhbmQgdGhlIGxpbmUuIE9yIHB1dCBkaWZmZXJlbnRseSwgeW91IGhhdmUgdHJpZWQgdG8gbWluaW1pc2UgdGhlIGVycm9yIHRlcm0gJFxoYXR7XGVwc2lsb259X3tpfSQuIFRoaXMgaXMgYmFzaWNhbGx5IHRoZSBpbnR1aXRpb24gYmVoaW5kIGZpdHRpbmcgdGhlIFNSRiBtYXRoZW1hdGljYWxseSwgdG9vLiBXZSB0cnkgdG8gbWluaW1pc2UgdGhlIHN1bSBvZiBhbGwgZXJyb3IgdGVybXMsIHNvIHRoYXQgYWxsIG9ic2VydmF0aW9ucyBhcmUgYXMgY2xvc2UgdG8gdGhlIHJlZ3Jlc3Npb24gbGluZSBhcyBwb3NzaWJsZS4gVGhlIG9ubHkgcHJvYmxlbSB0aGF0IHdlIGVuY291bnRlciB3aGVuIGRvaW5nIHRoaXMgaXMgdGhhdCB0aGVzZSBkaXN0YW5jZXMgd2lsbCBhbHdheXMgc3VtIHVwIHRvIHplcm8uIAojJyAKIycgIEJ1dCBzaW1pbGFyIHRvIGNhbGN1bGF0aW5nIHRoZSBzdGFuZGFyZCBkZXZpYXRpb24gd2hlcmUgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIG9ic2VydmF0aW9ucyBhbmQgdGhlIG1lYW4gd291bGQgc3VtIHVwIHRvIHplcm8gKGVzc2VudGlhbGx5IHdlIGFyZSBkb2luZyB0aGUgc2FtZSB0aGluZyBoZXJlKSwgd2Ugc2ltcGx5IHNxdWFyZSB0aG9zZSBkaXN0YW5jZXMuIFNvIHdlIGFyZSBub3QgbWluaW1pc2luZyB0aGUgc3VtIG9mIGRpc3RhbmNlcyBiZXR3ZWVuIG9ic2VydmF0aW9ucyBhbmQgdGhlIHJlZ3Jlc3Npb24gbGluZSwgYnV0IHRoZSBzdW0gb2YgdGhlIF9fc3F1YXJlZF9fIGRpc3RhbmNlcyBiZXR3ZWVuIHRoZSBvYnNlcnZhdGlvbnMgYW5kIHRoZSByZWdyZXNzaW9uIGxpbmUuIEdyYXBoaWNhbGx5LCB3ZSB3b3VsZCBlbmQgdXAgd2l0aCBsaXR0bGUgc3F1YXJlcyBtYWRlIG91dCBvZiBlYWNoICRcaGF0e1xlcHNpbG9ufV97aX0kIHdoaWNoIGdpdmVzIHRoZSB0aGUgbWV0aG9kIGl0cyBuYW1lOiBPcmRpbmFyeSBMZWFzdCBTcXVhcmVzIChPTFMpLiAKIycgCiMnIAojJyAKIycge3dpZHRoPTc1JX0KIycgCiMnIAojJyBXZSBhcmUgbm93IHJlYWR5IHRvIGFwcGx5IHRoaXMgc3R1ZmYgdG8gYSByZWFsLXdvcmxkIGV4YW1wbGUhCiMnIAojJyAKIycgCiMnICMjIyMgVGhlIEFwcGxpY2F0aW9uIAoKIycgCiMnIEluIHRoZSBhcHBsaWVkIHBhcnQgb2YgdGhpcyBDaGFwdGVyLCB3ZSBhcmUgZ29pbmcgdG8gbW9kZWwgdGhlIGZlZWxpbmdzIHRvd2FyZHMgRG9uYWxkIFRydW1wIGluIHRoZSBsZWFkLXVwIHRvIHRoZSBwcmVzaWRlbnRpYWwgZWxlY3Rpb24gMjAyMC4gRGF0YSBmb3IgdGhpcyBpbnZlc3RpZ2F0aW9uIGFyZSB0YWtlbiBmcm9tICBodHRwczovL2VsZWN0aW9uc3R1ZGllcy5vcmcvZGF0YS1jZW50ZXIvMjAyMC1leHBsb3JhdG9yeS10ZXN0aW5nLXN1cnZleS8gUGxlYXNlIGZvbGxvdyB0aGlzIGxpbmsgYW5kIGRvd25sb2FkIHRoZSAiMjAyMCBFeHBsb3JhdG9yeSBUZXN0aW5nIFN1cnZleSIgYW5kIHBvcCBpdCBpbnRvIGEgd29ya2luZyBkaXJlY3RvcnkuIAojJyAKIycgV2UgY2FuIHRoZW4gbG9hZCB0aGUgQU5FUyBkYXRhIHNldDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmFuZXMgPC0gcmVhZC5jc3YoImRhdGEvYW5lcy5jc3YiKQoKIycgCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpzdW1tYXJ5KGFuZXMkZnR0cnVtcDEpCgojJyAKIycgVGhpcyBpcyBubyBnb29kLCBhcyB0aGUgdmFyaWFibGUgaXMgYm91bmRlZCBiZXR3ZWVuIDAgYW5kIDEwMC4gSW4gZmFjdCA5OTkgaXMgYSBwbGFjZWhvbGRlciBmb3IgbWlzc2luZyBkYXRhIHRocm91Z2hvdXQgdGhlIGRhdGEgc2V0LiBXZSBuZWVkIHRvIHJlcGxhY2UgdGhpcyB3aXRoIE5Bcy4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmFuZXNbYW5lcyA9PSA5OTldIDwtIE5BCgojJyAKIycgSWYgd2UgbG9vayBhdCB0aGUgc3VtbWFyeSBhZ2FpbiwgZXZlcnl0aGluZyBsb29rcyBmaW5lIG5vdzoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnN1bW1hcnkoYW5lcyRmdHRydW1wMSkKCiMnIAojJyBCeSB0aGUgd2F5LCBoYWQgeW91IGp1c3Qgd2FudGVkIHRvIHJlcGxhY2UgdGhpcyBpbiBvbmUgdmFyaWFibGUsIGZvciBleGFtcGxlIG9ubHkgaW4gYGZ0dHJ1bXAxYCwgeW91IGNvdWxkIGhhdmUgY2FsbGVkOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyMgYW5lcyRmdHRydW1wMSA8LSB3aXRoKGFuZXMsIHJlcGxhY2UoZnR0cnVtcDEsIGZ0dHJ1bXAxID09IDk5OSwgTkEpKQoKIycgCiMnIE5vcnJpcyBhbmQgSW5nbGVoYXJ0ICgyMDE2KSBoYXZlIGFyZ3VlZCB0aGF0OgojJyAKIycgPnBvcHVsaXN0IHN1cHBvcnQgaW4gRXVyb3BlIGlzIGdlbmVyYWxseSBzdHJvbmdlciBhbW9uZyB0aGUgb2xkZXIgZ2VuZXJhdGlvbiwgbWVuLCB0aGUgbGVzcyBlZHVjYXRlZCwgdGhlIHJlbGlnaW91cywgYW5kIGV0aG5pYyBtYWpvcml0aWVzLCBwYXR0ZXJucyBjb25maXJtaW5nIHByZXZpb3VzIHJlc2VhcmNoLgojJyAKIycgTGV0J3Mgc2VlIGlmIHRoaXMgYWxzbyBhcHBsaWVzIHRvIHByZXNpZGVudGlhbCBlbGVjdGlvbnMgaW4gdGhlIFVTLiBXZSBmaXJzdCBsb29rIGF0IHRoZSBxdWVzdGlvbjogIkRvIG9sZGVyIHBlb3BsZSByYXRlIFRydW1wIGhpZ2hlciB0aGFuIHlvdW5nZXIgcGVvcGxlPyIuIE91ciBpbmRlcGVuZGVudCB2YXJpYWJsZXMgaXMgYGFnZWAuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpzdW1tYXJ5KGFuZXMkYWdlKQoKIycgCiMnIExldCdzIGV2YWx1YXRlIHRoZSByZWxhdGlvbnNoaXAgdGhyb3VnaCBhIHNjYXR0ZXIgcGxvdCB3aXRoIGEgbGluZSBvZiBiZXN0IGZpdDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxpYnJhcnkodGlkeXZlcnNlKQoKZ2dwbG90KGFuZXMsIGFlcyh4ID0gYWdlLCB5ID0gZnR0cnVtcDEpKSArCiAgZ2VvbV9wb2ludCgpICsKICBnZW9tX3Ntb290aChtZXRob2QgPSBsbSkKCiMnIAojJyBUaGVyZSBpcyBhIHBvc2l0aXZlIHJlbGF0aW9uc2hpcC4gV2UgY2FuIGNhbGN1bGF0ZSB0aGUgZXhhY3QgbnVtZXJpY2FsIG5hdHVyZSBvZiB0aGF0IHJlbGF0aW9uc2hpcCBhcyBmb2xsb3dzOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbW9kZWwxIDwtIGxtKGZ0dHJ1bXAxIH4gYWdlLCBkYXRhID0gYW5lcykKCiMnIAojJyBXZSBzdGFydCBieSBzcGVjaWZ5aW5nIGFuIG9iamVjdCBpbnRvIHdoaWNoIHdlIHN0b3JlIHRoZSByZXN1bHRzLiBUaGVuIHdlIGNhbGwgYGxtYCB3aGljaCBtZWFucyBsaW5lYXIgbW9kZWwuIE91ciBkZXBlbmRlbnQgdmFyaWFibGUgYGZ0dHJ1bXAxYCBpcyBsaXN0ZWQgZmlyc3QsIGFuZCB0aGVuIGFmdGVyIGEgdGlsZGUgdGhlIGluZGVwZW5kZW50IHZhcmlhYmxlLCBgYWdlYC4gRmluYWxseSwgd2UgdGVsbCBSIHdoaWNoIGRhdGEgc2V0IHRvIHVzZS4gV2UgY2FuIHRoZW4gcHJpbnQgdGhlIHJlc3VsdCwgYnkgY2FsbGluZyBgbW9kZWwxYC4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCm1vZGVsMQoKIycgCiMnIEhvdyB3b3VsZCB3ZSBpbnRlcnByZXQgdGhlc2UgcmVzdWx0cz8KIycgCiMnIC0gQXQgYW4gYWdlIG9mIHplcm8sIGEgcGVyc29uIHdvdWxkIHJhdGUgVHJ1bXAgYXQgMzEuNjggKm9uIGF2ZXJhZ2UqLiBUaGlzIG9mIGNvdXJzZSBtYWtlcyBsaXR0bGUgc2Vuc2UgaW4gYW55dGhpbmcgYnV0IGEgdGhlb3JldGljYWwgLyBtYXRoZW1hdGljYWwgY29uc2lkZXJhdGlvbi4gCiMnIC0gV2l0aCBldmVyeSBhZGRpdGlvbmFsIHllYXIgb2YgYWdlLCBhIHBlcnNvbiB3b3VsZCByYXRlIFRydW1wIDAuMjIgcG9pbnRzIGhpZ2hlciAqb24gYXZlcmFnZSouCiMnIAojJyBCdXQgYXJlIHRoZXNlIGZpbmRpbmdzIHNpZ25pZmljYW50IGF0IGFuIGFjY2VwdGFibGUgc2lnbmlmaWNhbmNlIGxldmVsPyBMZXQncyBmaW5kIG91dCwgYnkgZ2V0dGluZyBhIG1vcmUgZGV0YWlsZWQgb3V0cHV0OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kc3VtbWFyeShtb2RlbDEpCgojJyAKIycgT0ssIHRoZXJlIGlzIGEgbG90IG1vcmUgaGVyZSwgYW5kIGl0IGlzIHdvcnRoIHBhdXNpbmcgdG8gZ28gdGhyb3VnaCB0aGlzIHN0ZXAgYnkgc3RlcC4gRmlyc3QsIFIgcmVtaW5kcyB1cyBvZiB0aGUgYWN0dWFsIGZvcm11bGEgd2UgaGF2ZSB1c2VkIHRvIGVzdGltYXRlIHRoZSBtb2RlbDoKIycgCiMnIAojJyAKIycgCiMnIAojJyBJIGFtIGlnbm9yaW5nIHRoZSBzZWN0aW9uIG9uIHJlc2lkdWFscywgYXMgd2UgZG9uJ3QgbmVlZCB0byBtYWtlIG91ciBsaWZlIG1vcmUgZGlmZmljdWx0IHRoYW4gaXQgbmVlZHMgdG8gYmUuIE5vdyBjb21lIHRoZSBjb2VmZmljaWVudHM6CiMnIAojJyAKIycgCiMnIAojJyBUaGUgc2l6ZSBhbmQgZGlyZWN0aW9uIGlzIG9mIGNvdXJzZSB0aGUgc2FtZSBhcyBpbiBvdXIgcHJldmlvdXMgb3V0cHV0LCBidXQgdGhpcyBvdXRwdXQgbm93IGNvbnRhaW5zIHNvbWUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3RhbmRhcmQgZXJyb3IsIHRoZSByZXN1bHRpbmcgdC12YWx1ZSwgYW5kIHRoZSBwLXZhbHVlLiBSIGlzIHZlcnkgaGVscGZ1bCBoZXJlLCBpbiB0aGF0IGl0IG9mZmVycyB1cyBhIHZhcnlpbmcgYW1vdW50IG9mIGFzdGVyaXNrcyBhY2NvcmRpbmcgdG8gZGlmZmVyZW50LCBjb21tb25seSBhY2NlcHRlZCBsZXZlbHMgb2Ygc2lnbmlmaWNhbmNlLiAwLjA1IGlzIHN0YW5kYXJkIHByYWN0aWNlIGluIHRoZSBzb2NpYWwgc2NpZW5jZXMsIHNvIHdlIHdpbGwgYWNjZXB0IGFueXRoaW5nIHdpdGggb25lLCBvciBtb3JlIGFzdGVyaXNrcy4gQm90aCBvdXIgaW50ZXJjZXB0IGFuZCB0aGUgc2xvcGUgY29lZmZpY2llbnQgYXJlIHNpZ25pZmljYW50IGF0IGEgOTUlIGNvbmZpZGVuY2UgbGV2ZWwsIHNvIHdlIGhhdmUgc2hvd24gdGhhdCB0aGVyZSBpcyBhIHN0YXRpc3RpY2FsIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGFnZSBhbmQgcmF0aW5ncyBmb3IgVHJ1bXAuIAojJyAKIycgSSBhbSBvbWl0dGluZyB0aGUgcmVzaWR1YWwgc3RhbmRhcmQgZXJyb3IgZm9yIHRoZSBzYW1lIHJlYXNvbiBhcyBiZWZvcmUsIGJ1dCBsZXQgdXMgbG9vayBhdCB0aGUgbW9kZWwgZml0IGluZGljYXRvcnMuCiMnIAojJyAKIycgCiMnIAojJyBNdWx0aXBsZSBSLVNxdWFyZWQgKGFrYSAkUl57Mn0kKSB0ZWxscyB1cyBob3cgbXVjaCB2YXJpYXRpb24gaW4gdGhlIGRlcGVuZGVudCB2YXJpYWJsZSBgZnR0cnVtcDFgIGlzIGV4cGxhaW5lZCB0aHJvdWdoIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBgYWdlYC4gJFJeezJ9JCBydW5zIGJldHdlZW4gMCBhbmQgMSwgd2hlcmUgMSBpcyBlcXVhbCB0byAxMDAlIG9mIHRoZSB2YXJpYXRpb24uIEluIG91ciBjYXNlLCB3ZSBoYXZlIGV4cGxhaW5lZCBhIG1lcmUgMC4wOSUgb2YgdGhlIFRydW1wIHJhdGluZy4gVGhpcyBpcyBsb3VzeSwgYW5kIHdlIGNhbiBkbyBhIGxvdCBiZXR0ZXIgdGhhbiB0aGF0LiBOZXZlciBleHBlY3QgYW55dGhpbmcgbmVhciAxMDAlIHVubGVzcyB5b3Ugd29yayB3aXRoIGEgdG95IGRhdGEgc2V0IGZyb20gYSB0ZXh0IGJvb2suIElmIHlvdSBnZXQgNjAtNzAlIHlvdSBjYW4gYmUgdmVyeSBoYXBweS4gSSB3aWxsIHJldHVybiB0byBBZGp1c3RlZCAkUl57Mn0kIGluIHRoZSBTZWN0aW9uIG9uIFtNdWx0aXBsZSBMaW5lYXIgUmVncmVzc2lvbl0uIAojJyAKIycgVGhlIEYtc3RhdGlzdGljIGF0IHRoZSBlbmQ6CiMnIAojJyAKIycgCiMnIGlzIGEgdGVzdCB3aXRoIHRoZSBudWxsIGh5cG90aGVzaXMgdGhhdCBhbGwgY29lZmZpY2llbnRzIG9mIHRoZSBtb2RlbCBhcmUgam9pbnRseSB6ZXJvLiBJbiBvdXIgY2FzZSwgd2UgY2FuIHJlamVjdCB0aGlzIG51bGwgaHlwb3RoZXNpcyB2ZXJ5IHNvdW5kbHksIGFzIHRoZSBwLXZhbHVlIGlzIGZhciBiZWxvdyB0aGUgY29tbW9ubHkgYWNjZXB0ZWQgbWF4aW11bSBvZiA1JS4gCiMnIAojJyAKIycgCiMnICMjIyMjIENhdGVnb3JpY2FsIEluZGVwZW5kZW50IFZhcmlhYmxlcyAoYWthICdEdW1taWVzJykgCgojJyAKIycgT2Z0ZW4gdmFyaWFibGVzIGFyZSBjYXRlZ29yaWNhbC4gT25lIHN1Y2ggZXhhbXBsZSBpcyB0aGUgdmFyaWFibGUgYHNleGAgd2hpY2ggaGFzIHR3byBjYXRlZ29yaWVzOiBtYWxlIGFuZCBmZW1hbGUuIAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kc3VtbWFyeShhbmVzJHNleCkKdGFibGUoYW5lcyRzZXgpCgojJyAKIycgCiMnIFR1cm4gdGhpcyBpbnRvIGEgZmFjdG9yIHZhcmlhYmxlIGFuZCBhc3NpZ24gdGVsbGluZyBsYWJlbHMKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmFuZXMkc2V4IDwtIGZhY3RvcihhbmVzJHNleCwgbGFiZWxzID0gYygiTWFsZSIsICJGZW1hbGUiKSkKCiMnIAojJyBDaGVjayBpZiB0aGlzIGhhcyB3b3JrZWQ6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp0YWJsZShhbmVzJHNleCkKCiMnIAojJyBMZXQncyBlc3RpbWF0ZSB0aGUgbW9kZWw6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQptb2RlbDIgPC0gbG0oZnR0cnVtcDEgfiBzZXgsIGRhdGEgPSBhbmVzKQpzdW1tYXJ5KG1vZGVsMikKCiMnIAojJyBIb3cgZG8gd2UgaW50ZXJwcmV0IHRoaXM/CiMnIAojJyAtIExldCdzIGRvIHRoZSBzbG9wZSBjb2VmZmljaWVudCBmaXJzdDogYSB3b21lbiB3b3VsZCByYXRlIFRydW1wIGF0IDcuMTYgcG9pbnRzIGxlc3MgdGhhbiBhIG1hbiBvbiBhdmVyYWdlLiBUaGUgaW50ZXJwcmV0YXRpb24gb2YgYSBkdW1teSB2YXJpYWJsZSBjb2VmZmljaWVudCBpcyBkb25lIHdpdGggcmVnYXJkcyB0byB0aGUgcmVmZXJlbmNlIGNhdGVnb3J5LiBJbiBvdXIgY2FzZSB0aGlzIGlzICJtYWxlIi4gU28gdGhlIGVmZmVjdCB3ZSBvYnNlcnZlIGhlcmUgaXMgZXF1aXZhbGVudCBvZiBtb3ZpbmcgZnJvbSAibWFsZSIgdG8gImZlbWFsZSIgYW5kIHRoYXQgZWZmZWN0IGFkZHMgNy4xNiBwb2ludHMuCiMnIC0gVGhpcyBnaXZlcyB5b3UgYW4gaW5kaWNhdGlvbiBvZiBob3cgdG8gaW50ZXJwcmV0IHRoZSBpbnRlcmNlcHQgaW4gdGhpcyBjYXNlOiBUaGUgdmFsdWUgZGlzcGxheWVkIGlzIGhvdyBtZW4gd291bGQgcmF0ZSBUcnVtcCBvbiBhdmVyYWdlLCBuYW1lbHkgYXQgNDYuMTYgcG9pbnRzLiBBbGwgb2YgdGhpcyBpcyBzaWduaWZpY2FudCBhdCBhIDk1JSBjb25maWRlbmNlIGxldmVsLiAKIycgCiMnIFRoaXMgZWZmZWN0IGNvcnJvYm9yYXRlcyB0aGUgaHlwb3RoZXNpcyBhZHZhbmNlZCBieSBJbmdsZWhhcnQgYW5kIE5vcnJpcywgYnV0IHRoZSByZXN1bHRzIGFyZSBub3QgZGlzcGxheWVkIGluIHRoZSBtb3N0IGVsZWdhbnQgd2F5LiBUaGUgc2V4IHRoZXNlIGF1dGhvcnMgbWFkZSBhIHN0YXRlbWVudCBhYm91dCB3ZXJlIG1lbi4gU28gd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHJlZmVyZW5jZSBjYXRlZ29yeSB0byAiZmVtYWxlIi4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmFuZXMgPC0gYW5lcyAlPiUKICBtdXRhdGUoc2V4ID0gcmVsZXZlbChzZXgsIHJlZiA9ICJGZW1hbGUiKSkKCiMnIAojJyBXaGVuIHdlIHJlLWVzdGltYXRlIHRoZSBtb2RlbCwgd2UgZ2V0IHRoZSBlZmZlY3QgZGlzcGxheWVkIGRpcmVjdGx5OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbW9kZWwyIDwtIGxtKGZ0dHJ1bXAxIH4gc2V4LCBkYXRhID0gYW5lcykKc3VtbWFyeShtb2RlbDIpCgojJyAKIycgCiMnIFdoaWxzdCBtYW55IGNhdGVnb3JpY2FsIHZhcmlhYmxlcyBhcmUgYmluYXJ5LCBvZiBjb3Vyc2Ugbm90IGFsbCBvZiB0aGVtIGFyZS4gU28gaG93IGRvZXMgdGhpcyB3b3JrIHdpdGggYSBjYXRlZ29yaWNhbCB2YXJpYWJsZSB3aXRoIDMgb3IgbW9yZSBsZXZlbHM/CiMnIAojJyBUaGUgbmV4dCBkZXRlcm1pbmFudCBtZW50aW9uZWQgaW4gSW5nbGVoYXJ0IGFuZCBOb3JyaXMnIHBhcGVyIGlzIGVkdWNhdGlvbi4gV2UgY2FuIG9idGFpbiBpbmZvcm1hdGlvbiBhYm91dCBhIHJlc3BvbmRlbnQncyBsZXZlbCBvZiBlZHVjYXRpb24gd2l0aCB0aGUgdmFyaWFibGUgYGVkdWNgLiAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnN1bW1hcnkoYW5lcyRlZHVjKQp0YWJsZShhbmVzJGVkdWMpCgojJyAKIycgVGhpcyBpcyBub3QgdGVycmlibHkgdGVsbGluZyBpbiBpdHNlbGYsIHlldCwgc28gbGV0J3MgaGF2ZSBhIGxvb2sgYXQgdGhlIGNvZGVib29rOgojJyAKIycgCiMnIHt3aWR0aD02MCV9CiMnIAojJyBUaGUgZmlyc3Qgc3RlcCBpcywgYXMgYmVmb3JlIHRvIHJlY29kZSB0aGlzIHZhcmlhYmxlIGludG8gYSBmYWN0b3IgdmFyaWFibGU6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQphbmVzJGVkdWMgPC0gZmFjdG9yKGFuZXMkZWR1YykKCiMnIAojJyBFaWdodCBsZXZlbHMgYXJlIHRvbyBtYW55IGhlcmUgdG8gZG8gYW55IG1lYW5pbmdmdWwgYW5hbHlzaXMsIGFuZCB0d28gd291bGQgYmUgdG9vIHJlZHVjdGlvbmlzdC4gRm9yIHNha2Ugb2Ygc2ltcGxpY2l0eSwgbGV0J3MgZ28gd2l0aCB0aHJlZTogbG93LCBtZWRpdW0gYW5kIGhpZ2ggZWR1Y2F0aW9uLiBXZSByZWNvZGUgaW50byBhbiBvcmRlcmVkIGZhY3RvciBhcyBmb2xsb3dzOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KYW5lcyA8LSBhbmVzICU+JQogIG11dGF0ZShlZHVjX2ZhYyA9IHJlY29kZShlZHVjLCAnMSc9ImxvdyIsIAogICAgICAgICAgICAgICAgICAgICAgICcyJz0gImxvdyIsCiAgICAgICAgICAgICAgICAgICAgICAgJzMnPSAibG93IiwKICAgICAgICAgICAgICAgICAgICAgICAnNCcgPSAibWVkaXVtIiwKICAgICAgICAgICAgICAgICAgICAgICAnNScgPSAibWVkaXVtIiwKICAgICAgICAgICAgICAgICAgICAgICAnNicgPSAiaGlnaCIsCiAgICAgICAgICAgICAgICAgICAgICAgJzcnID0gImhpZ2giLAogICAgICAgICAgICAgICAgICAgICAgICc4JyA9ICJoaWdoIikpCgojJyAKIycgQ2hlY2sgdGhlIHJlc3VsdHM6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp0YWJsZShhbmVzJGVkdWNfZmFjKQoKIycgCiMnIAojJyBBbmQgd2UgYXJlIHJlYWR5IHRvIGdvOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbW9kZWwzIDwtIGxtKGZ0dHJ1bXAxIH4gZWR1Y19mYWMsIGRhdGEgPSBhbmVzKQpzdW1tYXJ5KG1vZGVsMykKCiMnIAojJyBXaGlsc3QgdGhlIGludGVyY2VwdCBpcyBzdGF0aXN0aWNhbGx5IHNpZ25pZmljYW50LCB0aGUgc2xvcGUgY29lZmZpY2llbnRzIGFyZSBub3QuIFRoZXJlZm9yZSwgd2UgY2FuIGNvbmNsdWRlIHRoYXQgZWR1Y2F0aW9uIGhhcyBubyBzdGF0aXN0aWNhbCBpbmZsdWVuY2Ugb24gVHJ1bXAncyBhcHByb3ZhbCByYXRpbmdzLiAKIycgCiMnIE5vdGUsIHRoYXQgYXMgaW4gdGhlIHNleCBleGFtcGxlIGJlZm9yZSwgUiBoYXMgY2hvc2UgdGhlIGZpcnN0IGxldmVsIG9mIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBhcyB0aGUgcmVmZXJlbmNlIGNhdGVnb3J5LiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2UgdGhpcywgeW91IGNhbiBkbyBzbyBpbiB0aGUgc2FtZSBtYW5uZXIgYXMgYmVmb3JlLiBZb3UgY2FuIGFsc28gY2hlY2sgd2hpY2ggbGV2ZWwgUiBoYXMgdXNlZCBhcyB0aGUgcmVmZXJlbmNlIGNhdGVnb3J5IHdpdGggdGhlIGBjb250cmFzdHMoKWAgY29tbWFuZC4gSGVyZToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnRyYXN0cyhhbmVzJGVkdWNfZmFjKQoKIycgCiMnIAojJyAjIyMKIycgCiMnIAojJyAKIycgCiMnICMjIFJlZmVyZW5jZXMKIycgCiMnIEluZ2xlaGFydCwgUm9uYWxkIEYuIGFuZCBOb3JyaXMsIFBpcHBhICgyMDE2KSBUcnVtcCwgQnJleGl0LCBhbmQgdGhlIFJpc2Ugb2YgUG9wdWxpc206IEVjb25vbWljIEhhdmUtTm90cyBhbmQgQ3VsdHVyYWwgQmFja2xhc2guIEhLUyBXb3JraW5nIFBhcGVyIE5vLiBSV1AxNi0wMjYsIEF2YWlsYWJsZSBhdCBTU1JOOiBodHRwczovL3Nzcm4uY29tL2Fic3RyYWN0PTI4MTg2NTkgb3IgaHR0cDovL2R4LmRvaS5vcmcvMTAuMjEzOS9zc3JuLjI4MTg2NTkKAA==&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;09-ols.R&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter script</button>
<button class="btn btn-default" onclick="fetch(&#39;data:text/x-markdown;base64,LS0tCm91dHB1dDogaHRtbF9kb2N1bWVudAotLS0KIyBMaW5lYXIgUmVncmVzc2lvbiB7I29sc30KCgoKCiMjIENvbnRlbnQKCjxjZW50ZXI+IF9fU2l0ZSBzdGlsbCB1bmRlciBjb25zdHJ1Y3Rpb24hX18gPC9jZW50ZXI+CgojIyMgSW50cm9kdWN0aW9uIHstfQoKUmVncmVzc2lvbiBpcyB0aGUgcG93ZXIgaG91c2Ugb2YgdGhlIHNvY2lhbCBzY2llbmNlcy4gSXQgaXMgd2lkZWx5IGFwcGxpZWQgYW5kIHRha2VzIG1hbnkgZGlmZmVyZW50IGZvcm1zLiBJbiB0aGlzIENoYXB0ZXIgd2UgYXJlIGdvaW5nIHRvIGV4cGxvcmUgdGhlIGxpbmVhciB2YXJpYW50LCBhbHNvIGNhbGxlZCBPcmRpbmFyeSBMZWFzdCBTcXVhcmVzIChPTFMpLiBUaGlzIHR5cGUgb2YgcmVncmVzc2lvbiBpcyB1c2VkIGlmIG91ciBkZXBlbmRlbnQgdmFyaWFibGUgaXMgY29udGludW91cy4gSW4gdGhlIGZvbGxvd2luZyBDaGFwdGVyIHdlIHdpbGwgaGF2ZSBhIGxvb2sgYXQgcmVncmVzc2lvbiB3aXRoIGEgYmluYXJ5IGRlcGVuZGVudCB2YXJpYWJsZSBhbmQgdGhlIGNhbGN1bGF0aW9uIG9mIHRoZSBwcm9iYWJpbGl0eSB0byBmYWxsIGludG8gZWl0aGVyIG9mIHRob3NlIHR3byBjYXRlZ29yaWVzLiBCdXQgbGV0J3MgZmlyc3QgdHVybiB0byBsaW5lYXIgcmVncmVzc2lvbi4KCiMjIyBCaXZhcmlhdGUgTGluZWFyIFJlZ3Jlc3Npb24gey19CgojIyMjIFRoZSBUaGVvcnkgey19CgpSZWdyZXNzaW9uIGlzIG5vdCBvbmx5IGFibGUgdG8gaWRlbnRpZnkgdGhlIGRpcmVjdGlvbiBvZiBhIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGFuIGluZGVwZW5kZW50IGFuZCBhIGRlcGVuZGVudCB2YXJpYWJsZSwgaXQgaXMgYWxzbyBhYmxlIHRvIHF1YW50aWZ5IHRoZSBlZmZlY3QuIExldCB1cyBjaG9vc2UgYFlgIGFzIG91ciBkZXBlbmRlbnQgdmFyaWFibGUsIGFuZCBgWGAgYXMgb3VyIGluZGVwZW5kZW50IHZhcmlhYmxlLiBXZSBoYXZlIHNvbWUgZGF0YSB3aGljaCB3ZSBhcmUgZGlzcGxheWluZyBpbiBhIHNjYXR0ZXIgcGxvdDoKCgp7d2lkdGg9NzUlfQoKV2l0aCBhIGxpdHRsZSBnb29kd2lsbCB3ZSBjYW4gYWxyZWFkeSBzZWUgdGhhdCB0aGVyZSBpcyBhIHBvc2l0aXZlIHJlbGF0aW9uc2hpcDogYXMgYFhgIGluY3JlYXNlcywgYFlgIGluY3JlYXNlcywgYXMgd2VsbC4gTm93LCBpbWFnaW5lIHRha2luZyBhIHJ1bGVyIGFuZCB0cnlpbmcgdG8gZml0IGluIGEgbGluZSB0aGF0IGJlc3QgZGVzY3JpYmVzIHRoZSByZWxhdGlvbnNoaXAgZGVwaWN0ZWQgYnkgdGhlc2UgcG9pbnRzLiBUaGlzIHdpbGwgYmUgb3VyIHJlZ3Jlc3Npb24gbGluZS4gCgpUaGUgcG9zaXRpb24gb2YgYSBsaW5lIGluIGEgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgdXN1YWxseSBkZXNjcmliZWQgYnkgdHdvIGl0ZW1zOiB0aGUgaW50ZXJjZXB0IHdpdGggdGhlIFktYXhpcywgYW5kIHRoZSBzbG9wZSBvZiB0aGUgbGluZS4gVGhlIHNsb3BlIGlzIGRlZmluZWQgYXMgcmlzZSBvdmVyIHJ1biwgYW5kIGluZGljYXRlcyBieSBob3cgbXVjaCBZIGluY3JlYXNlcyAob3IgZGVjcmVhc2VzIGlzIHRoZSBzbG9wZSBpcyBuZWdhdGl2ZSkgaWYgd2UgYWRkIGFuIGFkZGl0aW9uYWwgdW5pdCBvZiBYLiBJbiB0aGUgbm90YXRpb24gd2hpY2ggZm9sbG93cyB3ZSB3aWxsIGNhbGwgdGhlIGludGVyY2VwdCAkXGJldGFfezB9JCwgYW5kIHRoZSBzbG9wZSAkXGJldGFfezF9JC4gSXQgd2lsbCBiZSBvdXIgdGFzayB0byBlc3RpbWF0ZSB0aGVzZSB2YWx1ZXMsIGFsc28gY2FsbGVkIGNvZWZmaWNpZW50cy4gWW91IGNhbiBzZWUgdGhpcyBkZXBpY3RlZCBncmFwaGljYWxseSBoZXJlOgoKCnt3aWR0aD03NSV9CgoKX19Qb3B1bGF0aW9uX18KCldlIHdpbGwgZmlyc3QgYXNzdW1lIGhlcmUgdGhhdCB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSBwb3B1bGF0aW9uIGFuZCBub3QgYSBzYW1wbGUuIFRoZSByZWdyZXNzaW9uIGxpbmUgd2UgaGF2ZSBqdXN0IGRyYXduIHdvdWxkIHRoZW4gYmUgY2FsbGVkIHRoZSBQb3B1bGF0aW9uIFJlZ3Jlc3Npb24gRnVuY3Rpb24gKFBSRikgYW5kIGlzIHdyaXR0ZW4gYXMgZm9sbG93czoKClxiZWdpbntlcXVhdGlvbn0KRShZfFhfe2l9KSA9IFxiZXRhX3swfSArIFxiZXRhX3sxfSBYX3tpfQooXCNlcTpwcmYpClxlbmR7ZXF1YXRpb259CgpCZWNhdXNlIHdlciBhcmUgZGVhbGluZyB3aXRoIHRoZSBwb3B1bGF0aW9uLCB0aGUgbGluZSBpcyB0aGUgZ2VvbWV0cmljIGxvY3VzIG9mIGFsbCB0aGUgZXhwZWN0ZWQgdmFsdWVzIG9mIHRoZSBkZXBlbmRlbnQgdmFyaWFibGUgYFlgLCBnaXZlbiB0aGUgdmFsdWVzIG9mIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZXMgYFhgLiBUaGlzIGhhcyB0byBkbyB3aXRoIHRoZSBhcHByb2FjaCB0byBzdGF0aXN0aWNzIHRoYXQgdW5kZXJwaW5zIHRoaXMgbW9kdWxlOiBmcmVxdWVudGlzdCBzdGF0c2N0aWNzIChhcyBvcHBvc2VkIHRvIEJheWVzaWFuIHN0YXRpc3RpY3MpLiBXZSBhcmUgdW5kZXJzdGFuZGluZyBhbGwgdmFsdWVzIHRvIGJlICJpbiB0aGUgbG9uZyBydW4iLCBhbmQgaWYgd2Ugc2FtcGxlZCByZXBlYXRlZGx5IGZyb20gYSBwb3B1bGF0aW9uLCB0aGVuIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyB0aGUgdmFsdWUgd2Ugd291bGQsIHdlbGwsIGV4cGVjdCB0byBzZWUgbW9zdCBvZnRlbiBpbiB0aGUgbG9uZyBydW4uCgpUaGUgcmVncmVzc2lvbiBsaW5lIGlzIG5vdCBpbnRlcmNlcHRpbmcgd2l0aCBhbGwgb2JzZXJ2YXRpb25zLiBPbmx5IHR3byBhcmUgbG9jYXRlZCBvbiB0aGUgbGluZSwgYW5kIGFsbCBvdGhlcnMgaGF2ZSBhIGxpdHRsZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZW0gYW5kIHRoZSBQUkYuIFRoZXNlIGRpc3RhbmNlcyBiZXR3ZWVuICRFKFl8WF97aX0pJCBhbmQgJFlfe2l9JCBhcmUgY2FsbGVkIGVycm9yIHRlcm1zIGFuZCBhcmUgZGVub3RlZCBhcyAkXGVwc2lsb25fe2l9JC4gCgoKe3dpZHRoPTc1JX0KClRvIGRlc2NyaWJlIHRoZSBvYnNlcnZhdGlvbnMgJFlfe2l9JCB3ZSB0aGVyZWZvcmUgbmVlZCB0byBhZGQgdGhlIGVycm9yIHRlcm1zIHRvIGVxdWF0aW9uIFxAcmVmKGVxOnByZik6CgpcYmVnaW57ZXF1YXRpb259Cllfe2l9ID0gXGJldGFfezB9ICsgXGJldGFfezF9IFhfe2l9ICsgXGVwc2lsb25fe2l9CihcI2VxOnBvcCkKXGVuZHtlcXVhdGlvbn0KCl9fU2FtcGxlX18KCkluIHJlYWxpdHkgd2UgaGFyZGx5IGV2ZXIgaGF2ZSB0aGUgcG9wdWxhdGlvbiBpbiB0aGUgc29jaWFsIHNjaWVuY2VzLCBhbmQgd2UgZ2VuZXJhbGx5IGhhdmUgdG8gY29udGVuZCB3aXRoIGEgc2FtcGxlLiBOb25ldGhlbGVzcywgd2UgY2FuIGNvbnN0cnVjdCBhIHJlZ3Jlc3Npb24gbGluZSBvbiB0aGUgYmFzaXMgb2YgdGhlIHNhbXBsZSwgdGhlIFNhbXBsZSBSZWdyZXNzaW9uIEZ1bmN0aW9uIChTUkYpLiBJdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IHRoZSBuYXR1cmUgb2YgdGhlIHJlZ3Jlc3Npb24gbGluZSB3ZSBkZXJpdmUgZnJvbXQgaGUgc2FtcGxlIHdpbGwgYmUgZGlmZmVyZW50IGZvciBldmVyeSBzYW1wbGUsIGFzIGVhY2ggc2FtcGxlIHdpbGwgaGF2ZSBvdGhlciB2YWx1ZXMgaW4gaXQuIFJhcmVseSwgdGhlIFBSRiBpcyB0aGUgc2FtZSBhcyB0aGUgU1JGIC0gYnV0IHdlIGFyZSBhbHdheXMgdXNpbmcgdGhlIFNSRiB0byBlc3RpbWF0ZSB0aGUgUFJGLiAgCgpJbiBvcmRlciB0byBmbGFnIHRoaXMgdXAgaW4gdGhlIG5vdGF0aW9uIHdlIHVzZSB0byBzcGVjaWZ5IHRoZSBTUkYsIHdlIGFyZSB1c2luZyBsaXR0bGUgaGF0cyBvdmVyIGV2ZXJ5dGhpbmcgd2UgZXN0aW1hdGUsIGxpa2UgdGhpczoKClxiZWdpbntlcXVhdGlvbn0KXGhhdHtZfV97aX0gPSBcaGF0e1xiZXRhfV97MH0gKyBcaGF0e1xiZXRhfV97MX0gWF97aX0KKFwjZXE6c3JmKQpcZW5ke2VxdWF0aW9ufQoKCkFuYWxvZ291c2x5LCB3ZSB3b3VsZCB3b3VsZCBkZXNjcmliZSB0aGUgb2JzZXJ2YXRpb25zICRZX3tpfSQgYnkgYWRkaW5nIHRoZSBlc3RpbWF0ZWQgZXJyb3IgdGVybXMgJFxoYXR7XGVwc2lsb259X3tpfSQgdG8gdGhlIGVxdWF0aW9uLgoKXGJlZ2lue2VxdWF0aW9ufQpZX3tpfSA9IFxoYXR7XGJldGF9X3swfSArIFxoYXR7XGJldGF9X3sxfSBYX3tpfSArIFxoYXR7XGVwc2lsb259X3tpfQpcZW5ke2VxdWF0aW9ufQoKVGhlIGZvbGxvd2luZyBncmFwaCB2aXNkdWFsaXNlZCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gYW4gb2JzZXJ2YXRpb24sIHRoZSBQUkYsIHRoZSBTUkYgYW5kIHRoZSByZXNwZWN0aXZlIGVycm9yIHRlcm1zLgoKCnt3aWR0aD03NSV9CgoKCk9yZGluYXJ5IExlYXN0IFNxdWFyZXMgKE9MUykKCldoZW4geW91IGV5ZS1iYWxsZWQgdGhlIHNjYXR0ZXIgcGxvdCAgYXQgdGhlIHN0YXJ0IG9mIHRoaXMgQ2hhcHRlciBpbiBvcmRlciB0byBmaXQgYSBsaW5lIHRocm91Z2ggaXQsIHlvdSBoYXZlIHN1Yi1jb25zY2lvdXNseSBkb25lIHNvIGJ5IG1pbmltaXNpbmcgdGhlIGRpc3RhbmNlIGJldHdlZW4gZWFjaCBvZiB0aGUgb2JzZXJ2YXRpb25zIGFuZCB0aGUgbGluZS4gT3IgcHV0IGRpZmZlcmVudGx5LCB5b3UgaGF2ZSB0cmllZCB0byBtaW5pbWlzZSB0aGUgZXJyb3IgdGVybSAkXGhhdHtcZXBzaWxvbn1fe2l9JC4gVGhpcyBpcyBiYXNpY2FsbHkgdGhlIGludHVpdGlvbiBiZWhpbmQgZml0dGluZyB0aGUgU1JGIG1hdGhlbWF0aWNhbGx5LCB0b28uIFdlIHRyeSB0byBtaW5pbWlzZSB0aGUgc3VtIG9mIGFsbCBlcnJvciB0ZXJtcywgc28gdGhhdCBhbGwgb2JzZXJ2YXRpb25zIGFyZSBhcyBjbG9zZSB0byB0aGUgcmVncmVzc2lvbiBsaW5lIGFzIHBvc3NpYmxlLiBUaGUgb25seSBwcm9ibGVtIHRoYXQgd2UgZW5jb3VudGVyIHdoZW4gZG9pbmcgdGhpcyBpcyB0aGF0IHRoZXNlIGRpc3RhbmNlcyB3aWxsIGFsd2F5cyBzdW0gdXAgdG8gemVyby4gCgogQnV0IHNpbWlsYXIgdG8gY2FsY3VsYXRpbmcgdGhlIHN0YW5kYXJkIGRldmlhdGlvbiB3aGVyZSB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgb2JzZXJ2YXRpb25zIGFuZCB0aGUgbWVhbiB3b3VsZCBzdW0gdXAgdG8gemVybyAoZXNzZW50aWFsbHkgd2UgYXJlIGRvaW5nIHRoZSBzYW1lIHRoaW5nIGhlcmUpLCB3ZSBzaW1wbHkgc3F1YXJlIHRob3NlIGRpc3RhbmNlcy4gU28gd2UgYXJlIG5vdCBtaW5pbWlzaW5nIHRoZSBzdW0gb2YgZGlzdGFuY2VzIGJldHdlZW4gb2JzZXJ2YXRpb25zIGFuZCB0aGUgcmVncmVzc2lvbiBsaW5lLCBidXQgdGhlIHN1bSBvZiB0aGUgX19zcXVhcmVkX18gZGlzdGFuY2VzIGJldHdlZW4gdGhlIG9ic2VydmF0aW9ucyBhbmQgdGhlIHJlZ3Jlc3Npb24gbGluZS4gR3JhcGhpY2FsbHksIHdlIHdvdWxkIGVuZCB1cCB3aXRoIGxpdHRsZSBzcXVhcmVzIG1hZGUgb3V0IG9mIGVhY2ggJFxoYXR7XGVwc2lsb259X3tpfSQgd2hpY2ggZ2l2ZXMgdGhlIHRoZSBtZXRob2QgaXRzIG5hbWU6IE9yZGluYXJ5IExlYXN0IFNxdWFyZXMgKE9MUykuIAoKCgp7d2lkdGg9NzUlfQoKCldlIGFyZSBub3cgcmVhZHkgdG8gYXBwbHkgdGhpcyBzdHVmZiB0byBhIHJlYWwtd29ybGQgZXhhbXBsZSEKCgoKIyMjIyBUaGUgQXBwbGljYXRpb24gey19CgpJbiB0aGUgYXBwbGllZCBwYXJ0IG9mIHRoaXMgQ2hhcHRlciwgd2UgYXJlIGdvaW5nIHRvIG1vZGVsIHRoZSBmZWVsaW5ncyB0b3dhcmRzIERvbmFsZCBUcnVtcCBpbiB0aGUgbGVhZC11cCB0byB0aGUgcHJlc2lkZW50aWFsIGVsZWN0aW9uIDIwMjAuIERhdGEgZm9yIHRoaXMgaW52ZXN0aWdhdGlvbiBhcmUgdGFrZW4gZnJvbSAgaHR0cHM6Ly9lbGVjdGlvbnN0dWRpZXMub3JnL2RhdGEtY2VudGVyLzIwMjAtZXhwbG9yYXRvcnktdGVzdGluZy1zdXJ2ZXkvIFBsZWFzZSBmb2xsb3cgdGhpcyBsaW5rIGFuZCBkb3dubG9hZCB0aGUgIjIwMjAgRXhwbG9yYXRvcnkgVGVzdGluZyBTdXJ2ZXkiIGFuZCBwb3AgaXQgaW50byBhIHdvcmtpbmcgZGlyZWN0b3J5LiAKCldlIGNhbiB0aGVuIGxvYWQgdGhlIEFORVMgZGF0YSBzZXQ6CgpgYGB7cn0KYW5lcyA8LSByZWFkLmNzdigiZGF0YS9hbmVzLmNzdiIpCmBgYAoKCmBgYHtyfQpzdW1tYXJ5KGFuZXMkZnR0cnVtcDEpCmBgYAoKVGhpcyBpcyBubyBnb29kLCBhcyB0aGUgdmFyaWFibGUgaXMgYm91bmRlZCBiZXR3ZWVuIDAgYW5kIDEwMC4gSW4gZmFjdCA5OTkgaXMgYSBwbGFjZWhvbGRlciBmb3IgbWlzc2luZyBkYXRhIHRocm91Z2hvdXQgdGhlIGRhdGEgc2V0LiBXZSBuZWVkIHRvIHJlcGxhY2UgdGhpcyB3aXRoIE5Bcy4KCmBgYHtyfQphbmVzW2FuZXMgPT0gOTk5XSA8LSBOQQpgYGAKCklmIHdlIGxvb2sgYXQgdGhlIHN1bW1hcnkgYWdhaW4sIGV2ZXJ5dGhpbmcgbG9va3MgZmluZSBub3c6CgpgYGB7cn0Kc3VtbWFyeShhbmVzJGZ0dHJ1bXAxKQpgYGAKCkJ5IHRoZSB3YXksIGhhZCB5b3UganVzdCB3YW50ZWQgdG8gcmVwbGFjZSB0aGlzIGluIG9uZSB2YXJpYWJsZSwgZm9yIGV4YW1wbGUgb25seSBpbiBgZnR0cnVtcDFgLCB5b3UgY291bGQgaGF2ZSBjYWxsZWQ6CgpgYGB7ciBldmFsPUZBTFNFfQphbmVzJGZ0dHJ1bXAxIDwtIHdpdGgoYW5lcywgcmVwbGFjZShmdHRydW1wMSwgZnR0cnVtcDEgPT0gOTk5LCBOQSkpCmBgYAoKTm9ycmlzIGFuZCBJbmdsZWhhcnQgKDIwMTYpIGhhdmUgYXJndWVkIHRoYXQ6Cgo+cG9wdWxpc3Qgc3VwcG9ydCBpbiBFdXJvcGUgaXMgZ2VuZXJhbGx5IHN0cm9uZ2VyIGFtb25nIHRoZSBvbGRlciBnZW5lcmF0aW9uLCBtZW4sIHRoZSBsZXNzIGVkdWNhdGVkLCB0aGUgcmVsaWdpb3VzLCBhbmQgZXRobmljIG1ham9yaXRpZXMsIHBhdHRlcm5zIGNvbmZpcm1pbmcgcHJldmlvdXMgcmVzZWFyY2guCgpMZXQncyBzZWUgaWYgdGhpcyBhbHNvIGFwcGxpZXMgdG8gcHJlc2lkZW50aWFsIGVsZWN0aW9ucyBpbiB0aGUgVVMuIFdlIGZpcnN0IGxvb2sgYXQgdGhlIHF1ZXN0aW9uOiAiRG8gb2xkZXIgcGVvcGxlIHJhdGUgVHJ1bXAgaGlnaGVyIHRoYW4geW91bmdlciBwZW9wbGU/Ii4gT3VyIGluZGVwZW5kZW50IHZhcmlhYmxlcyBpcyBgYWdlYC4KCmBgYHtyfQpzdW1tYXJ5KGFuZXMkYWdlKQpgYGAKCkxldCdzIGV2YWx1YXRlIHRoZSByZWxhdGlvbnNoaXAgdGhyb3VnaCBhIHNjYXR0ZXIgcGxvdCB3aXRoIGEgbGluZSBvZiBiZXN0IGZpdDoKCmBgYHtyIHdhcm5pbmc9RkFMU0UsIG1lc3NhZ2U9RkFMU0V9CmxpYnJhcnkodGlkeXZlcnNlKQoKZ2dwbG90KGFuZXMsIGFlcyh4ID0gYWdlLCB5ID0gZnR0cnVtcDEpKSArCiAgZ2VvbV9wb2ludCgpICsKICBnZW9tX3Ntb290aChtZXRob2QgPSBsbSkKYGBgCgpUaGVyZSBpcyBhIHBvc2l0aXZlIHJlbGF0aW9uc2hpcC4gV2UgY2FuIGNhbGN1bGF0ZSB0aGUgZXhhY3QgbnVtZXJpY2FsIG5hdHVyZSBvZiB0aGF0IHJlbGF0aW9uc2hpcCBhcyBmb2xsb3dzOgoKYGBge3J9Cm1vZGVsMSA8LSBsbShmdHRydW1wMSB+IGFnZSwgZGF0YSA9IGFuZXMpCmBgYAoKV2Ugc3RhcnQgYnkgc3BlY2lmeWluZyBhbiBvYmplY3QgaW50byB3aGljaCB3ZSBzdG9yZSB0aGUgcmVzdWx0cy4gVGhlbiB3ZSBjYWxsIGBsbWAgd2hpY2ggbWVhbnMgbGluZWFyIG1vZGVsLiBPdXIgZGVwZW5kZW50IHZhcmlhYmxlIGBmdHRydW1wMWAgaXMgbGlzdGVkIGZpcnN0LCBhbmQgdGhlbiBhZnRlciBhIHRpbGRlIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSwgYGFnZWAuIEZpbmFsbHksIHdlIHRlbGwgUiB3aGljaCBkYXRhIHNldCB0byB1c2UuIFdlIGNhbiB0aGVuIHByaW50IHRoZSByZXN1bHQsIGJ5IGNhbGxpbmcgYG1vZGVsMWAuCgpgYGB7cn0KbW9kZWwxCmBgYAoKSG93IHdvdWxkIHdlIGludGVycHJldCB0aGVzZSByZXN1bHRzPwoKLSBBdCBhbiBhZ2Ugb2YgemVybywgYSBwZXJzb24gd291bGQgcmF0ZSBUcnVtcCBhdCAzMS42OCAqb24gYXZlcmFnZSouIFRoaXMgb2YgY291cnNlIG1ha2VzIGxpdHRsZSBzZW5zZSBpbiBhbnl0aGluZyBidXQgYSB0aGVvcmV0aWNhbCAvIG1hdGhlbWF0aWNhbCBjb25zaWRlcmF0aW9uLiAKLSBXaXRoIGV2ZXJ5IGFkZGl0aW9uYWwgeWVhciBvZiBhZ2UsIGEgcGVyc29uIHdvdWxkIHJhdGUgVHJ1bXAgMC4yMiBwb2ludHMgaGlnaGVyICpvbiBhdmVyYWdlKi4KCkJ1dCBhcmUgdGhlc2UgZmluZGluZ3Mgc2lnbmlmaWNhbnQgYXQgYW4gYWNjZXB0YWJsZSBzaWduaWZpY2FuY2UgbGV2ZWw/IExldCdzIGZpbmQgb3V0LCBieSBnZXR0aW5nIGEgbW9yZSBkZXRhaWxlZCBvdXRwdXQ6CgpgYGB7cn0Kc3VtbWFyeShtb2RlbDEpCmBgYAoKT0ssIHRoZXJlIGlzIGEgbG90IG1vcmUgaGVyZSwgYW5kIGl0IGlzIHdvcnRoIHBhdXNpbmcgdG8gZ28gdGhyb3VnaCB0aGlzIHN0ZXAgYnkgc3RlcC4gRmlyc3QsIFIgcmVtaW5kcyB1cyBvZiB0aGUgYWN0dWFsIGZvcm11bGEgd2UgaGF2ZSB1c2VkIHRvIGVzdGltYXRlIHRoZSBtb2RlbDoKCgoKCgpJIGFtIGlnbm9yaW5nIHRoZSBzZWN0aW9uIG9uIHJlc2lkdWFscywgYXMgd2UgZG9uJ3QgbmVlZCB0byBtYWtlIG91ciBsaWZlIG1vcmUgZGlmZmljdWx0IHRoYW4gaXQgbmVlZHMgdG8gYmUuIE5vdyBjb21lIHRoZSBjb2VmZmljaWVudHM6CgoKCgpUaGUgc2l6ZSBhbmQgZGlyZWN0aW9uIGlzIG9mIGNvdXJzZSB0aGUgc2FtZSBhcyBpbiBvdXIgcHJldmlvdXMgb3V0cHV0LCBidXQgdGhpcyBvdXRwdXQgbm93IGNvbnRhaW5zIHNvbWUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3RhbmRhcmQgZXJyb3IsIHRoZSByZXN1bHRpbmcgdC12YWx1ZSwgYW5kIHRoZSBwLXZhbHVlLiBSIGlzIHZlcnkgaGVscGZ1bCBoZXJlLCBpbiB0aGF0IGl0IG9mZmVycyB1cyBhIHZhcnlpbmcgYW1vdW50IG9mIGFzdGVyaXNrcyBhY2NvcmRpbmcgdG8gZGlmZmVyZW50LCBjb21tb25seSBhY2NlcHRlZCBsZXZlbHMgb2Ygc2lnbmlmaWNhbmNlLiAwLjA1IGlzIHN0YW5kYXJkIHByYWN0aWNlIGluIHRoZSBzb2NpYWwgc2NpZW5jZXMsIHNvIHdlIHdpbGwgYWNjZXB0IGFueXRoaW5nIHdpdGggb25lLCBvciBtb3JlIGFzdGVyaXNrcy4gQm90aCBvdXIgaW50ZXJjZXB0IGFuZCB0aGUgc2xvcGUgY29lZmZpY2llbnQgYXJlIHNpZ25pZmljYW50IGF0IGEgOTUlIGNvbmZpZGVuY2UgbGV2ZWwsIHNvIHdlIGhhdmUgc2hvd24gdGhhdCB0aGVyZSBpcyBhIHN0YXRpc3RpY2FsIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGFnZSBhbmQgcmF0aW5ncyBmb3IgVHJ1bXAuIAoKSSBhbSBvbWl0dGluZyB0aGUgcmVzaWR1YWwgc3RhbmRhcmQgZXJyb3IgZm9yIHRoZSBzYW1lIHJlYXNvbiBhcyBiZWZvcmUsIGJ1dCBsZXQgdXMgbG9vayBhdCB0aGUgbW9kZWwgZml0IGluZGljYXRvcnMuCgoKCgpNdWx0aXBsZSBSLVNxdWFyZWQgKGFrYSAkUl57Mn0kKSB0ZWxscyB1cyBob3cgbXVjaCB2YXJpYXRpb24gaW4gdGhlIGRlcGVuZGVudCB2YXJpYWJsZSBgZnR0cnVtcDFgIGlzIGV4cGxhaW5lZCB0aHJvdWdoIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBgYWdlYC4gJFJeezJ9JCBydW5zIGJldHdlZW4gMCBhbmQgMSwgd2hlcmUgMSBpcyBlcXVhbCB0byAxMDAlIG9mIHRoZSB2YXJpYXRpb24uIEluIG91ciBjYXNlLCB3ZSBoYXZlIGV4cGxhaW5lZCBhIG1lcmUgMC4wOSUgb2YgdGhlIFRydW1wIHJhdGluZy4gVGhpcyBpcyBsb3VzeSwgYW5kIHdlIGNhbiBkbyBhIGxvdCBiZXR0ZXIgdGhhbiB0aGF0LiBOZXZlciBleHBlY3QgYW55dGhpbmcgbmVhciAxMDAlIHVubGVzcyB5b3Ugd29yayB3aXRoIGEgdG95IGRhdGEgc2V0IGZyb20gYSB0ZXh0IGJvb2suIElmIHlvdSBnZXQgNjAtNzAlIHlvdSBjYW4gYmUgdmVyeSBoYXBweS4gSSB3aWxsIHJldHVybiB0byBBZGp1c3RlZCAkUl57Mn0kIGluIHRoZSBTZWN0aW9uIG9uIFtNdWx0aXBsZSBMaW5lYXIgUmVncmVzc2lvbl0uIAoKVGhlIEYtc3RhdGlzdGljIGF0IHRoZSBlbmQ6CgoKCmlzIGEgdGVzdCB3aXRoIHRoZSBudWxsIGh5cG90aGVzaXMgdGhhdCBhbGwgY29lZmZpY2llbnRzIG9mIHRoZSBtb2RlbCBhcmUgam9pbnRseSB6ZXJvLiBJbiBvdXIgY2FzZSwgd2UgY2FuIHJlamVjdCB0aGlzIG51bGwgaHlwb3RoZXNpcyB2ZXJ5IHNvdW5kbHksIGFzIHRoZSBwLXZhbHVlIGlzIGZhciBiZWxvdyB0aGUgY29tbW9ubHkgYWNjZXB0ZWQgbWF4aW11bSBvZiA1JS4gCgoKCiMjIyMjIENhdGVnb3JpY2FsIEluZGVwZW5kZW50IFZhcmlhYmxlcyAoYWthICdEdW1taWVzJykgey19CgpPZnRlbiB2YXJpYWJsZXMgYXJlIGNhdGVnb3JpY2FsLiBPbmUgc3VjaCBleGFtcGxlIGlzIHRoZSB2YXJpYWJsZSBgc2V4YCB3aGljaCBoYXMgdHdvIGNhdGVnb3JpZXM6IG1hbGUgYW5kIGZlbWFsZS4gCgpgYGB7cn0Kc3VtbWFyeShhbmVzJHNleCkKdGFibGUoYW5lcyRzZXgpCmBgYAoKClR1cm4gdGhpcyBpbnRvIGEgZmFjdG9yIHZhcmlhYmxlIGFuZCBhc3NpZ24gdGVsbGluZyBsYWJlbHMKCmBgYHtyfQphbmVzJHNleCA8LSBmYWN0b3IoYW5lcyRzZXgsIGxhYmVscyA9IGMoIk1hbGUiLCAiRmVtYWxlIikpCmBgYAoKQ2hlY2sgaWYgdGhpcyBoYXMgd29ya2VkOgoKYGBge3J9CnRhYmxlKGFuZXMkc2V4KQpgYGAKCkxldCdzIGVzdGltYXRlIHRoZSBtb2RlbDoKCmBgYHtyfQptb2RlbDIgPC0gbG0oZnR0cnVtcDEgfiBzZXgsIGRhdGEgPSBhbmVzKQpzdW1tYXJ5KG1vZGVsMikKYGBgCgpIb3cgZG8gd2UgaW50ZXJwcmV0IHRoaXM/CgotIExldCdzIGRvIHRoZSBzbG9wZSBjb2VmZmljaWVudCBmaXJzdDogYSB3b21lbiB3b3VsZCByYXRlIFRydW1wIGF0IDcuMTYgcG9pbnRzIGxlc3MgdGhhbiBhIG1hbiBvbiBhdmVyYWdlLiBUaGUgaW50ZXJwcmV0YXRpb24gb2YgYSBkdW1teSB2YXJpYWJsZSBjb2VmZmljaWVudCBpcyBkb25lIHdpdGggcmVnYXJkcyB0byB0aGUgcmVmZXJlbmNlIGNhdGVnb3J5LiBJbiBvdXIgY2FzZSB0aGlzIGlzICJtYWxlIi4gU28gdGhlIGVmZmVjdCB3ZSBvYnNlcnZlIGhlcmUgaXMgZXF1aXZhbGVudCBvZiBtb3ZpbmcgZnJvbSAibWFsZSIgdG8gImZlbWFsZSIgYW5kIHRoYXQgZWZmZWN0IGFkZHMgNy4xNiBwb2ludHMuCi0gVGhpcyBnaXZlcyB5b3UgYW4gaW5kaWNhdGlvbiBvZiBob3cgdG8gaW50ZXJwcmV0IHRoZSBpbnRlcmNlcHQgaW4gdGhpcyBjYXNlOiBUaGUgdmFsdWUgZGlzcGxheWVkIGlzIGhvdyBtZW4gd291bGQgcmF0ZSBUcnVtcCBvbiBhdmVyYWdlLCBuYW1lbHkgYXQgNDYuMTYgcG9pbnRzLiBBbGwgb2YgdGhpcyBpcyBzaWduaWZpY2FudCBhdCBhIDk1JSBjb25maWRlbmNlIGxldmVsLiAKClRoaXMgZWZmZWN0IGNvcnJvYm9yYXRlcyB0aGUgaHlwb3RoZXNpcyBhZHZhbmNlZCBieSBJbmdsZWhhcnQgYW5kIE5vcnJpcywgYnV0IHRoZSByZXN1bHRzIGFyZSBub3QgZGlzcGxheWVkIGluIHRoZSBtb3N0IGVsZWdhbnQgd2F5LiBUaGUgc2V4IHRoZXNlIGF1dGhvcnMgbWFkZSBhIHN0YXRlbWVudCBhYm91dCB3ZXJlIG1lbi4gU28gd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHJlZmVyZW5jZSBjYXRlZ29yeSB0byAiZmVtYWxlIi4KCmBgYHtyfQphbmVzIDwtIGFuZXMgJT4lCiAgbXV0YXRlKHNleCA9IHJlbGV2ZWwoc2V4LCByZWYgPSAiRmVtYWxlIikpCmBgYAoKV2hlbiB3ZSByZS1lc3RpbWF0ZSB0aGUgbW9kZWwsIHdlIGdldCB0aGUgZWZmZWN0IGRpc3BsYXllZCBkaXJlY3RseToKCmBgYHtyfQptb2RlbDIgPC0gbG0oZnR0cnVtcDEgfiBzZXgsIGRhdGEgPSBhbmVzKQpzdW1tYXJ5KG1vZGVsMikKYGBgCgoKV2hpbHN0IG1hbnkgY2F0ZWdvcmljYWwgdmFyaWFibGVzIGFyZSBiaW5hcnksIG9mIGNvdXJzZSBub3QgYWxsIG9mIHRoZW0gYXJlLiBTbyBob3cgZG9lcyB0aGlzIHdvcmsgd2l0aCBhIGNhdGVnb3JpY2FsIHZhcmlhYmxlIHdpdGggMyBvciBtb3JlIGxldmVscz8KClRoZSBuZXh0IGRldGVybWluYW50IG1lbnRpb25lZCBpbiBJbmdsZWhhcnQgYW5kIE5vcnJpcycgcGFwZXIgaXMgZWR1Y2F0aW9uLiBXZSBjYW4gb2J0YWluIGluZm9ybWF0aW9uIGFib3V0IGEgcmVzcG9uZGVudCdzIGxldmVsIG9mIGVkdWNhdGlvbiB3aXRoIHRoZSB2YXJpYWJsZSBgZWR1Y2AuIAoKYGBge3J9CnN1bW1hcnkoYW5lcyRlZHVjKQp0YWJsZShhbmVzJGVkdWMpCmBgYAoKVGhpcyBpcyBub3QgdGVycmlibHkgdGVsbGluZyBpbiBpdHNlbGYsIHlldCwgc28gbGV0J3MgaGF2ZSBhIGxvb2sgYXQgdGhlIGNvZGVib29rOgoKCnt3aWR0aD02MCV9CgpUaGUgZmlyc3Qgc3RlcCBpcywgYXMgYmVmb3JlIHRvIHJlY29kZSB0aGlzIHZhcmlhYmxlIGludG8gYSBmYWN0b3IgdmFyaWFibGU6CgpgYGB7cn0KYW5lcyRlZHVjIDwtIGZhY3RvcihhbmVzJGVkdWMpCmBgYAoKRWlnaHQgbGV2ZWxzIGFyZSB0b28gbWFueSBoZXJlIHRvIGRvIGFueSBtZWFuaW5nZnVsIGFuYWx5c2lzLCBhbmQgdHdvIHdvdWxkIGJlIHRvbyByZWR1Y3Rpb25pc3QuIEZvciBzYWtlIG9mIHNpbXBsaWNpdHksIGxldCdzIGdvIHdpdGggdGhyZWU6IGxvdywgbWVkaXVtIGFuZCBoaWdoIGVkdWNhdGlvbi4gV2UgcmVjb2RlIGludG8gYW4gb3JkZXJlZCBmYWN0b3IgYXMgZm9sbG93czoKCmBgYHtyfQphbmVzIDwtIGFuZXMgJT4lCiAgbXV0YXRlKGVkdWNfZmFjID0gcmVjb2RlKGVkdWMsICcxJz0ibG93IiwgCiAgICAgICAgICAgICAgICAgICAgICAgJzInPSAibG93IiwKICAgICAgICAgICAgICAgICAgICAgICAnMyc9ICJsb3ciLAogICAgICAgICAgICAgICAgICAgICAgICc0JyA9ICJtZWRpdW0iLAogICAgICAgICAgICAgICAgICAgICAgICc1JyA9ICJtZWRpdW0iLAogICAgICAgICAgICAgICAgICAgICAgICc2JyA9ICJoaWdoIiwKICAgICAgICAgICAgICAgICAgICAgICAnNycgPSAiaGlnaCIsCiAgICAgICAgICAgICAgICAgICAgICAgJzgnID0gImhpZ2giKSkKYGBgCgpDaGVjayB0aGUgcmVzdWx0czoKCmBgYHtyfQp0YWJsZShhbmVzJGVkdWNfZmFjKQpgYGAKCgpBbmQgd2UgYXJlIHJlYWR5IHRvIGdvOgoKYGBge3J9Cm1vZGVsMyA8LSBsbShmdHRydW1wMSB+IGVkdWNfZmFjLCBkYXRhID0gYW5lcykKc3VtbWFyeShtb2RlbDMpCmBgYAoKV2hpbHN0IHRoZSBpbnRlcmNlcHQgaXMgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudCwgdGhlIHNsb3BlIGNvZWZmaWNpZW50cyBhcmUgbm90LiBUaGVyZWZvcmUsIHdlIGNhbiBjb25jbHVkZSB0aGF0IGVkdWNhdGlvbiBoYXMgbm8gc3RhdGlzdGljYWwgaW5mbHVlbmNlIG9uIFRydW1wJ3MgYXBwcm92YWwgcmF0aW5ncy4gCgpOb3RlLCB0aGF0IGFzIGluIHRoZSBzZXggZXhhbXBsZSBiZWZvcmUsIFIgaGFzIGNob3NlIHRoZSBmaXJzdCBsZXZlbCBvZiB0aGUgaW5kZXBlbmRlbnQgdmFyaWFibGUgYXMgdGhlIHJlZmVyZW5jZSBjYXRlZ29yeS4gSWYgeW91IHdpc2ggdG8gY2hhbmdlIHRoaXMsIHlvdSBjYW4gZG8gc28gaW4gdGhlIHNhbWUgbWFubmVyIGFzIGJlZm9yZS4gWW91IGNhbiBhbHNvIGNoZWNrIHdoaWNoIGxldmVsIFIgaGFzIHVzZWQgYXMgdGhlIHJlZmVyZW5jZSBjYXRlZ29yeSB3aXRoIHRoZSBgY29udHJhc3RzKClgIGNvbW1hbmQuIEhlcmU6CgpgYGB7cn0KY29udHJhc3RzKGFuZXMkZWR1Y19mYWMpCmBgYAoKCiMjIyMjIFN1bW1hcnkgZm9yIEJpdmFyaWF0ZSBSZWdyZXNzaW9uIHstfQoKQW5kIHRoYXQncyBpdCEgWW91IGhhdmUgbWFkZSB0aGUgZmlyc3QgYmlnIHN0ZXAgdG8gdW5kZXJzdGFuZGluZyByZWdyZXNzaW9uIG91dHB1dCBhbmQgcHJvZHVjaW5nIHN1Y2ggb3V0cHV0IHlvdXJzZWxmLiBCdXQgIGV4cGxhbmF0aW9ucyBpbiB0aGUgcmVhbCB3b3JsZCBhcmUgbmV2ZXIgbW9uby1jYXVzYWwuIFRoZXJlIGFyZSBhbHdheXMgbXVsdGlwbGUgaW5mbHVlbmNlcyB3b3JraW5nIGF0IHRoZSBzYW1lIHRpbWUsIGFuZCB3ZSBuZWVkIHRvIHNldCB1cCBvdXIgc3RhdGlzdGljYWwgbW9kZWwgdG8gdGFrZSB0aGlzIGNvbXBsZXhpdHkgaW50byBhY2NvdW50LiBXaGljaCBicmluZ3MgdXMgdG8gdGhlIG5leHQgc3RlcDogbXVsdGlwbGUgcmVncmVzc2lvbi4gCgoKIyMjIE11bHRpcGxlIExpbmVhciBSZWdyZXNzaW9uIHstfQoKIyMjIyBUaGUgVGhlb3J5IHstfQoKV2UgYXJlIHNpbXBseSBleHRlbmRpbmcgRXF1YXRpb24gXEByZWYoZXE6c3JmKSBieSBhZGRpbmcgbW9yZSBpbmRlcGVuZGVudCB2YXJpYWJsZXMuIEZvciB0d28gaW5kZXBlbmRlbnQgdmFyaWFibGVzIHdlIHdvdWxkIHdyaXRlOgoKXGJlZ2lue2VxdWF0aW9ufQpcaGF0e1l9ID0gXGhhdHtcYmV0YX1fezB9ICsgXGhhdHtcYmV0YX1fezF9IFhfezFpfSArIFxoYXR7XGJldGF9X3syfSBYX3syaX0KXGVuZHtlcXVhdGlvbn0KCk5vdGUgdGhhdCBub3Qgb25seSB0aGUgYmV0YXMgaGF2ZSBhIHN1YnNjcmlwdCBub3csIGJ1dCBhbHNvIHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZXMuIEZvciBleGFtcGxlICRYX3sxaX0kIHdvdWxkIGRlbm90ZSB0aGUgJGlee3RofSQgb2JzZXJ2YXRpb24gb2YgaW5kZXBlbmRlbnQgdmFyaWFibGUgMS4gCgpXZSBjYW4gZXh0ZW5kIHRoaXMgbW9yZSBnZW5lcmFsbHkgdG86CgpcYmVnaW57ZXF1YXRpb259ClxoYXR7WX0gPSBcaGF0e1xiZXRhfV97MH0gKyBcaGF0e1xiZXRhfV97MX0gWF97MWl9ICsgXGhhdHtcYmV0YX1fezJ9IFhfezJpfSArIC4uLiArIFxoYXR7XGJldGF9X3tufSBYX3tuaX0KKFwjZXE6c3JmZnVsbCkKXGVuZHtlcXVhdGlvbn0KCndoZXJlIG4gaXMgdGhlIG51bWJlciBvZiBpbmRlcGVuZGVudCB2YXJpYWJsZXMgaW4gdGhlIG1vZGVsLiAKCgojIyMjIFRoZSBBcHBsaWNhdGlvbiB7LX0KCkp1c3QgYXMgd2UgaGF2ZSBleHRlbmRlZCBFcXVhdGlvbiBcQHJlZihlcTpzcmYpIHRvIFxAcmVmKGVxOnNyZmZ1bGwpLCB3ZSBjYW4gZXh0ZW5kIG91ciBtb2RlbCBpbiBgUmAgLSB3ZSBzaW1wbHkgbmVlZCB0byBjb25uZWN0IHRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZXMgd2l0aCBgK2AuIElmIHdlIHdpc2hlZCB0byBsb29rIGF0IHRoZSBqb2ludCBpbmZsdWVuY2Ugb2YgYWxsIGluZGVwZW5kZW50IHZhcmlhYmxlcyB3ZSBoYXZlIGluY2x1ZGVkIHNvIGZhciwgd2Ugd291bGQgdHlwZToKCgpgYGB7cn0KbW9kZWw0IDwtIGxtKGZ0dHJ1bXAxIH4gYWdlICsgc2V4ICsgZWR1Y19mYWMsIGRhdGEgPSBhbmVzKQpzdW1tYXJ5KG1vZGVsNCkKYGBgCgoKIyMjIyBUaGUgSW50ZXJwcmV0YXRpb24gey19CgpBcyB3ZSBoYXZlIGluY2x1ZGVkIG11bHRpcGxlIGluZGVwZW5kZW50IHZhcmlhYmxlcyBub3csIHRoZSBpbnRlcnByZXRhdGlvbiBvZiBjb2VmZmljaWVudHMgY2hhbmdlcyBzbGlnaHRseS4gVGhlIHByaW5jaXBsZSBoZXJlIGlzIGNhbGxlZCAiQ2V0ZXJpcyBQYXJpYnVzIiB3aGljaCBtZWFucyAiYWxsIG90aGVyIHRoaW5ncyBiZWluZyBlcXVhbCIuIFdoYXQgZXhhY3RseSBkb2VzIHRoYXQgbWVhbj8gCgpUYWtlIHRoZSBjb2VmZmljaWVudCBmb3IgYGFnZWAsIGZvciBleGFtcGxlLiBJZiB0aGlzIHdhcyBhIGJpdmFyaWF0ZSByZWdyZXNzaW9uIHdlIHdvdWxkIGludGVycHJldCBpdCBhcyBmb2xsb3dzOiAib24gYXZlcmFnZSwgZm9yIGV2ZXJ5IGFkZGl0aW9uYWwgeWVhciBvZiBhZ2UsIHRoZSBzdXBwb3J0IGZvciBUcnVtcCB3b3VsZCBpbmNyZWFzZSBieSAwLjIzMjc0IHVuaXRzIi4gVGhlIGZpcnN0IHRoaW5nIHlvdSB3aWxsIG5vdGUgaGVyZSBpcyB0aGF0IHRoZSBzaXplIG9mIHRoaXMgY29lZmZpY2llbnQgaGFzIGNoYW5nZWQuIFdoZW4gd2UgcmFuIHRoZSBiaXZhcmlhdGUgbW9kZWwgaXQgd2FzIDAuMjE5NjcuIFRoZSByZWFzb24gaXMgdGhlIGluY2x1c2lvbiBvZiBvdGhlciB2YXJpYWJsZXMuIEJ5IGRvaW5nIHRoaXMsIHdlIGFyZSBpc29sYXRpbmcsIG9yIHB1cmlmeWluZyB0aGUgaW5mbHVlbmNlIG91ciB2YXJpYWJsZSBgYWdlYCBoYXMsIGhvbGRpbmcgYHNleGAgYW5kIGBlZHVjX2ZhY2AgY29uc3RhbnQuIFlvdSBjb3VsZCBhbHNvIHNheSAiYHNleGAgYW5kIGBlZHVjX2ZhY2AgYmVpbmcgZXF1YWwsIG9uIGF2ZXJhZ2UsIGZvciBldmVyeSBhZGRpdGlvbmFsIHllYXIgb2YgYWdlLCB0aGUgc3VwcG9ydCBmb3IgVHJ1bXAgd291bGQgaW5jcmVhc2UgYnkgMC4yMzI3NCB1bml0cyIuIFRoaXMgaXMgb3VyIG5ldyBpbnRlcnByZXRhdGlvbiBvZiBjb2VmZmljaWVudHMgaW4gbXVsdGlwbGUgcmVncmVzc2lvbi4gCgoKCiMjIyMgTW9kZWwgRml0IChhZ2Fpbikgey19CgpJZiBJIGFkZGVkICJzaG9lIHNpemUgb2YgaW50ZXJ2aWV3ZWUiIGludG8gdGhlIG1vZGVsLCB0aGlzIHdvdWxkIG1ha2UgYWJzb2x1dGVseSBubyBzZW5zZSBmcm9tIGEgdGhlb3JldGljYWwgcG9pbnQgb2Ygdmlldy4gWWV0LCBvdXIgUi1TcXVhcmVkIHdvdWxkIGVpdGhlciBzdGF5IHRoZSBzYW1lLCBvciBldmVuIGluY3JlYXNlLiBSLVNxdWFyZWQgY2FuIG5ldmVyIGRlY3JlYXNlIGZyb20gdGhlIGFkZGl0aW9uIG9mIG1vcmUgdmFyaWFibGVzLiBUaGlzIGlzIG9mIGNvdXJzZSBubyBnb29kLiBXZSBuZWVkIGEgbWVhc3VyZSB0aGF0IHRha2VzIGludG8gYWNjb3VudCB0aGUgbnVtYmVyIG9mIGluZGVwZW5kZW50IHZhcmlhYmxlcywgYW5kIHBlbmFsaXNlcyB1cyBmb3IgdGhlIGluY2x1c2lvbiBvZiBpcnJlbGV2YW50IHZhcmlhYmxlcy4gVGhpcyBtZWFzdXJlIGlzIGNhbGxlZCAiQWRqdXN0ZWQgUi1TcXVhcmVkIiBhbmQgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhlIG1vZGVsIHN1bW1hcnkuIAoKSWYgeW91IHJ1biBhIGJpdmFyaWF0ZSBtb2RlbCwgYWx3YXlzIHVzZSAiTXVsdGlwbGUgUi1TcXVhcmVkIiwgd2hlbiBydW5uaW5nIG11bHRpcGxlIHJlZ3Jlc3Npb24sIGFsd2F5cyB1c2UgIkFkanVzdGVkIFItU3F1YXJlZCIuIFRoaXMgd2lsbCBhbGxvdyB5b3UgdG8gY29tcGFyZSB0aGUgbW9kZWwgZml0IGJldHdlZW4gbW9kZWxzIGFuZCB0byBkZXRlcm1pbmUgd2hldGhlciBhIHZhcmlhYmxlIGFkZHMgZXhwbGFuYXRvcnkgcG93ZXIgKCJBZGp1c3RlZCBSLVNxdWFyZWQiIGluY3JlYXNlcyksIGlzIHBvaW50bGVzcyAoIkFkanVzdGVkIFItU3F1YXJlZCIgc3RheXMgdGhlIHNhbWUpLCBvciBpcyBkZXRyaW1lbnRhbCB0byB0aGUgbW9kZWwgKCJBZGp1c3RlZCBSLVNxdWFyZWQiIGRlY3JlYXNlcykuCgojIyMjIE1vZGVsIFNwZWNpZmljYXRpb24gey19CgpZb3Ugd2lsbCBoYXZlIG5vdGljZWQgdGhhdCBJIHF1b3RlZCBOb3JyaXMgYW5kIEluZ2xlaGFydCdzIGRldGVybWluYW50cyBmb3IgcG9wdWxpc3Qgc3VwcG9ydCBhbmQgSSBoYXZlIGRvbmUgc28gaW50ZW50aW9uYWxseS4gVGhlIHNlbGVjdGlvbiBvZiB5b3VyIGluZGVwZW5kZW50IHZhcmlhYmxlcyBfYWx3YXlzXyBuZWVkcyB0byBiZSBndWlkZWQgYnkgdGhlb3J5LiBUaGVvcnkgcHJvdmlkZXMgYSBsb2dpYyBhbmQgYSBzdHJ1Y3R1cmUgdG8gb3VyIGVucXVpcnkgd2hpY2ggbWFrZXMgaXQgc2NpZW50aWZpYyAod2hpY2ggaXMgd2h5IHdoYXQgd2UgZG8gaXMgY2FsbGVkICAiUG9saXRpY2FsIFNjaWVuY2UiIGFuZCBub3QgIlBvbGl0aWNzIiwgYW5kIGxldCBub2JvZHkgdGVsbCB5b3Ugb3RoZXJ3aXNlLiBQb2xpdGljcyB0YWtlcyBwbGFjZSBpbiBXZXN0bWluc3RlciBhbmQgaXMgZGVmaW5lZCBhcyB0aGUgbmVnb3RpYXRpb24gYmV0d2VlbiBkaWZmZXJlbnQgZ3JvdXBzIGFjY29yZGluZyB0byB0aGVpciByZXNwZWN0aXZlIHBvd2VyIC0gZG9uJ3Qgc2F5IHlvdSBkaWRuJ3QgbGVhcm4gYW55dGhpbmcgb24gdGhpcyBtb2R1bGUpLiBPdGhlcndpc2UsIHdlIHdvdWxkIG9ubHkgYmUgc3RhYmJpbmcgaW50byB0aGUgZGFyaywgcmFuZG9tbHkgY2hlY2tpbmcgZmFjdG9ycyB3ZSBkZWVtIGluZmx1ZW50aWFsLiAKClRoZSBjb21wb3NpdGlvbiBvZiBhIHJlZ3Jlc3Npb24gbW9kZWwgdGhlcmVmb3JlIGFsc28gbmVlZHMgdG8gYmUgZ3VpZGVkIGJ5IHRoZW9yeS4gSWYgYSB0aGVvcnkgaGFzIG11bHRpcGxlIGNvbXBvbmVudHMsIG9yIGhhcyBiZWVuIGV4dGVuZGVkIG92ZXIgdGltZSwgeW91IGNhbiB0ZXN0IHRoZSBwcm9wb3NpdGlvbnMgb2YgZWFjaCBzdGFnZSBzZXBhcmF0ZWx5LiBDbGFzc2ljYWwgTW9kZXJuaXNhdGlvbiBmb3IgZXhhbXBsZSwgcG9zaXRzIHRoYXQgd2VhbHRoaWVyIGNvdW50cmllcyBhcmUgbW9yZSBkZW1vY3JhdGljLiBMYXRlciBvbiwgaW5mbHVlbmNpbmcgZmFjdG9ycyB3ZXJlIGV4dGVuZGVkIHRvIGhlYWx0aCwgZWR1Y2F0aW9uLCB1cmJhbmlzYXRpb24sIGV0Yy4gU28gaXQgd291bGQgbWFrZSBzZW5zZSB0byBydW4gYSBtb2RlbCB3aXRoIGp1c3QgR0RQIGZpcnN0LCBhbmQgdGhlbiB0byBhZGQgdGhlIG90aGVyIHRocmVlIHZhcmlhYmxlcy4gCgpPY2Nhc2lvbmFsbHksIHRoZSBpbmNsdXNpb24gb2YgbmV3IHZhcmlhYmxlcyB0YWtlcyB0aGUgc2lnbmlmaWNhbmNlIGF3YXkgZnJvbSBwcmV2aW91c2x5IGluY2x1ZGVkIG9uZXMsIGFuZCB5b3UgYXJlIGFibGUgdG8gc2hvdyB0aGF0IHRoZXNlIG5ldyB2YXJpYWJsZXMgZXhwbGFpbiB0aGUgdmFyaWF0aW9uIGluIHRoZSBkZXBlbmRlbnQgdmFyaWFibGUgYmV0dGVyLiBTbywgaXQgYWx3YXlzIG1ha2VzIHNlbnNlIHRvIHRlc3QgZGlmZmVyZW50IGNvbWJpbmF0aW9ucyBvZiBpbmRlcGVuZGVudCB2YXJpYWJsZXMgdG8gbG9vayBkZWVwZXIgaW50byB3aGljaCBleHBsYWlucyB0aGUgb3V0Y29tZSBiZXR0ZXIgLyBiZXN0LiAKCk9uZSBsYXN0IHdvcmQgb24gc2VsZWN0aW5nIGluZGVwZW5kZW50IHZhcmlhYmxlczogeW91IGNhbid0IGp1c3QgdGhyb3cgYSByYW5kb20gbnVtYmVyIG9mIHZhcmlhYmxlcyBpbnRvIHRoZSBtb2RlbC4geW91IG5lZWQgdG8gb2JzZXJ2ZSB0aGUgcHJpbmNpcGxlIG9mIF9fcGFyc2ltb255X18gd2hpY2ggYXNrcyB5b3UgdG8gdXNlIGFzIG1hbnkgdmFyaWFibGVzIGFzIG5lY2Vzc2FyeSwgYnV0IGFzIGZldyBhcyBwb3NzaWJsZS4gCgoKCiMjIFN1bW1hcnkKCi0gKk9MUyogQWNyb255bSBmb3IgIk9yZGluYXJ5IExlYXN0IFNxdWFyZXMiLgoKLSAqQ0xNKiBBY3JvbnltIGZvciAiQ2xhc3NpY2FsIExpbmVhciBNb2RlbCIuCgotICpCTFVFKiBBY3JvbnltIGZvciAiQmVzdCBMaW5lYXIgVW5iaWFzZWQgRXN0aW1hdG9yIi4KCi0gKlBhcnNpbW9ueSogVXNlIGFzIG1hbnkgdmFyaWFibGVzIGFzIG5lY2Vzc2FyeSwgYnV0IGFzIGZldyBhcyBwb3NzaWJsZS4KCgojIyMgRnVuY3Rpb25zIGxpc3Qgey19CgoKCgojIyBFeGVyY2lzZXMKCjEuIFRoZSByZWxhdGlvbnNoaXAgcHJvcG9zZWQgYnkgSW5nbGVoYXJ0IGFuZCBOb3JyaXMgKDIwMTYpIGFsc28gaW5jbHVkZXMgcmVsaWdpb3NpdHkgYW5kIGV0aG5pYyBtYWpvcml0aWVzIGFzIHBvc3NpYmxlIHByZWRpY3RvcnMuCmEuIFVzaW5nIHRoZSB2YXJpYWJsZSBgYXR0MmAsIGFzc2VzcyBpbiBhIGJpdmFyaWF0ZSByZWdyZXNzaW9uIHRoZSBpbmZsdWVuY2Ugb2YgcmVsaWdpb3NpdHkuIENhdGVnb3Jpc2UgdGhvc2UgYXR0ZW5kaW5nIHNlcnZpY2VzIGFsbW9zdCBldmVyeSB3ZWVrLCBvciBldmVyeSB3ZWVrIGFzICdyZWxpZ2lvdXMnLCBhbmQgYWxsIG90aGVycyBhcyAnbm90IHJlbGlnaW91cycuCmIuIFVzaW5nIHRoZSB2YXJpYWJsZSBgbGF0aW4xYCwgYXNzZXNzIGluIGEgYml2YXJpYXRlIHJlZ3Jlc3Npb24gaWYgYmVpbmcgYSBtZW1iZXIgb2YgSGlzcGFuaWMsIExhdGlubywgb3IgU3BhbmlzaCBvcmlnaW4gaGFzIGEgbmVnYXRpdmUgZWZmZWN0IG9uIGFwcHJvdmluZyBvZiBUcnVtcC4KYy4gQW5vdGhlciwgZnJlcXVlbnRseSB1c2VkIHZhcmlhYmxlIHRvIHByZWRpY3QgZW5kb3JzZW1lbnRzIG9mIHBvbGl0aWNpYW5zIGlzIGluY29tZS4gSW4gYSBiaXZhcmlhdGUgcmVncmVzc2lvbiwgdXNlIHRoZSB2YXJpYWJsZSBgaW5jb21lYCB0byB0ZXN0IHRoaXMgcmVsYXRpb25zaGlwLiBGb3IgdGhpcywgY3JlYXRlIGEgbmV3IHZhcmlhYmxlIGNhbGxlZCBgaW5jb21lX2ZhY2Agd2l0aCB0aHJlZSBsZXZlbHM6IGxvdyBpbmNvbWUgKDAtNDQsOTk5KSwgbWVkaXVtIGluY29tZSAoNDUsMDAwLTg0LDk5OSksIGFuZCBoaWdoIGluY29tZSAoPjg1LDAwMCkuIAoKCgoKCipUaGUgc29sdXRpb25zIGZvciB0aGUgZXhlcmNpc2VzIHdpbGwgYmUgYXZhaWxhYmxlIGhlcmUgb24gYHIgY29uZmlnJG9sc2AuKgoKCgoKIyMgUmVmZXJlbmNlcwoKSW5nbGVoYXJ0LCBSb25hbGQgRi4gYW5kIE5vcnJpcywgUGlwcGEgKDIwMTYpIFRydW1wLCBCcmV4aXQsIGFuZCB0aGUgUmlzZSBvZiBQb3B1bGlzbTogRWNvbm9taWMgSGF2ZS1Ob3RzIGFuZCBDdWx0dXJhbCBCYWNrbGFzaC4gSEtTIFdvcmtpbmcgUGFwZXIgTm8uIFJXUDE2LTAyNiwgQXZhaWxhYmxlIGF0IFNTUk46IGh0dHBzOi8vc3Nybi5jb20vYWJzdHJhY3Q9MjgxODY1OSBvciBodHRwOi8vZHguZG9pLm9yZy8xMC4yMTM5L3Nzcm4uMjgxODY1OQA=&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;09-ols.Rmd&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter markdown</button>
<div id="content-8" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Content<a href="ols.html#content-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<center>
<strong>Site still under construction!</strong>
</center>
<div id="introduction-1" class="section level3 unnumbered hasAnchor">
<h3>Introduction<a href="ols.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Regression is the power house of the social sciences. It is widely applied and takes many different forms. In this Chapter we are going to explore the linear variant, also called Ordinary Least Squares (OLS). This type of regression is used if our dependent variable is continuous. In the following Chapter we will have a look at regression with a binary dependent variable and the calculation of the probability to fall into either of those two categories. But let’s first turn to linear regression.</p>
</div>
<div id="bivariate-linear-regression" class="section level3 unnumbered hasAnchor">
<h3>Bivariate Linear Regression<a href="ols.html#bivariate-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="the-theory" class="section level4 unnumbered hasAnchor">
<h4>The Theory<a href="ols.html#the-theory" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Regression is not only able to identify the direction of a relationship between an independent and a dependent variable, it is also able to quantify the effect. Let us choose <code>Y</code> as our dependent variable, and <code>X</code> as our independent variable. We have some data which we are displaying in a scatter plot:</p>
<p><img src="images/9/scatter.png" style="width:75.0%" /></p>
<p>With a little goodwill we can already see that there is a positive relationship: as <code>X</code> increases, <code>Y</code> increases, as well. Now, imagine taking a ruler and trying to fit in a line that best describes the relationship depicted by these points. This will be our regression line.</p>
<p>The position of a line in a coordinate system is usually described by two items: the intercept with the Y-axis, and the slope of the line. The slope is defined as rise over run, and indicates by how much Y increases (or decreases is the slope is negative) if we add an additional unit of X. In the notation which follows we will call the intercept <span class="math inline">\(\beta_{0}\)</span>, and the slope <span class="math inline">\(\beta_{1}\)</span>. It will be our task to estimate these values, also called coefficients. You can see this depicted graphically here:</p>
<p><img src="images/9/regline.png" style="width:75.0%" /></p>
<p><strong>Population</strong></p>
<p>We will first assume here that we are dealing with the population and not a sample. The regression line we have just drawn would then be called the Population Regression Function (PRF) and is written as follows:</p>
<p><span class="math display" id="eq:prf">\[\begin{equation}
E(Y|X_{i}) = \beta_{0} + \beta_{1} X_{i}
\tag{9.1}
\end{equation}\]</span></p>
<p>Because wer are dealing with the population, the line is the geometric locus of all the expected values of the dependent variable <code>Y</code>, given the values of the independent variables <code>X</code>. This has to do with the approach to statistics that underpins this module: frequentist statsctics (as opposed to Bayesian statistics). We are understanding all values to be “in the long run”, and if we sampled repeatedly from a population, then the expected value is the value we would, well, expect to see most often in the long run.</p>
<p>The regression line is not intercepting with all observations. Only two are located on the line, and all others have a little distance between them and the PRF. These distances between <span class="math inline">\(E(Y|X_{i})\)</span> and <span class="math inline">\(Y_{i}\)</span> are called error terms and are denoted as <span class="math inline">\(\epsilon_{i}\)</span>.</p>
<p><img src="images/9/errors.png" style="width:75.0%" /></p>
<p>To describe the observations <span class="math inline">\(Y_{i}\)</span> we therefore need to add the error terms to equation <a href="ols.html#eq:prf">(9.1)</a>:</p>
<p><span class="math display" id="eq:pop">\[\begin{equation}
Y_{i} = \beta_{0} + \beta_{1} X_{i} + \epsilon_{i}
\tag{9.2}
\end{equation}\]</span></p>
<p><strong>Sample</strong></p>
<p>In reality we hardly ever have the population in the social sciences, and we generally have to contend with a sample. Nonetheless, we can construct a regression line on the basis of the sample, the Sample Regression Function (SRF). It is important to note that the nature of the regression line we derive fromt he sample will be different for every sample, as each sample will have other values in it. Rarely, the PRF is the same as the SRF - but we are always using the SRF to estimate the PRF.</p>
<p>In order to flag this up in the notation we use to specify the SRF, we are using little hats over everything we estimate, like this:</p>
<p><span class="math display" id="eq:srf">\[\begin{equation}
\hat{Y}_{i} = \hat{\beta}_{0} + \hat{\beta}_{1} X_{i}
\tag{9.3}
\end{equation}\]</span></p>
<p>Analogously, we would would describe the observations <span class="math inline">\(Y_{i}\)</span> by adding the estimated error terms <span class="math inline">\(\hat{\epsilon}_{i}\)</span> to the equation.</p>
<p><span class="math display">\[\begin{equation}
Y_{i} = \hat{\beta}_{0} + \hat{\beta}_{1} X_{i} + \hat{\epsilon}_{i}
\end{equation}\]</span></p>
<p>The following graph visdualised the relationship between an observation, the PRF, the SRF and the respective error terms.</p>
<p><img src="images/9/SRF_PRF.png" style="width:75.0%" /></p>
<p>Ordinary Least Squares (OLS)</p>
<p>When you eye-balled the scatter plot at the start of this Chapter in order to fit a line through it, you have sub-consciously done so by minimising the distance between each of the observations and the line. Or put differently, you have tried to minimise the error term <span class="math inline">\(\hat{\epsilon}_{i}\)</span>. This is basically the intuition behind fitting the SRF mathematically, too. We try to minimise the sum of all error terms, so that all observations are as close to the regression line as possible. The only problem that we encounter when doing this is that these distances will always sum up to zero.</p>
<p>But similar to calculating the standard deviation where the differences between the observations and the mean would sum up to zero (essentially we are doing the same thing here), we simply square those distances. So we are not minimising the sum of distances between observations and the regression line, but the sum of the <strong>squared</strong> distances between the observations and the regression line. Graphically, we would end up with little squares made out of each <span class="math inline">\(\hat{\epsilon}_{i}\)</span> which gives the the method its name: Ordinary Least Squares (OLS).</p>
<p><img src="images/9/OLS.png" style="width:75.0%" /></p>
<p>We are now ready to apply this stuff to a real-world example!</p>
</div>
<div id="the-application" class="section level4 unnumbered hasAnchor">
<h4>The Application<a href="ols.html#the-application" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the applied part of this Chapter, we are going to model the feelings towards Donald Trump in the lead-up to the presidential election 2020. Data for this investigation are taken from <a href="https://electionstudies.org/data-center/2020-exploratory-testing-survey/" class="uri">https://electionstudies.org/data-center/2020-exploratory-testing-survey/</a> Please follow this link and download the “2020 Exploratory Testing Survey” and pop it into a working directory.</p>
<p>We can then load the ANES data set:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="ols.html#cb385-1" tabindex="-1"></a>anes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/anes.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="ols.html#cb386-1" tabindex="-1"></a><span class="fu">summary</span>(anes<span class="sc">$</span>fttrump1)</span>
<span id="cb386-2"><a href="ols.html#cb386-2" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb386-3"><a href="ols.html#cb386-3" tabindex="-1"></a>   <span class="fl">0.00</span>    <span class="fl">0.00</span>   <span class="fl">40.00</span>   <span class="fl">44.59</span>   <span class="fl">80.00</span>  <span class="fl">999.00</span> </span></code></pre></div>
<p>This is no good, as the variable is bounded between 0 and 100. In fact 999 is a placeholder for missing data throughout the data set. We need to replace this with NAs.</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="ols.html#cb387-1" tabindex="-1"></a>anes[anes <span class="sc">==</span> <span class="dv">999</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span></code></pre></div>
<p>If we look at the summary again, everything looks fine now:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="ols.html#cb388-1" tabindex="-1"></a><span class="fu">summary</span>(anes<span class="sc">$</span>fttrump1)</span>
<span id="cb388-2"><a href="ols.html#cb388-2" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max.    NA<span class="st">&#39;s </span></span>
<span id="cb388-3"><a href="ols.html#cb388-3" tabindex="-1"></a><span class="st">   0.00    0.00   40.00   42.42   80.00  100.00       7 </span></span></code></pre></div>
<p>By the way, had you just wanted to replace this in one variable, for example only in <code>fttrump1</code>, you could have called:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="ols.html#cb389-1" tabindex="-1"></a>anes<span class="sc">$</span>fttrump1 <span class="ot">&lt;-</span> <span class="fu">with</span>(anes, <span class="fu">replace</span>(fttrump1, fttrump1 <span class="sc">==</span> <span class="dv">999</span>, <span class="cn">NA</span>))</span></code></pre></div>
<p>Norris and Inglehart (2016) have argued that:</p>
<blockquote>
<p>populist support in Europe is generally stronger among the older generation, men, the less educated, the religious, and ethnic majorities, patterns confirming previous research.</p>
</blockquote>
<p>Let’s see if this also applies to presidential elections in the US. We first look at the question: “Do older people rate Trump higher than younger people?”. Our independent variables is <code>age</code>.</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="ols.html#cb390-1" tabindex="-1"></a><span class="fu">summary</span>(anes<span class="sc">$</span>age)</span>
<span id="cb390-2"><a href="ols.html#cb390-2" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb390-3"><a href="ols.html#cb390-3" tabindex="-1"></a>  <span class="fl">18.00</span>   <span class="fl">34.75</span>   <span class="fl">49.00</span>   <span class="fl">48.87</span>   <span class="fl">63.00</span>  <span class="fl">110.00</span> </span></code></pre></div>
<p>Let’s evaluate the relationship through a scatter plot with a line of best fit:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="ols.html#cb391-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb391-2"><a href="ols.html#cb391-2" tabindex="-1"></a></span>
<span id="cb391-3"><a href="ols.html#cb391-3" tabindex="-1"></a><span class="fu">ggplot</span>(anes, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> fttrump1)) <span class="sc">+</span></span>
<span id="cb391-4"><a href="ols.html#cb391-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb391-5"><a href="ols.html#cb391-5" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-402-1.png" width="672" /></p>
<p>There is a positive relationship. We can calculate the exact numerical nature of that relationship as follows:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="ols.html#cb392-1" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(fttrump1 <span class="sc">~</span> age, <span class="at">data =</span> anes)</span></code></pre></div>
<p>We start by specifying an object into which we store the results. Then we call <code>lm</code> which means linear model. Our dependent variable <code>fttrump1</code> is listed first, and then after a tilde the independent variable, <code>age</code>. Finally, we tell R which data set to use. We can then print the result, by calling <code>model1</code>.</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="ols.html#cb393-1" tabindex="-1"></a>model1</span>
<span id="cb393-2"><a href="ols.html#cb393-2" tabindex="-1"></a></span>
<span id="cb393-3"><a href="ols.html#cb393-3" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb393-4"><a href="ols.html#cb393-4" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> fttrump1 <span class="sc">~</span> age, <span class="at">data =</span> anes)</span>
<span id="cb393-5"><a href="ols.html#cb393-5" tabindex="-1"></a></span>
<span id="cb393-6"><a href="ols.html#cb393-6" tabindex="-1"></a>Coefficients<span class="sc">:</span></span>
<span id="cb393-7"><a href="ols.html#cb393-7" tabindex="-1"></a>(Intercept)          age  </span>
<span id="cb393-8"><a href="ols.html#cb393-8" tabindex="-1"></a>    <span class="fl">31.6837</span>       <span class="fl">0.2197</span>  </span></code></pre></div>
<p>How would we interpret these results?</p>
<ul>
<li>At an age of zero, a person would rate Trump at 31.68 <em>on average</em>. This of course makes little sense in anything but a theoretical / mathematical consideration.</li>
<li>With every additional year of age, a person would rate Trump 0.22 points higher <em>on average</em>.</li>
</ul>
<p>But are these findings significant at an acceptable significance level? Let’s find out, by getting a more detailed output:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="ols.html#cb394-1" tabindex="-1"></a><span class="fu">summary</span>(model1)</span>
<span id="cb394-2"><a href="ols.html#cb394-2" tabindex="-1"></a></span>
<span id="cb394-3"><a href="ols.html#cb394-3" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb394-4"><a href="ols.html#cb394-4" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> fttrump1 <span class="sc">~</span> age, <span class="at">data =</span> anes)</span>
<span id="cb394-5"><a href="ols.html#cb394-5" tabindex="-1"></a></span>
<span id="cb394-6"><a href="ols.html#cb394-6" tabindex="-1"></a>Residuals<span class="sc">:</span></span>
<span id="cb394-7"><a href="ols.html#cb394-7" tabindex="-1"></a>    Min      <span class="dv">1</span>Q  Median      <span class="dv">3</span>Q     Max </span>
<span id="cb394-8"><a href="ols.html#cb394-8" tabindex="-1"></a><span class="sc">-</span><span class="fl">55.847</span> <span class="sc">-</span><span class="fl">39.152</span>  <span class="sc">-</span><span class="fl">0.523</span>  <span class="fl">39.258</span>  <span class="fl">64.143</span> </span>
<span id="cb394-9"><a href="ols.html#cb394-9" tabindex="-1"></a></span>
<span id="cb394-10"><a href="ols.html#cb394-10" tabindex="-1"></a>Coefficients<span class="sc">:</span></span>
<span id="cb394-11"><a href="ols.html#cb394-11" tabindex="-1"></a>            Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb394-12"><a href="ols.html#cb394-12" tabindex="-1"></a>(Intercept) <span class="fl">31.68372</span>    <span class="fl">2.14801</span>  <span class="fl">14.750</span>  <span class="sc">&lt;</span> <span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb394-13"><a href="ols.html#cb394-13" tabindex="-1"></a>age          <span class="fl">0.21967</span>    <span class="fl">0.04157</span>   <span class="fl">5.284</span> <span class="fl">1.35e-07</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb394-14"><a href="ols.html#cb394-14" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb394-15"><a href="ols.html#cb394-15" tabindex="-1"></a>Signif. codes<span class="sc">:</span>  <span class="dv">0</span> <span class="st">&#39;***&#39;</span> <span class="fl">0.001</span> <span class="st">&#39;**&#39;</span> <span class="fl">0.01</span> <span class="st">&#39;*&#39;</span> <span class="fl">0.05</span> <span class="st">&#39;.&#39;</span> <span class="fl">0.1</span> <span class="st">&#39; &#39;</span> <span class="dv">1</span></span>
<span id="cb394-16"><a href="ols.html#cb394-16" tabindex="-1"></a></span>
<span id="cb394-17"><a href="ols.html#cb394-17" tabindex="-1"></a>Residual standard error<span class="sc">:</span> <span class="fl">38.67</span> on <span class="dv">3071</span> degrees of freedom</span>
<span id="cb394-18"><a href="ols.html#cb394-18" tabindex="-1"></a>  (<span class="dv">7</span> observations deleted due to missingness)</span>
<span id="cb394-19"><a href="ols.html#cb394-19" tabindex="-1"></a>Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.009011</span>,  Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.008688</span> </span>
<span id="cb394-20"><a href="ols.html#cb394-20" tabindex="-1"></a>F<span class="sc">-</span>statistic<span class="sc">:</span> <span class="fl">27.92</span> on <span class="dv">1</span> and <span class="dv">3071</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="fl">1.35e-07</span></span></code></pre></div>
<p>OK, there is a lot more here, and it is worth pausing to go through this step by step. First, R reminds us of the actual formula we have used to estimate the model:</p>
<p><img src="images/9/formula.png" /></p>
<p>I am ignoring the section on residuals, as we don’t need to make our life more difficult than it needs to be. Now come the coefficients:</p>
<p><img src="images/9/coeff.png" /></p>
<p>The size and direction is of course the same as in our previous output, but this output now contains some additional information about the standard error, the resulting t-value, and the p-value. R is very helpful here, in that it offers us a varying amount of asterisks according to different, commonly accepted levels of significance. 0.05 is standard practice in the social sciences, so we will accept anything with one, or more asterisks. Both our intercept and the slope coefficient are significant at a 95% confidence level, so we have shown that there is a statistical relationship between age and ratings for Trump.</p>
<p>I am omitting the residual standard error for the same reason as before, but let us look at the model fit indicators.</p>
<p><img src="images/9/rsquared.png" /></p>
<p>Multiple R-Squared (aka <span class="math inline">\(R^{2}\)</span>) tells us how much variation in the dependent variable <code>fttrump1</code> is explained through the independent variable <code>age</code>. <span class="math inline">\(R^{2}\)</span> runs between 0 and 1, where 1 is equal to 100% of the variation. In our case, we have explained a mere 0.09% of the Trump rating. This is lousy, and we can do a lot better than that. Never expect anything near 100% unless you work with a toy data set from a text book. If you get 60-70% you can be very happy. I will return to Adjusted <span class="math inline">\(R^{2}\)</span> in the Section on <a href="ols.html#multiple-linear-regression">Multiple Linear Regression</a>.</p>
<p>The F-statistic at the end:</p>
<p><img src="images/9/fstatistic.png" />
is a test with the null hypothesis that all coefficients of the model are jointly zero. In our case, we can reject this null hypothesis very soundly, as the p-value is far below the commonly accepted maximum of 5%.</p>
<div id="categorical-independent-variables-aka-dummies" class="section level5 unnumbered hasAnchor">
<h5>Categorical Independent Variables (aka ‘Dummies’)<a href="ols.html#categorical-independent-variables-aka-dummies" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Often variables are categorical. One such example is the variable <code>sex</code> which has two categories: male and female.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="ols.html#cb395-1" tabindex="-1"></a><span class="fu">summary</span>(anes<span class="sc">$</span>sex)</span>
<span id="cb395-2"><a href="ols.html#cb395-2" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb395-3"><a href="ols.html#cb395-3" tabindex="-1"></a>  <span class="fl">1.000</span>   <span class="fl">1.000</span>   <span class="fl">2.000</span>   <span class="fl">1.522</span>   <span class="fl">2.000</span>   <span class="fl">2.000</span> </span></code></pre></div>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="ols.html#cb396-1" tabindex="-1"></a><span class="fu">table</span>(anes<span class="sc">$</span>sex)</span>
<span id="cb396-2"><a href="ols.html#cb396-2" tabindex="-1"></a></span>
<span id="cb396-3"><a href="ols.html#cb396-3" tabindex="-1"></a>   <span class="dv">1</span>    <span class="dv">2</span> </span>
<span id="cb396-4"><a href="ols.html#cb396-4" tabindex="-1"></a><span class="dv">1473</span> <span class="dv">1607</span> </span></code></pre></div>
<p>Turn this into a factor variable and assign telling labels</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="ols.html#cb397-1" tabindex="-1"></a>anes<span class="sc">$</span>sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(anes<span class="sc">$</span>sex, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>))</span></code></pre></div>
<p>Check if this has worked:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="ols.html#cb398-1" tabindex="-1"></a><span class="fu">table</span>(anes<span class="sc">$</span>sex)</span>
<span id="cb398-2"><a href="ols.html#cb398-2" tabindex="-1"></a></span>
<span id="cb398-3"><a href="ols.html#cb398-3" tabindex="-1"></a>  Male Female </span>
<span id="cb398-4"><a href="ols.html#cb398-4" tabindex="-1"></a>  <span class="dv">1473</span>   <span class="dv">1607</span> </span></code></pre></div>
<p>Let’s estimate the model:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="ols.html#cb399-1" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(fttrump1 <span class="sc">~</span> sex, <span class="at">data =</span> anes)</span>
<span id="cb399-2"><a href="ols.html#cb399-2" tabindex="-1"></a><span class="fu">summary</span>(model2)</span>
<span id="cb399-3"><a href="ols.html#cb399-3" tabindex="-1"></a></span>
<span id="cb399-4"><a href="ols.html#cb399-4" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb399-5"><a href="ols.html#cb399-5" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> fttrump1 <span class="sc">~</span> sex, <span class="at">data =</span> anes)</span>
<span id="cb399-6"><a href="ols.html#cb399-6" tabindex="-1"></a></span>
<span id="cb399-7"><a href="ols.html#cb399-7" tabindex="-1"></a>Residuals<span class="sc">:</span></span>
<span id="cb399-8"><a href="ols.html#cb399-8" tabindex="-1"></a>    Min      <span class="dv">1</span>Q  Median      <span class="dv">3</span>Q     Max </span>
<span id="cb399-9"><a href="ols.html#cb399-9" tabindex="-1"></a><span class="sc">-</span><span class="fl">46.156</span> <span class="sc">-</span><span class="fl">38.992</span>  <span class="sc">-</span><span class="fl">1.156</span>  <span class="fl">38.844</span>  <span class="fl">61.008</span> </span>
<span id="cb399-10"><a href="ols.html#cb399-10" tabindex="-1"></a></span>
<span id="cb399-11"><a href="ols.html#cb399-11" tabindex="-1"></a>Coefficients<span class="sc">:</span></span>
<span id="cb399-12"><a href="ols.html#cb399-12" tabindex="-1"></a>            Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb399-13"><a href="ols.html#cb399-13" tabindex="-1"></a>(Intercept)   <span class="fl">46.156</span>      <span class="fl">1.009</span>  <span class="fl">45.749</span>  <span class="sc">&lt;</span> <span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb399-14"><a href="ols.html#cb399-14" tabindex="-1"></a>sexFemale     <span class="sc">-</span><span class="fl">7.165</span>      <span class="fl">1.397</span>  <span class="sc">-</span><span class="fl">5.129</span> <span class="fl">3.09e-07</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb399-15"><a href="ols.html#cb399-15" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb399-16"><a href="ols.html#cb399-16" tabindex="-1"></a>Signif. codes<span class="sc">:</span>  <span class="dv">0</span> <span class="st">&#39;***&#39;</span> <span class="fl">0.001</span> <span class="st">&#39;**&#39;</span> <span class="fl">0.01</span> <span class="st">&#39;*&#39;</span> <span class="fl">0.05</span> <span class="st">&#39;.&#39;</span> <span class="fl">0.1</span> <span class="st">&#39; &#39;</span> <span class="dv">1</span></span>
<span id="cb399-17"><a href="ols.html#cb399-17" tabindex="-1"></a></span>
<span id="cb399-18"><a href="ols.html#cb399-18" tabindex="-1"></a>Residual standard error<span class="sc">:</span> <span class="fl">38.68</span> on <span class="dv">3071</span> degrees of freedom</span>
<span id="cb399-19"><a href="ols.html#cb399-19" tabindex="-1"></a>  (<span class="dv">7</span> observations deleted due to missingness)</span>
<span id="cb399-20"><a href="ols.html#cb399-20" tabindex="-1"></a>Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.008493</span>,  Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.00817</span> </span>
<span id="cb399-21"><a href="ols.html#cb399-21" tabindex="-1"></a>F<span class="sc">-</span>statistic<span class="sc">:</span> <span class="fl">26.31</span> on <span class="dv">1</span> and <span class="dv">3071</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="fl">3.095e-07</span></span></code></pre></div>
<p>How do we interpret this?</p>
<ul>
<li>Let’s do the slope coefficient first: a women would rate Trump at 7.16 points less than a man on average. The interpretation of a dummy variable coefficient is done with regards to the reference category. In our case this is “male”. So the effect we observe here is equivalent of moving from “male” to “female” and that effect adds 7.16 points.</li>
<li>This gives you an indication of how to interpret the intercept in this case: The value displayed is how men would rate Trump on average, namely at 46.16 points. All of this is significant at a 95% confidence level.</li>
</ul>
<p>This effect corroborates the hypothesis advanced by Inglehart and Norris, but the results are not displayed in the most elegant way. The sex these authors made a statement about were men. So we need to change the reference category to “female”.</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="ols.html#cb400-1" tabindex="-1"></a>anes <span class="ot">&lt;-</span> anes <span class="sc">%&gt;%</span></span>
<span id="cb400-2"><a href="ols.html#cb400-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">relevel</span>(sex, <span class="at">ref =</span> <span class="st">&quot;Female&quot;</span>))</span></code></pre></div>
<p>When we re-estimate the model, we get the effect displayed directly:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="ols.html#cb401-1" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(fttrump1 <span class="sc">~</span> sex, <span class="at">data =</span> anes)</span>
<span id="cb401-2"><a href="ols.html#cb401-2" tabindex="-1"></a><span class="fu">summary</span>(model2)</span>
<span id="cb401-3"><a href="ols.html#cb401-3" tabindex="-1"></a></span>
<span id="cb401-4"><a href="ols.html#cb401-4" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb401-5"><a href="ols.html#cb401-5" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> fttrump1 <span class="sc">~</span> sex, <span class="at">data =</span> anes)</span>
<span id="cb401-6"><a href="ols.html#cb401-6" tabindex="-1"></a></span>
<span id="cb401-7"><a href="ols.html#cb401-7" tabindex="-1"></a>Residuals<span class="sc">:</span></span>
<span id="cb401-8"><a href="ols.html#cb401-8" tabindex="-1"></a>    Min      <span class="dv">1</span>Q  Median      <span class="dv">3</span>Q     Max </span>
<span id="cb401-9"><a href="ols.html#cb401-9" tabindex="-1"></a><span class="sc">-</span><span class="fl">46.156</span> <span class="sc">-</span><span class="fl">38.992</span>  <span class="sc">-</span><span class="fl">1.156</span>  <span class="fl">38.844</span>  <span class="fl">61.008</span> </span>
<span id="cb401-10"><a href="ols.html#cb401-10" tabindex="-1"></a></span>
<span id="cb401-11"><a href="ols.html#cb401-11" tabindex="-1"></a>Coefficients<span class="sc">:</span></span>
<span id="cb401-12"><a href="ols.html#cb401-12" tabindex="-1"></a>            Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb401-13"><a href="ols.html#cb401-13" tabindex="-1"></a>(Intercept)  <span class="fl">38.9919</span>     <span class="fl">0.9661</span>  <span class="fl">40.358</span>  <span class="sc">&lt;</span> <span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb401-14"><a href="ols.html#cb401-14" tabindex="-1"></a>sexMale       <span class="fl">7.1646</span>     <span class="fl">1.3969</span>   <span class="fl">5.129</span> <span class="fl">3.09e-07</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb401-15"><a href="ols.html#cb401-15" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb401-16"><a href="ols.html#cb401-16" tabindex="-1"></a>Signif. codes<span class="sc">:</span>  <span class="dv">0</span> <span class="st">&#39;***&#39;</span> <span class="fl">0.001</span> <span class="st">&#39;**&#39;</span> <span class="fl">0.01</span> <span class="st">&#39;*&#39;</span> <span class="fl">0.05</span> <span class="st">&#39;.&#39;</span> <span class="fl">0.1</span> <span class="st">&#39; &#39;</span> <span class="dv">1</span></span>
<span id="cb401-17"><a href="ols.html#cb401-17" tabindex="-1"></a></span>
<span id="cb401-18"><a href="ols.html#cb401-18" tabindex="-1"></a>Residual standard error<span class="sc">:</span> <span class="fl">38.68</span> on <span class="dv">3071</span> degrees of freedom</span>
<span id="cb401-19"><a href="ols.html#cb401-19" tabindex="-1"></a>  (<span class="dv">7</span> observations deleted due to missingness)</span>
<span id="cb401-20"><a href="ols.html#cb401-20" tabindex="-1"></a>Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.008493</span>,  Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.00817</span> </span>
<span id="cb401-21"><a href="ols.html#cb401-21" tabindex="-1"></a>F<span class="sc">-</span>statistic<span class="sc">:</span> <span class="fl">26.31</span> on <span class="dv">1</span> and <span class="dv">3071</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="fl">3.095e-07</span></span></code></pre></div>
<p>Whilst many categorical variables are binary, of course not all of them are. So how does this work with a categorical variable with 3 or more levels?</p>
<p>The next determinant mentioned in Inglehart and Norris’ paper is education. We can obtain information about a respondent’s level of education with the variable <code>educ</code>.</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="ols.html#cb402-1" tabindex="-1"></a><span class="fu">summary</span>(anes<span class="sc">$</span>educ)</span>
<span id="cb402-2"><a href="ols.html#cb402-2" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb402-3"><a href="ols.html#cb402-3" tabindex="-1"></a>  <span class="fl">1.000</span>   <span class="fl">3.000</span>   <span class="fl">4.000</span>   <span class="fl">4.012</span>   <span class="fl">5.000</span>   <span class="fl">8.000</span> </span></code></pre></div>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="ols.html#cb403-1" tabindex="-1"></a><span class="fu">table</span>(anes<span class="sc">$</span>educ)</span>
<span id="cb403-2"><a href="ols.html#cb403-2" tabindex="-1"></a></span>
<span id="cb403-3"><a href="ols.html#cb403-3" tabindex="-1"></a>  <span class="dv">1</span>   <span class="dv">2</span>   <span class="dv">3</span>   <span class="dv">4</span>   <span class="dv">5</span>   <span class="dv">6</span>   <span class="dv">7</span>   <span class="dv">8</span> </span>
<span id="cb403-4"><a href="ols.html#cb403-4" tabindex="-1"></a><span class="dv">100</span> <span class="dv">656</span> <span class="dv">622</span> <span class="dv">326</span> <span class="dv">761</span> <span class="dv">424</span> <span class="dv">102</span>  <span class="dv">89</span> </span></code></pre></div>
<p>This is not terribly telling in itself, yet, so let’s have a look at the codebook:</p>
<p><img src="images/9/educ.png" style="width:60.0%" /></p>
<p>The first step is, as before to recode this variable into a factor variable:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="ols.html#cb404-1" tabindex="-1"></a>anes<span class="sc">$</span>educ <span class="ot">&lt;-</span> <span class="fu">factor</span>(anes<span class="sc">$</span>educ)</span></code></pre></div>
<p>Eight levels are too many here to do any meaningful analysis, and two would be too reductionist. For sake of simplicity, let’s go with three: low, medium and high education. We recode into an ordered factor as follows:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="ols.html#cb405-1" tabindex="-1"></a>anes <span class="ot">&lt;-</span> anes <span class="sc">%&gt;%</span></span>
<span id="cb405-2"><a href="ols.html#cb405-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">educ_fac =</span> <span class="fu">recode</span>(educ, <span class="st">&#39;1&#39;</span><span class="ot">=</span><span class="st">&quot;low&quot;</span>, </span>
<span id="cb405-3"><a href="ols.html#cb405-3" tabindex="-1"></a>                       <span class="st">&#39;2&#39;</span><span class="ot">=</span> <span class="st">&quot;low&quot;</span>,</span>
<span id="cb405-4"><a href="ols.html#cb405-4" tabindex="-1"></a>                       <span class="st">&#39;3&#39;</span><span class="ot">=</span> <span class="st">&quot;low&quot;</span>,</span>
<span id="cb405-5"><a href="ols.html#cb405-5" tabindex="-1"></a>                       <span class="st">&#39;4&#39;</span> <span class="ot">=</span> <span class="st">&quot;medium&quot;</span>,</span>
<span id="cb405-6"><a href="ols.html#cb405-6" tabindex="-1"></a>                       <span class="st">&#39;5&#39;</span> <span class="ot">=</span> <span class="st">&quot;medium&quot;</span>,</span>
<span id="cb405-7"><a href="ols.html#cb405-7" tabindex="-1"></a>                       <span class="st">&#39;6&#39;</span> <span class="ot">=</span> <span class="st">&quot;high&quot;</span>,</span>
<span id="cb405-8"><a href="ols.html#cb405-8" tabindex="-1"></a>                       <span class="st">&#39;7&#39;</span> <span class="ot">=</span> <span class="st">&quot;high&quot;</span>,</span>
<span id="cb405-9"><a href="ols.html#cb405-9" tabindex="-1"></a>                       <span class="st">&#39;8&#39;</span> <span class="ot">=</span> <span class="st">&quot;high&quot;</span>))</span></code></pre></div>
<p>Check the results:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="ols.html#cb406-1" tabindex="-1"></a><span class="fu">table</span>(anes<span class="sc">$</span>educ_fac)</span>
<span id="cb406-2"><a href="ols.html#cb406-2" tabindex="-1"></a></span>
<span id="cb406-3"><a href="ols.html#cb406-3" tabindex="-1"></a>   low medium   high </span>
<span id="cb406-4"><a href="ols.html#cb406-4" tabindex="-1"></a>  <span class="dv">1378</span>   <span class="dv">1087</span>    <span class="dv">615</span> </span></code></pre></div>
<p>And we are ready to go:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="ols.html#cb407-1" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(fttrump1 <span class="sc">~</span> educ_fac, <span class="at">data =</span> anes)</span>
<span id="cb407-2"><a href="ols.html#cb407-2" tabindex="-1"></a><span class="fu">summary</span>(model3)</span>
<span id="cb407-3"><a href="ols.html#cb407-3" tabindex="-1"></a></span>
<span id="cb407-4"><a href="ols.html#cb407-4" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb407-5"><a href="ols.html#cb407-5" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> fttrump1 <span class="sc">~</span> educ_fac, <span class="at">data =</span> anes)</span>
<span id="cb407-6"><a href="ols.html#cb407-6" tabindex="-1"></a></span>
<span id="cb407-7"><a href="ols.html#cb407-7" tabindex="-1"></a>Residuals<span class="sc">:</span></span>
<span id="cb407-8"><a href="ols.html#cb407-8" tabindex="-1"></a>    Min      <span class="dv">1</span>Q  Median      <span class="dv">3</span>Q     Max </span>
<span id="cb407-9"><a href="ols.html#cb407-9" tabindex="-1"></a><span class="sc">-</span><span class="fl">42.943</span> <span class="sc">-</span><span class="fl">42.019</span>  <span class="sc">-</span><span class="fl">2.388</span>  <span class="fl">37.981</span>  <span class="fl">57.981</span> </span>
<span id="cb407-10"><a href="ols.html#cb407-10" tabindex="-1"></a></span>
<span id="cb407-11"><a href="ols.html#cb407-11" tabindex="-1"></a>Coefficients<span class="sc">:</span></span>
<span id="cb407-12"><a href="ols.html#cb407-12" tabindex="-1"></a>               Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb407-13"><a href="ols.html#cb407-13" tabindex="-1"></a>(Intercept)     <span class="fl">42.0189</span>     <span class="fl">1.0481</span>  <span class="fl">40.090</span>   <span class="sc">&lt;</span><span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb407-14"><a href="ols.html#cb407-14" tabindex="-1"></a>educ_facmedium   <span class="fl">0.9240</span>     <span class="fl">1.5775</span>   <span class="fl">0.586</span>    <span class="fl">0.558</span>    </span>
<span id="cb407-15"><a href="ols.html#cb407-15" tabindex="-1"></a>educ_fachigh     <span class="fl">0.3693</span>     <span class="fl">1.8870</span>   <span class="fl">0.196</span>    <span class="fl">0.845</span>    </span>
<span id="cb407-16"><a href="ols.html#cb407-16" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb407-17"><a href="ols.html#cb407-17" tabindex="-1"></a>Signif. codes<span class="sc">:</span>  <span class="dv">0</span> <span class="st">&#39;***&#39;</span> <span class="fl">0.001</span> <span class="st">&#39;**&#39;</span> <span class="fl">0.01</span> <span class="st">&#39;*&#39;</span> <span class="fl">0.05</span> <span class="st">&#39;.&#39;</span> <span class="fl">0.1</span> <span class="st">&#39; &#39;</span> <span class="dv">1</span></span>
<span id="cb407-18"><a href="ols.html#cb407-18" tabindex="-1"></a></span>
<span id="cb407-19"><a href="ols.html#cb407-19" tabindex="-1"></a>Residual standard error<span class="sc">:</span> <span class="fl">38.85</span> on <span class="dv">3070</span> degrees of freedom</span>
<span id="cb407-20"><a href="ols.html#cb407-20" tabindex="-1"></a>  (<span class="dv">7</span> observations deleted due to missingness)</span>
<span id="cb407-21"><a href="ols.html#cb407-21" tabindex="-1"></a>Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.0001119</span>, Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="sc">-</span><span class="fl">0.0005395</span> </span>
<span id="cb407-22"><a href="ols.html#cb407-22" tabindex="-1"></a>F<span class="sc">-</span>statistic<span class="sc">:</span> <span class="fl">0.1718</span> on <span class="dv">2</span> and <span class="dv">3070</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="fl">0.8422</span></span></code></pre></div>
<p>Whilst the intercept is statistically significant, the slope coefficients are not. Therefore, we can conclude that education has no statistical influence on Trump’s approval ratings.</p>
<p>Note, that as in the sex example before, R has chose the first level of the independent variable as the reference category. If you wish to change this, you can do so in the same manner as before. You can also check which level R has used as the reference category with the <code>contrasts()</code> command. Here:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="ols.html#cb408-1" tabindex="-1"></a><span class="fu">contrasts</span>(anes<span class="sc">$</span>educ_fac)</span>
<span id="cb408-2"><a href="ols.html#cb408-2" tabindex="-1"></a>       medium high</span>
<span id="cb408-3"><a href="ols.html#cb408-3" tabindex="-1"></a>low         <span class="dv">0</span>    <span class="dv">0</span></span>
<span id="cb408-4"><a href="ols.html#cb408-4" tabindex="-1"></a>medium      <span class="dv">1</span>    <span class="dv">0</span></span>
<span id="cb408-5"><a href="ols.html#cb408-5" tabindex="-1"></a>high        <span class="dv">0</span>    <span class="dv">1</span></span></code></pre></div>
</div>
<div id="summary-for-bivariate-regression" class="section level5 unnumbered hasAnchor">
<h5>Summary for Bivariate Regression<a href="ols.html#summary-for-bivariate-regression" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>And that’s it! You have made the first big step to understanding regression output and producing such output yourself. But explanations in the real world are never mono-causal. There are always multiple influences working at the same time, and we need to set up our statistical model to take this complexity into account. Which brings us to the next step: multiple regression.</p>
</div>
</div>
</div>
<div id="multiple-linear-regression" class="section level3 unnumbered hasAnchor">
<h3>Multiple Linear Regression<a href="ols.html#multiple-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="the-theory-1" class="section level4 unnumbered hasAnchor">
<h4>The Theory<a href="ols.html#the-theory-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We are simply extending Equation <a href="ols.html#eq:srf">(9.3)</a> by adding more independent variables. For two independent variables we would write:</p>
<p><span class="math display">\[\begin{equation}
\hat{Y} = \hat{\beta}_{0} + \hat{\beta}_{1} X_{1i} + \hat{\beta}_{2} X_{2i}
\end{equation}\]</span></p>
<p>Note that not only the betas have a subscript now, but also the independent variables. For example <span class="math inline">\(X_{1i}\)</span> would denote the <span class="math inline">\(i^{th}\)</span> observation of independent variable 1.</p>
<p>We can extend this more generally to:</p>
<p><span class="math display" id="eq:srffull">\[\begin{equation}
\hat{Y} = \hat{\beta}_{0} + \hat{\beta}_{1} X_{1i} + \hat{\beta}_{2} X_{2i} + ... + \hat{\beta}_{n} X_{ni}
\tag{9.4}
\end{equation}\]</span></p>
<p>where n is the number of independent variables in the model.</p>
</div>
<div id="the-application-1" class="section level4 unnumbered hasAnchor">
<h4>The Application<a href="ols.html#the-application-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Just as we have extended Equation <a href="ols.html#eq:srf">(9.3)</a> to <a href="ols.html#eq:srffull">(9.4)</a>, we can extend our model in <code>R</code> - we simply need to connect the independent variables with <code>+</code>. If we wished to look at the joint influence of all independent variables we have included so far, we would type:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="ols.html#cb409-1" tabindex="-1"></a>model4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(fttrump1 <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> educ_fac, <span class="at">data =</span> anes)</span>
<span id="cb409-2"><a href="ols.html#cb409-2" tabindex="-1"></a><span class="fu">summary</span>(model4)</span>
<span id="cb409-3"><a href="ols.html#cb409-3" tabindex="-1"></a></span>
<span id="cb409-4"><a href="ols.html#cb409-4" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb409-5"><a href="ols.html#cb409-5" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> fttrump1 <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> educ_fac, <span class="at">data =</span> anes)</span>
<span id="cb409-6"><a href="ols.html#cb409-6" tabindex="-1"></a></span>
<span id="cb409-7"><a href="ols.html#cb409-7" tabindex="-1"></a>Residuals<span class="sc">:</span></span>
<span id="cb409-8"><a href="ols.html#cb409-8" tabindex="-1"></a>    Min      <span class="dv">1</span>Q  Median      <span class="dv">3</span>Q     Max </span>
<span id="cb409-9"><a href="ols.html#cb409-9" tabindex="-1"></a><span class="sc">-</span><span class="fl">55.109</span> <span class="sc">-</span><span class="fl">38.373</span>  <span class="sc">-</span><span class="fl">1.385</span>  <span class="fl">37.536</span>  <span class="fl">68.242</span> </span>
<span id="cb409-10"><a href="ols.html#cb409-10" tabindex="-1"></a></span>
<span id="cb409-11"><a href="ols.html#cb409-11" tabindex="-1"></a>Coefficients<span class="sc">:</span></span>
<span id="cb409-12"><a href="ols.html#cb409-12" tabindex="-1"></a>               Estimate Std. Error t value <span class="fu">Pr</span>(<span class="sc">&gt;</span><span class="er">|</span>t<span class="sc">|</span>)    </span>
<span id="cb409-13"><a href="ols.html#cb409-13" tabindex="-1"></a>(Intercept)    <span class="fl">27.33647</span>    <span class="fl">2.40776</span>  <span class="fl">11.353</span>  <span class="sc">&lt;</span> <span class="fl">2e-16</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb409-14"><a href="ols.html#cb409-14" tabindex="-1"></a>age             <span class="fl">0.23274</span>    <span class="fl">0.04156</span>   <span class="fl">5.599</span> <span class="fl">2.34e-08</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb409-15"><a href="ols.html#cb409-15" tabindex="-1"></a>sexMale         <span class="fl">7.66785</span>    <span class="fl">1.40848</span>   <span class="fl">5.444</span> <span class="fl">5.62e-08</span> <span class="sc">**</span><span class="er">*</span></span>
<span id="cb409-16"><a href="ols.html#cb409-16" tabindex="-1"></a>educ_facmedium  <span class="fl">0.32209</span>    <span class="fl">1.56889</span>   <span class="fl">0.205</span>    <span class="fl">0.837</span>    </span>
<span id="cb409-17"><a href="ols.html#cb409-17" tabindex="-1"></a>educ_fachigh   <span class="sc">-</span><span class="fl">0.36738</span>    <span class="fl">1.89537</span>  <span class="sc">-</span><span class="fl">0.194</span>    <span class="fl">0.846</span>    </span>
<span id="cb409-18"><a href="ols.html#cb409-18" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb409-19"><a href="ols.html#cb409-19" tabindex="-1"></a>Signif. codes<span class="sc">:</span>  <span class="dv">0</span> <span class="st">&#39;***&#39;</span> <span class="fl">0.001</span> <span class="st">&#39;**&#39;</span> <span class="fl">0.01</span> <span class="st">&#39;*&#39;</span> <span class="fl">0.05</span> <span class="st">&#39;.&#39;</span> <span class="fl">0.1</span> <span class="st">&#39; &#39;</span> <span class="dv">1</span></span>
<span id="cb409-20"><a href="ols.html#cb409-20" tabindex="-1"></a></span>
<span id="cb409-21"><a href="ols.html#cb409-21" tabindex="-1"></a>Residual standard error<span class="sc">:</span> <span class="fl">38.5</span> on <span class="dv">3068</span> degrees of freedom</span>
<span id="cb409-22"><a href="ols.html#cb409-22" tabindex="-1"></a>  (<span class="dv">7</span> observations deleted due to missingness)</span>
<span id="cb409-23"><a href="ols.html#cb409-23" tabindex="-1"></a>Multiple R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.01868</span>,   Adjusted R<span class="sc">-</span>squared<span class="sc">:</span>  <span class="fl">0.0174</span> </span>
<span id="cb409-24"><a href="ols.html#cb409-24" tabindex="-1"></a>F<span class="sc">-</span>statistic<span class="sc">:</span>  <span class="fl">14.6</span> on <span class="dv">4</span> and <span class="dv">3068</span> DF,  p<span class="sc">-</span>value<span class="sc">:</span> <span class="fl">8.15e-12</span></span></code></pre></div>
</div>
<div id="the-interpretation" class="section level4 unnumbered hasAnchor">
<h4>The Interpretation<a href="ols.html#the-interpretation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As we have included multiple independent variables now, the interpretation of coefficients changes slightly. The principle here is called “Ceteris Paribus” which means “all other things being equal”. What exactly does that mean?</p>
<p>Take the coefficient for <code>age</code>, for example. If this was a bivariate regression we would interpret it as follows: “on average, for every additional year of age, the support for Trump would increase by 0.23274 units”. The first thing you will note here is that the size of this coefficient has changed. When we ran the bivariate model it was 0.21967. The reason is the inclusion of other variables. By doing this, we are isolating, or purifying the influence our variable <code>age</code> has, holding <code>sex</code> and <code>educ_fac</code> constant. You could also say “<code>sex</code> and <code>educ_fac</code> being equal, on average, for every additional year of age, the support for Trump would increase by 0.23274 units”. This is our new interpretation of coefficients in multiple regression.</p>
</div>
<div id="model-fit-again" class="section level4 unnumbered hasAnchor">
<h4>Model Fit (again)<a href="ols.html#model-fit-again" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If I added “shoe size of interviewee” into the model, this would make absolutely no sense from a theoretical point of view. Yet, our R-Squared would either stay the same, or even increase. R-Squared can never decrease from the addition of more variables. This is of course no good. We need a measure that takes into account the number of independent variables, and penalises us for the inclusion of irrelevant variables. This measure is called “Adjusted R-Squared” and can be found at the bottom of the model summary.</p>
<p>If you run a bivariate model, always use “Multiple R-Squared”, when running multiple regression, always use “Adjusted R-Squared”. This will allow you to compare the model fit between models and to determine whether a variable adds explanatory power (“Adjusted R-Squared” increases), is pointless (“Adjusted R-Squared” stays the same), or is detrimental to the model (“Adjusted R-Squared” decreases).</p>
</div>
<div id="model-specification" class="section level4 unnumbered hasAnchor">
<h4>Model Specification<a href="ols.html#model-specification" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You will have noticed that I quoted Norris and Inglehart’s determinants for populist support and I have done so intentionally. The selection of your independent variables <em>always</em> needs to be guided by theory. Theory provides a logic and a structure to our enquiry which makes it scientific (which is why what we do is called “Political Science” and not “Politics”, and let nobody tell you otherwise. Politics takes place in Westminster and is defined as the negotiation between different groups according to their respective power - don’t say you didn’t learn anything on this module). Otherwise, we would only be stabbing into the dark, randomly checking factors we deem influential.</p>
<p>The composition of a regression model therefore also needs to be guided by theory. If a theory has multiple components, or has been extended over time, you can test the propositions of each stage separately. Classical Modernisation for example, posits that wealthier countries are more democratic. Later on, influencing factors were extended to health, education, urbanisation, etc. So it would make sense to run a model with just GDP first, and then to add the other three variables.</p>
<p>Occasionally, the inclusion of new variables takes the significance away from previously included ones, and you are able to show that these new variables explain the variation in the dependent variable better. So, it always makes sense to test different combinations of independent variables to look deeper into which explains the outcome better / best.</p>
<p>One last word on selecting independent variables: you can’t just throw a random number of variables into the model. you need to observe the principle of <strong>parsimony</strong> which asks you to use as many variables as necessary, but as few as possible.</p>
</div>
</div>
</div>
<div id="summary-7" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Summary<a href="ols.html#summary-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><em>OLS</em> Acronym for “Ordinary Least Squares”.</p></li>
<li><p><em>CLM</em> Acronym for “Classical Linear Model”.</p></li>
<li><p><em>BLUE</em> Acronym for “Best Linear Unbiased Estimator”.</p></li>
<li><p><em>Parsimony</em> Use as many variables as necessary, but as few as possible.</p></li>
</ul>
<div id="functions-list-7" class="section level3 unnumbered hasAnchor">
<h3>Functions list<a href="ols.html#functions-list-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="11%" />
<col width="6%" />
<col width="82%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">function</th>
<th align="left">package</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">c()</td>
<td align="left">base</td>
<td align="left">Combine values/vectors into a vector</td>
</tr>
<tr class="even">
<td align="left">factor()</td>
<td align="left">base</td>
<td align="left">create a factor</td>
</tr>
<tr class="odd">
<td align="left">library()</td>
<td align="left">base</td>
<td align="left">load an R package</td>
</tr>
<tr class="even">
<td align="left">summary()</td>
<td align="left">base</td>
<td align="left">Obtain summary statistics or detailed regression output</td>
</tr>
<tr class="odd">
<td align="left">table()</td>
<td align="left">base</td>
<td align="left">obtain frequency table of a variable/cross-tabulation of two variables</td>
</tr>
<tr class="even">
<td align="left">mutate()</td>
<td align="left">dplyr</td>
<td align="left">modify/create a column in a data frame</td>
</tr>
<tr class="odd">
<td align="left">recode()</td>
<td align="left">dplyr</td>
<td align="left">Recode a variable</td>
</tr>
<tr class="even">
<td align="left">aes()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">geom_point()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">geom_smooth()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ggplot()</td>
<td align="left">ggplot2</td>
<td align="left">Create a ggplot graph</td>
</tr>
<tr class="even">
<td align="left">contrasts()</td>
<td align="left">stats</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">lm()</td>
<td align="left">stats</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">relevel()</td>
<td align="left">stats</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">read.csv()</td>
<td align="left">utils</td>
<td align="left">read a csv file to data frame. Specify stringsAsFactors = FALSE to keep all string columns as characters</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="exercises-7" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Exercises<a href="ols.html#exercises-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>The relationship proposed by Inglehart and Norris (2016) also includes religiosity and ethnic majorities as possible predictors.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Using the variable <code>att2</code>, assess in a bivariate regression the influence of religiosity. Categorise those attending services almost every week, or every week as ‘religious’, and all others as ‘not religious’.</li>
<li>Using the variable <code>latin1</code>, assess in a bivariate regression if being a member of Hispanic, Latino, or Spanish origin has a negative effect on approving of Trump.</li>
<li>Another, frequently used variable to predict endorsements of politicians is income. In a bivariate regression, use the variable <code>income</code> to test this relationship. For this, create a new variable called <code>income_fac</code> with three levels: low income (0-44,999), medium income (45,000-84,999), and high income (&gt;85,000).</li>
</ol>
<p><em>The solutions for the exercises will be available here on 2021-02-18.</em></p>
<button class="btn btn-default" onclick="fetch(&#39;data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAxLiBUaGUgcmVsYXRpb25zaGlwIHByb3Bvc2VkIGJ5IEluZ2xlaGFydCBhbmQgTm9ycmlzICgyMDE2KSBhbHNvIGluY2x1ZGVzIHJlbGlnaW9zaXR5IGFuZCBldGhuaWMgbWFqb3JpdGllcyBhcyBwb3NzaWJsZSBwcmVkaWN0b3JzLgojJyBhLiBVc2luZyB0aGUgdmFyaWFibGUgYGF0dDJgLCBhc3Nlc3MgaW4gYSBiaXZhcmlhdGUgcmVncmVzc2lvbiB0aGUgaW5mbHVlbmNlIG9mIHJlbGlnaW9zaXR5LiBDYXRlZ29yaXNlIHRob3NlIGF0dGVuZGluZyBzZXJ2aWNlcyBhbG1vc3QgZXZlcnkgd2Vlaywgb3IgZXZlcnkgd2VlayBhcyAncmVsaWdpb3VzJywgYW5kIGFsbCBvdGhlcnMgYXMgJ25vdCByZWxpZ2lvdXMnLgojJyBiLiBVc2luZyB0aGUgdmFyaWFibGUgYGxhdGluMWAsIGFzc2VzcyBpbiBhIGJpdmFyaWF0ZSByZWdyZXNzaW9uIGlmIGJlaW5nIGEgbWVtYmVyIG9mIEhpc3BhbmljLCBMYXRpbm8sIG9yIFNwYW5pc2ggb3JpZ2luIGhhcyBhIG5lZ2F0aXZlIGVmZmVjdCBvbiBhcHByb3Zpbmcgb2YgVHJ1bXAuCiMnIGMuIEFub3RoZXIsIGZyZXF1ZW50bHkgdXNlZCB2YXJpYWJsZSB0byBwcmVkaWN0IGVuZG9yc2VtZW50cyBvZiBwb2xpdGljaWFucyBpcyBpbmNvbWUuIEluIGEgYml2YXJpYXRlIHJlZ3Jlc3Npb24sIHVzZSB0aGUgdmFyaWFibGUgYGluY29tZWAgdG8gdGVzdCB0aGlzIHJlbGF0aW9uc2hpcC4gRm9yIHRoaXMsIGNyZWF0ZSBhIG5ldyB2YXJpYWJsZSBjYWxsZWQgYGluY29tZV9mYWNgIHdpdGggdGhyZWUgbGV2ZWxzOiBsb3cgaW5jb21lICgwLTQ0LDk5OSksIG1lZGl1bSBpbmNvbWUgKDQ1LDAwMC04NCw5OTkpLCBhbmQgaGlnaCBpbmNvbWUgKD44NSwwMDApLiAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiNBTlNXRVIKCgoKIycgCiMnIAojJyAqVGhlIHNvbHV0aW9ucyBmb3IgdGhlIGV4ZXJjaXNlcyB3aWxsIGJlIGF2YWlsYWJsZSBoZXJlIG9uIGByIGNvbmZpZyRvbHNgLioKIycgCiMnIAoA&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;09-ols-solutions.R&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter solutions</button>
</div>
<div id="references" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> References<a href="ols.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Inglehart, Ronald F. and Norris, Pippa (2016) Trump, Brexit, and the Rise of Populism: Economic Have-Nots and Cultural Backlash. HKS Working Paper No. RWP16-026, Available at SSRN: <a href="https://ssrn.com/abstract=2818659" class="uri">https://ssrn.com/abstract=2818659</a> or <a href="http://dx.doi.org/10.2139/ssrn.2818659" class="uri">http://dx.doi.org/10.2139/ssrn.2818659</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="association.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="logit.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"toc_depth": 2
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

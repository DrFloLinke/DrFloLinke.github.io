<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Key Programming Concepts | Analysing Quantitative Data with R</title>
  <meta name="description" content="5 Key Programming Concepts | Analysing Quantitative Data with R" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Key Programming Concepts | Analysing Quantitative Data with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Key Programming Concepts | Analysing Quantitative Data with R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploratory.html"/>
<link rel="next" href="dplyr.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/font-awesome-5.13.0/js/script.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I THE BASICS</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#content"><i class="fa fa-check"></i><b>1.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#what-is-r-and-why-should-i-learn-it"><i class="fa fa-check"></i>What is R and why should I learn it?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#the-course-structure"><i class="fa fa-check"></i>The course structure</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#setup"><i class="fa fa-check"></i>Setup</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#layout"><i class="fa fa-check"></i>Layout</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics of R Programming</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#content-1"><i class="fa fa-check"></i><b>2.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#arithmetic-operations-and-assignment"><i class="fa fa-check"></i>Arithmetic operations and assignment</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#coercion"><i class="fa fa-check"></i>Coercion</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#logical-values-and-operators"><i class="fa fa-check"></i>Logical Values and Operators</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#indexing"><i class="fa fa-check"></i>Indexing</a></li>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#sorting"><i class="fa fa-check"></i>Sorting</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#summary"><i class="fa fa-check"></i><b>2.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="basics.html"><a href="basics.html#functions-list"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basics.html"><a href="basics.html#exercises"><i class="fa fa-check"></i><b>2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="datastructures.html"><a href="datastructures.html"><i class="fa fa-check"></i><b>3</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="datastructures.html"><a href="datastructures.html#content-2"><i class="fa fa-check"></i><b>3.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#data-frames"><i class="fa fa-check"></i>Data Frames</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#factors"><i class="fa fa-check"></i>Factors</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#reading-and-writing-the-data"><i class="fa fa-check"></i>Reading and writing the data</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#missing-values"><i class="fa fa-check"></i>Missing values</a></li>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#lists"><i class="fa fa-check"></i>Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="datastructures.html"><a href="datastructures.html#summary-1"><i class="fa fa-check"></i><b>3.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="datastructures.html"><a href="datastructures.html#functions-list-1"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="datastructures.html"><a href="datastructures.html#exercises-1"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory.html"><a href="exploratory.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploratory.html"><a href="exploratory.html#content-3"><i class="fa fa-check"></i><b>4.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#what-is-exploratory-data-analysis"><i class="fa fa-check"></i>What is exploratory data analysis?</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#first-look-at-the-data"><i class="fa fa-check"></i>First look at the data</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#numeric-vs-categorical-variables"><i class="fa fa-check"></i>Numeric vs categorical variables</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#numeric-variables"><i class="fa fa-check"></i>Numeric variables</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#categorical-variables"><i class="fa fa-check"></i>Categorical variables</a></li>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#customizing-visualizations"><i class="fa fa-check"></i>Customizing visualizations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exploratory.html"><a href="exploratory.html#summary-2"><i class="fa fa-check"></i><b>4.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="exploratory.html"><a href="exploratory.html#functions-list-2"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="exploratory.html"><a href="exploratory.html#exercises-2"><i class="fa fa-check"></i><b>4.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II ADVANCED DATA MANIPULATION</b></span></li>
<li class="chapter" data-level="5" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i><b>5</b> Key Programming Concepts</a>
<ul>
<li class="chapter" data-level="5.1" data-path="programming.html"><a href="programming.html#content-4"><i class="fa fa-check"></i><b>5.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#control-flow-statements"><i class="fa fa-check"></i>Control flow statements</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#for-loops"><i class="fa fa-check"></i>For loops</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#if-statements"><i class="fa fa-check"></i>If statements</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#sapply"><i class="fa fa-check"></i>Sapply</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="programming.html"><a href="programming.html#summary-3"><i class="fa fa-check"></i><b>5.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#functions-list-3"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="programming.html"><a href="programming.html#exercises-3"><i class="fa fa-check"></i><b>5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>6</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dplyr.html"><a href="dplyr.html#content-5"><i class="fa fa-check"></i><b>6.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#reading-the-data"><i class="fa fa-check"></i>Reading the data</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#the-pipe-operator"><i class="fa fa-check"></i>The pipe operator</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#dataset-manipulation"><i class="fa fa-check"></i>Dataset manipulation</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#reshaping-data"><i class="fa fa-check"></i>Reshaping data</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#joining"><i class="fa fa-check"></i>Joining</a></li>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#aggregating-data"><i class="fa fa-check"></i>Aggregating data</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="dplyr.html"><a href="dplyr.html#summary-4"><i class="fa fa-check"></i><b>6.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="dplyr.html"><a href="dplyr.html#functions-list-4"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="dplyr.html"><a href="dplyr.html#exercises-4"><i class="fa fa-check"></i><b>6.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>7</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="visualization.html"><a href="visualization.html#content-6"><i class="fa fa-check"></i><b>7.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#the-plotting-syntax"><i class="fa fa-check"></i>The plotting syntax</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#all-about-geoms---plot-types-in-ggplot2"><i class="fa fa-check"></i>All about geoms - plot types in ggplot2</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#multiple-plots"><i class="fa fa-check"></i>Multiple plots</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#customizing-plots"><i class="fa fa-check"></i>Customizing plots</a></li>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#saving-plots"><i class="fa fa-check"></i>Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="visualization.html"><a href="visualization.html#summary-5"><i class="fa fa-check"></i><b>7.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="visualization.html"><a href="visualization.html#functions-list-5"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="visualization.html"><a href="visualization.html#exercises-5"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III DATA ANALYSIS</b></span></li>
<li class="chapter" data-level="8" data-path="association.html"><a href="association.html"><i class="fa fa-check"></i><b>8</b> Statistical Inference and Association</a>
<ul>
<li class="chapter" data-level="8.1" data-path="association.html"><a href="association.html#content-7"><i class="fa fa-check"></i><b>8.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#comparing-means"><i class="fa fa-check"></i>Comparing means</a></li>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#relationship-between-two-continuous-variables"><i class="fa fa-check"></i>Relationship between two continuous variables</a></li>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#further-details"><i class="fa fa-check"></i>Further details</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="association.html"><a href="association.html#summary-6"><i class="fa fa-check"></i><b>8.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="association.html"><a href="association.html#functions-list-6"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="association.html"><a href="association.html#exercises-6"><i class="fa fa-check"></i><b>8.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ols.html"><a href="ols.html"><i class="fa fa-check"></i><b>9</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ols.html"><a href="ols.html#content-8"><i class="fa fa-check"></i><b>9.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#bivariate-linear-regression"><i class="fa fa-check"></i>Bivariate Linear Regression</a></li>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#multiple-linear-regression"><i class="fa fa-check"></i>Multiple Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ols.html"><a href="ols.html#summary-7"><i class="fa fa-check"></i><b>9.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="ols.html"><a href="ols.html#functions-list-7"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ols.html"><a href="ols.html#exercises-7"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
<li class="chapter" data-level="9.4" data-path="ols.html"><a href="ols.html#references"><i class="fa fa-check"></i><b>9.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>10</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="logit.html"><a href="logit.html#content-9"><i class="fa fa-check"></i><b>10.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---the-intuition"><i class="fa fa-check"></i>Logit - The Intuition</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---the-estimation"><i class="fa fa-check"></i>Logit - The Estimation</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---the-output"><i class="fa fa-check"></i>Logit - The Output</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---interpreting-the-coefficients"><i class="fa fa-check"></i>Logit - Interpreting the Coefficients</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#logit---model-fit"><i class="fa fa-check"></i>Logit - Model Fit</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="logit.html"><a href="logit.html#summary-8"><i class="fa fa-check"></i><b>10.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#functions-list-8"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="logit.html"><a href="logit.html#exercises-8"><i class="fa fa-check"></i><b>10.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Advanced Topics</b></span></li>
<li class="chapter" data-level="11" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="rmarkdown.html"><a href="rmarkdown.html#content-10"><i class="fa fa-check"></i><b>11.1</b> Content</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#usage"><i class="fa fa-check"></i>Usage</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#the-components-of-an-r-markdown-document"><i class="fa fa-check"></i>The Components of an R Markdown Document</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#figures-and-graphs"><i class="fa fa-check"></i>Figures and Graphs</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#useful-stuff"><i class="fa fa-check"></i>Useful Stuff</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#bibliography"><i class="fa fa-check"></i>Bibliography</a></li>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#stargazer"><i class="fa fa-check"></i>stargazer</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="rmarkdown.html"><a href="rmarkdown.html#summary-9"><i class="fa fa-check"></i><b>11.2</b> Summary</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown.html"><a href="rmarkdown.html#functions-list-9"><i class="fa fa-check"></i>Functions list</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="rmarkdown.html"><a href="rmarkdown.html#exercises-9"><i class="fa fa-check"></i><b>11.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="course-summary.html"><a href="course-summary.html"><i class="fa fa-check"></i><b>12</b> Course summary</a>
<ul>
<li class="chapter" data-level="" data-path="course-summary.html"><a href="course-summary.html#index-of-functions-used-throughout-the-course"><i class="fa fa-check"></i>Index of functions used throughout the course</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysing Quantitative Data with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Key Programming Concepts<a href="programming.html#programming" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<button class="btn btn-default" onclick="fetch(&#39;data:text/plain;base64,IycgIyAoUEFSVCkgQURWQU5DRUQgREFUQSBNQU5JUFVMQVRJT04gCgojJyAKIycgIyBLZXkgUHJvZ3JhbW1pbmcgQ29uY2VwdHMgCgojJyAKIycgCiMnIAojJyAKIycgCiMnIAojJyAjIyBDb250ZW50CiMnIAojJyBUbyBtYWtlIHRoZSBkYXRhIGFuYWx5c2lzIG1vcmUgZWZmaWNpZW50LCBpdCBpcyBjcnVjaWFsIHRvIHVuZGVyc3RhbmQgc29tZSBvZiB0aGUgY3J1Y2lhbCBwcm9ncmFtbWluZyBjb25jZXB0cy4gSW4gdGhlIGZpcnN0IHBhcnQgb2YgdGhpcyBzZWN0aW9uIHdlIGRpc2N1c3MgZm9yIGxvb3BzIGFuZCBpZiBzdGF0ZW1lbnRzLiBUaGVzZSBhcmUgc28tY2FsbGVkICJjb250cm9sIGZsb3cgc3RhdGVtZW50cyIsIHdoaWNoIGFyZSBjb21tb24gdG8gYWxtb3N0IGFsbCBwcm9ncmFtbWluZyBsYW5ndWFnZXMuIFRoZSBzZWNvbmQgcGFydCB3aWxsIGRpc2N1c3MgdGhlIGNyZWF0aW9uIGFuZCBiYXNpYyB1c2FnZSBvZiBmdW5jdGlvbnMuIEZpbmFsbHksIHRoZSB0aGlyZCBwYXJ0IHdpbGwgZ28gdGhyb3VnaCB0aGUgYHNhcHBseSgpYCBmdW5jdGlvbiBmYW1pbHksIGEgY29tbW9uIHRvb2wgdXNlZCBpbiBSIHRvIGFwcGx5IGZ1bmN0aW9ucyBvdmVyIG9iamVjdHMgbXVsdGlwbGUgdGltZXMuIAojJyAKIycgIyMjIENvbnRyb2wgZmxvdyBzdGF0ZW1lbnRzIAoKIycgCiMnICMjIyBGb3IgbG9vcHMgCgojJyAKIycgRm9yIGxvb3BzIGFyZSBlc3NlbnRpYWxseSBhIHdheSBvZiB0ZWxsaW5nIHRoZSBwcm9ncmFtbWluZyBsYW5ndWFnZSAicGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBJIGFzayB5b3UgdG8gZG8gTiB0aW1lcyIuIEEgZm9yIGxvb3AgaW4gUiBiZWdpbm5zIHdpdGggYW4gYGZvcigpYCBzdGF0ZW1lbnQsIHdoaWNoIGlzIGZvbGxvd2VkIGJ5IGFuIG9wZW5pbmcgY3VybHkgYnJhY2UgYHtgIGluIHRoZSBzYW1lIGxpbmUgLSB0aGlzIGlzIGVzZW50aWFsbHkgKm9wZW5pbmcgdGhlIGZvci1sb29wKi4gQWZ0ZXIgdGhpcywgdXN1YWxseSBpbiBhIG5ldyBsaW5lLCB5b3UgcGxhY2UgdGhlIGNvZGUgd2hpY2ggeW91IHdhbnQgdG8gZXhlY3V0ZS4gVGhlbiwgaW4gdGhlIGxhc3QgbGluZSB5b3UgKmNsb3NlIHRoZSBmb3IgbG9vcCogYnkgYW5vdGhlciBjdXJseSBicmFjZSBgfWAuIFlvdSBjYW4gZXhlY3V0ZSB0aGUgZm9yIGxvb3AgYnkgcGxhY2luZyB0aGUgY3Vyc29yIGVpdGhlciBvbiB0aGUgZm9yIHN0YXRlbWVudCAoZmlyc3QgbGluZSkgb3IgdGhlIGNsb3NpbmcgYnJhY2UgKGxhc3QgbGluZSkgYW5kIGV4ZWN1dGluZyBpdCBhcyBhbnkgb3RoZXIgY29kZS4gQmVsb3csIHlvdSBjYW4gc2VlIHRoZSBmb3IgbG9vcCBwcmludGluZyB0aGUgc3RyaW5nIGAiSGVsbG8gd29ybGQhImAgNSB0aW1lcwojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZm9yKGkgaW4gMTo1KSB7CiAgcHJpbnQoIkhlbGxvIHdvcmxkIikKfQoKIycgCiMnIFRoZSBgaWAgaW4gdGhlIGZvciBzdGF0ZW1lbnRzIGlzIHRoZSB2YXJpYWJsZSB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IHRha2UgYWxsIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCAodXN1YWxseSBhIHZlY3Rvcikgc3BlY2lmaWVkIG9uIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIGBpbmAga2V5d29yZC4gSW4gbWFqb3JpdHkgb2YgdGhlIGNhc2VzLCB0aGUgb2JqZWN0IGlzIGEgc2VxdWVuY2Ugb2YgaW50ZWdlcnMsIGFzIGluIHRoZSBleGFtcGxlIGJlbG93LCB3aGVyZSBgaWAgdGFrZXMgdGhlIHZhbHVlcyBvZiBlYWNoIGVsZW1lbnQgb2YgdGhlIHZlY3RvciBgMTo1YCBhbmQgcHJpbnRzIGl0LgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZm9yKGkgaW4gMTo1KSB7CiAgcHJpbnQoaSkKfQoKIycgCiMnIEEgZm9yIGxvb3AgY291bGQgYmUgdXNlZCB0byBhZGQgYSBjb25zdGFudCB0byBlYWNoIGVsZW1lbnQgb2YgYSB2ZWN0b3I6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp4IDwtIGMoNCwgNSwgMSwgMiwgOSwgOCwgMCwgNSwgMykKeAojZm9yIGFsbCBpbnRlZ2VycyBiZXR3ZWVuIDEgYW5kIGxlbmd0aCBvZiB2ZWN0b3IgeDoKZm9yKGkgaW4gMTpsZW5ndGgoeCkpIHsgCiAgeFtpXSA8LSB4W2ldICsgNQp9CngKCiMnIAojJyBIb3dldmVyLCBpbiBSIHRoaXMgaXMgcmVkdW5kYW50LCBiZWNhdXNlIG9mICoqdmVjdG9yaXphdGlvbioqIChzZWUgdGhlIFtzZWN0aW9uIG9uIHZlY3RvcnNdKCN2ZWN0b3JzKSBmcm9tIGNoYXB0ZXIgMikuIFRoZSBhYm92ZSBzdGF0ZW1lbnQgb3MgZXF1aXZhbGVudCB0bzoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnggPC0gYyg0LCA1LCAxLCAyLCA5LCA4LCAwLCA1LCAzKQp4ICsgNQoKIycgCiMnIFRoaXMgaXMgbm90IG9ubHkgc2ltcGxlciwgYnV0IGFsc28gbW9yZSBlZmZpY2llbnQuIAojJyAKIycgQW5vdGhlciwgbW9yZSBwcmFjdGljYWwgYXBsaWNhdGlvbiBvZiB0aGUgZm9yIGxvb3AgY291bGQgZXhhbWluZSBhbGwgY29sdW1ucyBvZiBhIGRhdGEgZnJhbWUgZm9yIG1pc3NpbmcgdmFsdWVzLCBzbyB0aGF0OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGV2IDwtIHJlYWQuY3N2KCJkYXRhL3VuX2RhdGEvZGV2MjAxOC5jc3YiLAogICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEZBTFNFKQptaXNzaW5nIDwtIG51bWVyaWMoKSAjY3JlYXRlIGVtcHR5IG51bWVyaWMgdmVjdG9yCmZvciAoaSBpbiAxOmxlbmd0aChkZXYpKXsKICBtaXNzaW5nW2ldIDwtIHN1bShpcy5uYShkZXZbLGldKSkgI2dldCBzdW0gb2YgbWlzc2luZyBmb3IgaXRoIGNvbHVtbgogIG5hbWVzKG1pc3NpbmcpW2ldIDwtIG5hbWVzKGRldilbaV0gI25hbWUgaXQgd2l0aCBpdGggY29sdW1uIG5hbWUKfQptaXNzaW5nCgojJyAKIycgRnJvbSB0aGlzLCB3ZSBjYW4gc2VlIHRoYXQgdGhlcmUgYXJlIDAgbWlzaXNuZyB2YWx1ZXMgaW4gdGhlIGNvdW50cnkgbmFtZSwgMSBtaXNzaW5nIHZhbHVlIGluIHRoZSBleHBlY3RlZCB5ZWFycyBvZiBzY2hvb2xpbmcgdmFyaWFibGUgYW5kLCAzIG1pc3NpbmcgdmFsdWVzIGluIGduaSBhbmQgbGlmZSBleHBlY3RhbmN5IGFuZCA1IG1pc3NpbmcgdmFsdWVzIGluIG1lYW4geWVhcnMgb2Ygc2Nob29saW5nLgojJyAKIycgCiMnIAojJyBXaGlsZSB0aGlzIGlzIGEgYml0IG1vcmUgdXNlZnVsIHRoYW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIFIgc3RpbGwgb2ZmZXJzIGEgc2hvcnRoYW5kIG1ldGhvZCBmb3Igc3VjaCBwcm9ibGVtcywgd2hpY2ggaXMgZGlzY3Vzc2VkIGluIG1vcmUgZGV0YWlsIGluIHRoZSBbbGFzdCBwYXJ0IG9mIHRoaXMgY2hhcHRlcl0oI2FwcGx5LWZhbWlseSkuIEluIGdlbmVyYWwsIGR1ZSB0byB0aGUgcGhlbm9tZW5hIG9mIHZlY3Rvcml6YXRpb24sIGZvciBsb29wcyBhcmUgcmFyZWx5IHVzZWQgaW4gc2ltcGxlIGRhdGEgYW5hbHlzaXMgaW4gUi4gSG93ZXZlciwgdGhleSBhcmUgYSBjb3JlIGVsZW1lbnQgb2YgcHJvZ3JhbW1pbmcgYXMgc3VjaCwgdGhlcmVmb3JlIGl0J3MgaW1wb3J0YW50IHRvIHVuZGVyc3RhbmQgdGhlbS4gSW4gZmFjdCwgdmVjdG9yaXphdGlvbiBpcyBtYWRlIHBvc3NpYmxlIG9ubHkgYmVjYXVzZSBvZiBmb3IgbG9vcHMgYmVpbmcgdXNlZCBieSBSIGluIHRoZSBiYWNrZ3JvdW5kIC0gc2ltcGx5IHRoZWlyIGZhc3RlciBhbmQgbW9yZSBlZmZpY2llbnQgdmVyc2lvbnMuCiMnIAojJyAKIycgIyMjIElmIHN0YXRlbWVudHMgCgojJyAKIycgSWYgc3RhdGVtZW50cyBhcmUgYW5vdGhlciBjcnVjaWFsIHByb2dyYW1taW5nIGNvbmNlcHQuIFRoZXkgZXNzZW50aWFsbHkgYWxsb3cgcGVyZm9ybWluZyBjb21wdXRhdGlvbiAqY29uZGl0aW9uYWxseSogb24gYSBsb2dpY2FsIHN0YXRlbWVudC4gSW4gb3RoZXIgd29yZHMsIGRlcGVuZGluZyBvbiBhIFtsb2dpY2FsIGV4cHJlc3Npb25dKGxvZ2ljYWwtdmFsdWVzLWFuZC1vcGVyYXRvcnMpIGFuIG9wZXJhdGlvbiBpcyBwZXJmb3JtZWQgb3Igbm90LiBJZiBsb29wcyBpbiBSIGFyZSBjb25zdHJ1Y3RlZCBpbiB0aGUgZm9sbG93aW5nIHdheToKIycgCiMnIAojJyAKIycgCiMnIFdoZXJlIGBsb2dpY2FsX2V4cHJlc3Npb25gIG11c3QgYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhIGxvZ2ljYWwgdmFsdWUsIGZvciBleGFtcGxlIGBYID4gNWAsIGBjb3VudHJ5ID09ICJGcmFuY2UiYCBvciBgaXMubmEoeClgLiBgb3BlcmF0aW9uc2AgYXJlIHBlcmZvcm1lZCBpZiBhbmQgb25seSBpZiB0aGUgYGxvZ2ljYWxfZXhwcmVzc2lvbmAgZXZhbHVhdGVzIHRvIGBUUlVFYC4gVGhlIHNpbXBsZXMgcG9zc2libGUgZXhhbXBsZSB3b3VsZCBiZQojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KeCA8LSAyCmlmICh4ID4gMCkgewogIHByaW50KCJ0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAiKQp9Cgp4IDwtIC0yCmlmICh4ID4gMCkgewogIHByaW50KCJ0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAiKQp9CgojJyAKIycgCiMnIElmIGlzIG5hdHVyYWxseSBjb21wbGVtZW50ZWQgYnkgdGhlIGBlbHNlYCBjbGF1c2UsIGkuZS4gdGhlIG9wZXJhdGlvbnMgdGhhdCBzaG91bGQgYmUgcGVyZm9ybWVkIG90aGVyd2lzZS4gVGhlIGdlbmVyYWwgZm9ybSBvZiBzdWNoIHN0YXRlbWVudCBpczoKIycgCiMnIAojJyAKIycgCiMnIEluIHRoaXMgY2FzZSwgUiBmaXJzdCBjaGVja3MgaWYgdGhlIGBsb2dpY2FsX2V4cHJlc3Npb25gIGV2YWx1YXRlcyB0byBgVFJVRWAsIGFuZCBpZiBpdCBkb2Vzbid0LCBwZXJmb3JtcyB0aGUgYG90aGVyX29wZXJhdGlvbnNgLiBGb3IgZXhhbXBsZToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnggPC0gLTIKaWYgKHggPiAwKSB7CiAgcHJpbnQoInRoZSB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gMCIpCn0gZWxzZSB7CiAgcHJpbnQoInRoZSB2YWx1ZSBpcyBsZXNzIG9yIGVxdWFsIHRoYW4gMCIpCn0KCiMnIAojJyBGaW5hbGx5LCBgZWxzZSBpZmAgYWxsb3dzIHRvIHByb3ZpZGUgYW5vdGhlciBzdGF0ZW1lbnQgdG8gYmUgZXZhbHVhdGVkLiBUaGUgZ2VuZXJhbCBmb3JtIG9mIHN1Y2ggc3RhdGVtZW50IHdvdWxkIGJlOgojJyAKIycgCiMnIAojJyAKIycgSGVyZSwgUiBmaXJzdCBjaGVja3MgdGhlIGBsb2dpY2FsX3N0YXRlbWVudGAsIGlmIGl0J3MgYEZBTFNFYCB0aGVuIGl0IHByb2NlZWRzIHRvIGNoZWNrIHRoZSBgb3RoZXJfbG9naWNhbF9zdGF0ZW1lbnRgLiBJZiB0aGUgc2Vjb25kIG9uZSBpcyBgVFJVRWAgaWYgcGVyZm9ybXMgdGhlIGBvdGhlcl9vcGVyYXRpb25gIGFuZCBpZiBpdCdzIGBGQUxTRWAgaXQgcHJvY2VlZHMgdG8gcGVyZm9ybSB0aGUgYHlldF9hbm90aGVyX29wZXJhdGlvbmAuIEFuIGV4dGVuc2lvbiBvZiB0aGUgcHJldmlvdXMgZXhhbXBsZToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnggPC0gMgppZiAoeCA+IDApIHsKICBwcmludCgiVGhlIHZhbHVlIGlzIHBvc2l0aXZlIikKfSBlbHNlIGlmICh4IDwgMCkgewogIHByaW50KCJUaGUgdmFsdWUgaXMgbmVnYXRpdmUiKSAKfSBlbHNlIHsKICBwcmludCgiVGhlIHZhbHVlIGlzIDAiKQp9CgojJyAKIycgSUYtRUxTRSBzdGF0bWVudHMgY2FuIGJlIHVzZWQgdG8gY29uZGl0aW9uYWxseSByZXBsYWNlIHZhbHVlcy4gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhhdCB3ZSB3YW50IHRvIGNyZWF0ZSBhIHZhcmlhYmxlIHRoYXQgaXMgMSB3aGVuIGNvdW50cnkgaXMgRnJhbmNlIGFuZCAwIG90aGVyd2lzZS4gV2UgY291bGQgZG8gdGhhdCBieToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldiRmcmFuY2UgPC0gMApmb3IgKGkgaW4gMTpucm93KGRldikpIHsKICBpZiAoZGV2JGNvdW50cnlbaV0gPT0gIkZyYW5jZSIpIHsKICAgIGRldiRmcmFuY2VbaV0gPC0gMQogIH0KfQoKZGV2JGZyYW5jZVtkZXYkY291bnRyeSA9PSAiRnJhbmNlIl0KCiMnIAojJyBBZ2FpbiwgYmVjYXVzZSBvZiB2ZWN0b3JpemF0aW9uLCBSIG9mZmVycyBhIHNob3J0aGFuZCBmb3IgdGhpcywgdGhyb3VnaCB0aGUgYGlmZWxzZSgpYCBmdW5jdGlvbjoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldiRmcmFuY2UgPC0gaWZlbHNlKGRldiRjb3VudHJ5ID09ICJGcmFuY2UiLCAxLCAwKQpkZXYkZnJhbmNlW2RldiRjb3VudHJ5ID09ICJGcmFuY2UiXQoKIycgCiMnIAojJyBXaGVuIHlvdSBsb29rIGF0IHRoZSBkb2N1bWVudGF0aW9uICBgP2lmZWxzZWAsIHlvdSBjYW4gc2VlIHRoYXQgaXQgdGFrZXMgdGhyZWUgYXJndW1lbnRzIC0gYHRlc3RgLCBgeWVzYCBhbmQgYG5vYC4gVGhlIGB0ZXN0YCBhcmd1bWVudCBpcyB0aGUgbG9naWNhbCBjb25kaXRpb24gLSBzYW1lIGFzIGBsb2dpY2FsX3N0YXRlbWVudGAgaW4gdGhlIGBpZmAsIHdpdGggdGhlIHNtYWxsIHN1YnRsZSBkaWZmZXJlbmNlIHRoYXQgaXQgY2FuIGV2YWx1YXRlIHRvIGEgbG9naWNhbCB2ZWN0b3IgcmF0aGVyIHRoYW4gb25lIHNpbmdsZSBsb2dpY2FsIHZhbHVlLiBUaGUgYHllc2AgYXJndW1lbnQgaXMgdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbiBpZiB0aGUgYHRlc3RgIGlzIGBUUlVFYCBhbmQgdGhlIGBub2AgYXJndW1lbnQgaXMgcmV0dXJuZWQgd2hlbiBgdGVzdGAgaXMgYEZBTFNFYC4gWW91IGNhbiBmdWxseSBzZWUgdGhpcyBpbiB0aGUgZXhhbXBsZSBiZWxvdzoKIycgCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQppZmVsc2UoYyhUUlVFLCBGQUxTRSwgRkFMU0UsIFRSVUUpLCAieWVzIiwgIm5vIikKaWZlbHNlKGMoVFJVRSwgRkFMU0UsIEZBTFNFLCBUUlVFKSwgMSwgMCkKCiMnIAojJyAKIycgIyMjIEZ1bmN0aW9ucyAKCiMnIAojJyBSIGlzIGtub3duIGFzIGEgKmZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UqIC0gYXMgeW91IGhhdmUgYWxyZWFkeSBzZWVuLCBhbG1vc3QgYWxsIG9mIHRoZSBvcGVyYXRpb25zIHBlcmZvcm1lZCBhcmUgZG9uZSB1c2luZyBmdW5jdGlvbnMuIEl0IGlzIGFsc28gcG9zc2libGUgdG8gY3JlYXRlIG91ciBvd24sIGN1c3RvbSBmdW5jdGlvbnMgYnkgY29tYmluaW5nIG90aGVyIGZ1bmN0aW9ucyBhbmQgZGF0YSBzdHJ1Y3R1cmVzLiBUaGlzIGlzIGRvbmUgdXNpbmcgdGhlIGBmdW5jdGlvbigpYCBrZXl3b3JkLiBUaGUgZ2VuZXJhbCBzeW50YXggb2YgYSBmdW5jdGlvbiBsb29rcyBhcyBmb2xsb3dzOgojJyAKIycgCiMnIAojJyAKIycgQXMgd2l0aCBhbnkgUiBvYmplY3QsIHlvdSBjYW4gdXNlIGFsbW9zdCBhbnkgbmFtZSBpbnN0ZWFkIG9mIGBmdW5jdGlvbl9uYW1lYC4gQXJndW1lbnRzIGFyZSBzZXBhcmV0ZWQgYnkgY29tbWFzIChpbiB0aGUgYWJvdmUgZXhhbXBsZSBgYXJnMWAsIGBhcmcyYCkgLSB0aGVzZSBhcmUgdGhlIG9iamVjdHMgeW91IHBhc3MgdG8geW91ciBmdW5jdGlvbiBvbiB3aGljaCB5b3UgcGVyZm9ybSBzb21lIGFyYml0cmFyeSBgb3BlcmF0aW9uc2AuIEFnYWluLCB0aGUgYXJndW1lbnRzIGNhbiBoYXZlIGFyYml0cmFyeSBuYW1lcywgYnV0IHlvdSBuZWVkIHRvIHVzZSB0aGVtIHdpdGhpbiB0aGUgZnVuY3Rpb24gY29uc2lzdGVudGx5LiBGaW5hbGx5LCBtb3N0IG9mIHRoZSBmdW5jdGlvbnMgcmV0dXJuIGEgdmFsdWUgLSB0aGlzIGlzIHRoZSBsYXN0IG9iamVjdCBjYWxsZWQgd2l0aGluIHRoZSBmdW5jdGlvbiAoYG91dHB1dGAgaW4gdGhlIGFib3ZlIGV4YW1wbGUpLgojJyAKIycgQWZ0ZXIgY3JlYXRpbmcgdGhlIGZ1bmN0aW9uIHdlIGNhbiBydW4gaXQsIGV4YWN0bHkgdGhlIHNhbWUgd2F5IGFzIHdlIHdvdWxkIHdpdGggYW55IG9mIFIncyBidWlsdC1pbiBmdW5jdGlvbnMuIEEgc2ltcGxlIGV4YW1wbGUgY291bGQgcmV0dXJuIHRoZSBudW1iZXIgb2YgbWlzc2luZyB2YWx1ZXMgaW4gYW4gb2JqZWN0OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY291bnRfbmEgPC0gZnVuY3Rpb24oeCkgewogIHN1bShpcy5uYSh4KSkKfQoKY291bnRfbmEoZGV2JG15cykKCiMnIAojJyBXZSBjb3VsZCBhbHNvIGltcGxlbWVudCBvdXIgb3duIHN1bW1hcnkgc3RhdGlzdGljcyBmdW5jdGlvbiwgc2ltaWxhciB0byBgZGVzY3JpYmUoKWAgZGlzY3Vzc2VkIGluIFt0aGUgcHJldmlvdXMgY2hhcHRlcl0oI2V4cGxvcmF0b3J5KToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnN1bW1hcnlfc3RhdHMgPC0gZnVuY3Rpb24oeCkgewogIGlmIChpcy5udW1lcmljKHgpKSB7CiAgICBsaXN0KE1lYW4gPSBtZWFuKHgsIG5hLnJtID0gVFJVRSksIAogICAgICAgICAgICAgICAgU0QgPSBzZCh4LCBuYS5ybSA9IFRSVUUpLCAKICAgICAgICAgICAgICAgIElRUiA9IElRUih4LCBuYS5ybSA9IFRSVUUpKQogIH0gZWxzZSBpZiAoaXMuY2hhcmFjdGVyKHgpKSB7CiAgICBsaXN0KExlbmd0aCA9IGxlbmd0aCh4KSwgCiAgICAgICAgICAgICAgICAgIE1lYW5fTmNoYXIgPSBtZWFuKG5jaGFyKHgpKSkKICB9IGVsc2UgaWYgKGlzLmZhY3Rvcih4KSkgewogIGxpc3QoTGVuZ3RoID0gbGVuZ3RoKHgpLCAKICAgICAgIE5sZXZlbHMgID0gbGVuZ3RoKGxldmVscyh4KSkpCiAgfQp9CgojJyAKIycgTGV0J3Mgd2FsayB0aHJvdWdoIHRoZSBhYm92ZSBmdW5jdGlvbiBHaXZlbiBhIHZlY3RvciBgeGAsIHRoZSBmdW5jdGlvbiA6CiMnIDEuIENoZWNrcyB3aGV0aGVyIGB4YCBpcyBhIG51bWVyaWMgdmVjdG9yLiBJZiBzbywgcmV0dXJucyBhIGxpc3Qgb2YgaXQncyBtZWFuLCBzdGFuZGFyZCBkZXZpYXRpb24gYW5kIGludGVycXVhcnRpbGUgcmFuZ2UuCiMnIDIuIEVsc2UsIGNoZWNrcyBpZiBgeGAgaXMgYSBjaGFyYWN0ZXIgdmVjdG9yLiBJZiBzbywgcmV0dXJucyBhIGxpc3QgY29udGFpbm5nIGl0cyBsZW5ndGggYW5kIGF2ZXJhZ2UgbnVtYmVyIG9mIGNoYXJhY3RlcnMuCiMnIDMuIEVsc2UsIGNoZWNrcyBpZiBgeGAgaXMgYSBmYWN0b3IuIElmIHNvIHJldHVybnMgYSBsaXN0IGNvbnRhaW5pbmcgaXRzIGxlbmd0aCBhbmQgYXZlcmFnZSBudW1iZXIgb2YgY2hhcmFjdGVyLgojJyAKIycgV2UgY2FuIHNlZSBob3cgaXQgd29ya3MgYmVsb3c6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpzdW1tYXJ5X3N0YXRzKGMoMSwgMiwgMywgMTApKQpzdW1tYXJ5X3N0YXRzKGRldiRjb3VudHJ5KQpzdW1tYXJ5X3N0YXRzKGFzLmZhY3RvcihkZXYkY291bnRyeSkpCgojJyAKIycgCiMnICMjIyMgS2V5d29yZCBhcmd1bWVudHMgCgojJyAKIycgTWFueSBvZiB0aGUgZnVuY3Rpb25zIHVzZWQgaW4gUiBjb21lIHdpdGggc28tY2FsbGVkICpkZWZhdWx0KiBhcmd1bWVudHMgLSB0aGlzIHdhcyBhbHJlYWR5IG1lbnRpb25lZCBpbiBbc29ydGluZ10oI3NvcnRpbmcpLiBXaGVuIGRlZmluaW5nIG91ciBvd24gZnVuY3Rpb25zLCB3ZSBjYW4gbWFrZSB1c2Ugb2YgdGhhdCBmdW5jdGlvbmFsaXR5IGFzIHdlbGwuIEZvciBleGFtcGxlLCB0aGUgYGNvdW50X25hYCBleGFtcGxlIGNhbiBiZSBtb2RpZmllZCBpbiB0aGUgZm9sbG93aW5nIHdheToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvdW50X25hIDwtIGZ1bmN0aW9uKHgsIHByb3BvcnRpb24gPSBUUlVFKSB7CiAgbnVtX25hIDwtIHN1bShpcy5uYSh4KSkKICBpZiAocHJvcG9ydGlvbiA9PSBUUlVFKSB7CiAgICBudW1fbmEvbGVuZ3RoKHgpCiAgfSBlbHNlIHsKICAgIG51bV9uYQogIH0KfQoKIycgCiMnIFRoZSBgcHJvcG9ydGlvbmAgYXJndW1lbnQgY29udHJvbHMgd2hldGhlciB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgbnVtYmVyIG9mIE5BcyBhcyB2YWx1ZSBvciBhcyBwcm9wb3J0aW9uIG9mIHRoZSBlbnRpcmUgdmVjdG9yOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY291bnRfbmEoZGV2JGduaSkKY291bnRfbmEoZGV2JGduaSwgcHJvcG9ydGlvbiA9IFRSVUUpICNzYW1lIGFzIGFib3ZlCmNvdW50X25hKGRldiRnbmksIHByb3BvcnRpb24gPSBGQUxTRSkKCiMnIAojJyAKIycgVGhlcmUgYXJlIGNvdXBsZSBvZiByZWFzb25zIHdoeSBmdW5jdGlvbnMgYXJlIGZyZXF1ZW50bHkgYXBwbGllZCB3aGVuIGFuYWx5emluZyBkYXRhOgojJyAxLiAqVG8gYXZvaWQgcmVwZXRpdGlvbiogLSBvZnRlbiwgeW91IG5lZWQgdG8gcGVyZm9ybSB0aGUgc2FtZSBvcGVyYXRpb24gcmVwZWF0ZWRseSAtIHNvbWV0aW1lcyBvbiBhIGRhdGFmcmFtZSB3aXRoIHRlbnMgb3IgaHVuZGVyZHMgb2YgY29sdW1ucyBvciBldmVuIG11bHRpcGxlIGRhdGEgZnJhbWVzLiBUbyBhdm9pZCByZS13cml0aW5nIHRoZSBzYW1lIGNvZGUgb3ZlciBhbmQgb3ZlciBhZ2FpbiAod2hpY2ggYWx3YXlzIGluY3JlYXNlcyB0aGUgY2hhbmNlIG9mIGFuIGVycm9yIG9jY3VyaW5nKS4KIycgMi4gKlRvIGVuaGFuY2UgY2xhcml0eSogLSB3aGVuIHlvdSBwZXJmb3JtIGEgbG9uZyBhbmQgY29tcGxpY2F0ZWQgc2VyaWVzIG9mIG9wZXJhdGlvbnMgb24gYSBkYXRhc2V0LCBpdCdzIG9mdGVuIG11Y2ggZWFzaWVyIHRvIGJyZWFrIGl0IGRvd24gaW50byBmdW5jdGlvbnMuIFRoZW4gd2hlbiB5b3UgbmVlZCB0byBjb21lIGJhY2sgdG8geW91ciBjb2RlIGFmdGVyIGEgbG9uZyB0aW1lLCBpdCBpcyBvZnRlbiBtdWNoIGVhc2llciB0byBzZWUgYHJlY29kZV9taXNzaW5nX3ZhbHVlcyhkYXRhKWAgYXBwZWFyIGluIHlvdXIgY29kZSwgd2l0aCB0aGUgYHJlY29yZF9taXNzaW5nX3ZhbHVlc2AgZnVuY3Rpb24gZGVmaW5lZCBzb21ld2hlcmUgZWxzZSwgYXMgeW91IGRvbid0IG5lZWQgdG8gZ28gdGhyb3VnaCB5b3VyIGNvZGUgc3RlcCBieSBzdGVwLCBidXQgb25seSB1bmRlcnN0YW5kIHdoYXQgcGFydGljdWxhciBmdW5jdGlvbnMgcmV0dXJuLgojJyAzICpUbyBpbXByb3ZlIHBlcmZvcm1hbmNlKiAtIHdoaWxlIG1vc3Qgb2YgdGhlIG9wZXJhdGlvbnMgd2UndmUgc2VlbiBpbiBSIHRha2UgZnJhY3Rpb25zIG9mIHNlY29uZHMsIGxhcmdlciBkYXRhIGNhbiBvZnRlbiBsZWFkIHRvIGxvbmdlciBjb21wdXRhdGlvbiB0aW1lcy4gRnVuY3Rpb25zIGNhbiBiZSBjb21iaW5lZCB3aXRoIG90aGVyIHRvb2xzIHRvIG1ha2UgY29tcHV0YXRpb24gbW9yZSBlbGVnYW50IGFuZCBxdWlja2VyIC0gc29tZSBvZiB0aGVzZSBtZXRob2RzIGFyZSBkaXNjdXNzZWQgaW4gdGhlIG5leHQgc2VjdGlvbi4KIycgCiMnIAojJyAjIyMgU2FwcGx5IAoKIycgCiMnIFJlY2FsbCB0aGUgY29kZSB3ZSB1c2VkIHRvIGNoZWNrIGVhY2ggY29sdW1uIG9mIG91ciBkYXRhIGZyYW1lIGZvciBtaXNzaW5nbmVzcyBpbiB0aGUgW2ZvciBsb29wcyBzZWN0aW9uXShmb3ItbG9vcHMpOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbWlzc2luZyA8LSBudW1lcmljKCkgI2NyZWF0ZSBlbXB0eSBudW1lcmljIHZlY3Rvcgpmb3IgKGkgaW4gMTpsZW5ndGgoZGV2KSl7CiAgbWlzc2luZ1tpXSA8LSBzdW0oaXMubmEoZGV2WyxpXSkpICNnZXQgc3VtIG9mIG1pc3NpbmcgZm9yIGl0aCBjb2x1bW4KICBuYW1lcyhtaXNzaW5nKVtpXSA8LSBuYW1lcyhkZXYpW2ldICNuYW1lIGl0IHdpdGggaXRoIGNvbHVtbiBuYW1lCn0KCiMnIAojJyBXZSBjb3VsZCByZS13cml0ZSBpdCB1c2luZyBvdXIgbmV3IGtub3dsZWRnZSBvZiBmdW5jdGlvbnMsIHN1Y2ggdGhhdDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvdW50X25hIDwtIGZ1bmN0aW9uKHgpIHsKICBzdW0oaXMubmEoeCkpCn0KCm1pc3NpbmcgPC0gbnVtZXJpYygpCmZvciAoaSBpbiAxOmxlbmd0aChkZXYpKSB7CiAgbWlzc2luZ1tpXSA8LSBjb3VudF9uYShkZXZbLGldKQogIG5hbWVzKG1pc3NpbmcpW2ldIDwtIG5hbWVzKGRldilbaV0KfQptaXNzaW5nCgojJyAKIycgV2hpbGUgdGhpcyBtYXkgbG9vayBhIGJpdCBtb3JlIGZhbmN5LCBpbiBmYWN0IG1vcmUgY29kZSB3YXMgdXNlZCB0byBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uIGFuZCBpdCBkb2Vzbid0IGRpZmZlciB0b28gbXVjaCBpbiB0ZXJtcyBvZiBjbGFyaXR5LiBUaGUgZXhhY3Qgc2FtZSByZXN1bHQgY2FuIGJlIGFjaGlldmVkIHVzaW5nIHRoZSBgc2FwcGx5KClgIGZ1bmN0aW9uLiBgc2FwcGx5KClgIHRha2VzIHR3byBhcmd1bWVudHMgLSBhbiBSIG9iamVjdCwgc3VjaCBhcyBhIHZlY3RvciBhbmQgYSBkYXRhIGZyYW1lIGFuZCBhIGZ1bmN0aW9uLiBUaGVuLCBpdCBhcHBsaWVzIHRoZSBmdW5jdGlvbiB0byBlYWNoIGVsZW1lbnQgb2YgdGhpcyBvYmplY3QgKGkuZS4gdmFsdWUgaW4gY2FzZSBvZiB2ZWN0b3JzLCBjb2x1bW4vdmFyaWFibGUgaW4gY2FzZSBvZiBkYXRhIGZyYW1lcykuIAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kc2FwcGx5KGRldiwgY291bnRfbmEpCgojJyAKIycgVGhlIHJlc3VsdCBpcyBleGFjdGx5IHRoZSBzYW1lIGFzIGluIHRoZSBwcmV2aW91cyBjYXNlLiBgc2FwcGx5KClgIHVzZWQgdGhlIGBjb3VudF9uYWAgZnVuY3Rpb24gb24gZWFjaCBjb2x1bW5zIG9mIHRoZSBgZGV2YCBkYXRhc2V0LgojJyAKIycgV2hlbiB1c2luZyBzaG9ydCwgc2ltcGxlIGZ1bmN0aW9ucywgYHNhcHBseSgpYCBjYW4gYmUgZXZlbiBtb3JlIGNvbmNpc2UsIGFzIHdlIGNhbiBkZWZpbmVkIG91ciBmdW5jdGlvbiB3aXRob3V0IGdpdmluZyBpdCBhIG5hbWUuIEluIHRoZSBleGFtcGxlIGJlbG93LCBpbnN0ZWFkIG9mIGRlZmluaW5nIGBjb3VudF9uYWAgc2VwYXJhdGVseSwgd2UgZGVmaW5lIGl0IGRpcmVjdGx5IHdpdGhpbiB0aGUgYHNhcHBseSgpYCBjYWxsIChpLmUuIGluc2lkZSB0aGUgcGFyZW50aGVzZXMpLiBUaGlzIHlpZWxkcyB0aGUgc2FtZSByZXN1bHQuIAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kc2FwcGx5KGRldiwgZnVuY3Rpb24oeCkgc3VtKGlzLm5hKHgpKSkKCiMnIAojJyAKIycgQ29uc2lkZXIgdGhlIGZ1bmN0aW9uIGJlbG93LiBXaGF0IGRvIHlvdSBleHBlY3QgaXQgdG8gcmV0dXJuPyBUcnkgZ29pbmcgdGhyb3VnaCBlYWNoIGVsZW1lbnQgb2YgdGhlIGNvZGUgc2VwYXJhdGVseS4gWW91IGNhbiBjaGVjayBob3cgdGhlIGByb3dTdW1zYCBjb21tYW5kIHdvcmtzIGJ5IHR5cGluZyBgP3Jvd1N1bXNgIGludG8gdGhlIFIgY29uc29sZS4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnF1YXJ0aWxlIDwtIGZ1bmN0aW9uKHgpIHsKICBxdWFudGlsZXMgPC0gcXVhbnRpbGUoeCwgYygwLjI1LCAwLjUsIDAuNzUpLCBuYS5ybSA9IFRSVUUpCiAgY29tcGFyaXNvbnMgPC0gc2FwcGx5KHF1YW50aWxlcywgZnVuY3Rpb24oeSkgeSA8PSB4KQogIHJvd1N1bXMoY29tcGFyaXNvbnMpICsgMQp9CgojJyAKIycgVGhlIGZ1bmN0aW9uIHRha2VzIGEgdmVjdG9yIGFzIGlucHV0IGFuZCBjb21wdXRlcyB0aHJlZSBxdWFudGlsZXMgb2YgaXRzIHZhbHVlcyAtIDI1JSwgNTAlLCA3NSUuIFlvdSBtYXkgcmVjYWxsIGZyb20gdGhlIFtwcmV2aW91cyBjaGFwdGVyXSgjZXhwbG9yYXRvcnkpIHRoYXQgcXVhbnRpbGVzIGFyZSBjdXQgcG9pbnRzIHRoYXQgZGl2aWRlIGEgdmFyaWFibGUgaW50byByYW5nZXMgb2YgZXF1YWwgcHJvcG9ydGlvbnMgaW4gdGhlIGRhdGEgc2V0LiBUaGUgcmVzdWx0aW5nIGBxdWFudGlsZXNgIHZlY3RvciBjb25zaXN0cyBvZiB0aHJlZSB2YWx1ZXMsIGNvcnJlc3BvbmRpbmcgd2l0aCB0aHJlIHRocmVlIHF1YW50aWxlcy4gV2UgdGhlbiB1c2UgYHNhcHBseWAgb24gdGhlc2UgdGhyZWUgdmFsdWVzIHRvIGNvbXBhcmUgZWFjaCBvZiB0aGVtIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBgeGAgdmVjdG9yLiBBcyBhIHJlc3VsdCwgd2Ugb2J0YWluIGEgMyB4IG4gYXJyYXksIHdoZXJlIG4gaXMgbGVuZ3RoIG9mIGB4YC4gRm9yIGVhY2ggb2YgdGhlIHZhbHVlcyBvZiBgeGAgd2UgZ2V0IHRocmVlIGxvZ2ljYWwgdmFsdWVzLiBFYWNoIG9mIHRoZW0gaXMgYFRSVUVgIHdoZW4gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2YgeCB3YXMgbGFyZ2VyIHRoYW4gdGhlIHF1YW50aWxlIGFuZCBgRkFMU0VgIGlmIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mIHggd2FzIGxvd2VyIHRoYW4gdGhlIHF1YW50aWxlLiBXZSBjYW4gdGhlbiBzdW0gdGhlIHJlc3VsdHMgYnkgcm93LCB1c2luZyBgcm93U3Vtc2AuIE91ciBmaW5hbCByZXN1bHQgaXMgYSB2ZWN0b3Igd2l0aCB2YWx1ZXMgb2YgMCwgMSBhbmQgMi4gSXRzIHZhbHVlIGlzIDAgaWYgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2YgeCB3YXMgbGVzcyB0aGFuIGFsbCBxdWFydGlsZXMsIDEgaWYgaXQgd2FzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB0aGUgLjI1LCAyIGlmIGl0IHdhcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gMC41IGFuZCAzIGlmIGl0IHdhcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gYWxsIG9mIHRoZW0uIFdlIHRoZW4gZmluYWxseSBhZGQgMSB0byBlYWNoLCBzbyB0aGF0IHRoZXkgY29ycmVzcG9uZCB0byB0cnVlIHF1YXJ0aWxlIG51bWJlcnMgKDFzdCBxdWFydGlsZSwgcmF0aGVyIHRoYW4gMHRoIHF1YXJ0aWxlLCBldGMpLgojJyAKIycgV2UgY2FuIHRoZW4gdXNlIHRoZSBgc3BsaXRgIGZ1bmN0aW9uLCB3aGljaCB0YWtlcyBhIGRhdGEgZnJhbWUgYW5kIGEgdmVjdG9yIGFzIGlucHV0IGFuZCBzcGxpdHMgdGhlIGRhdGEgZnJhbWUgaW50byBzZXZlcmFsIHBhcnRzLCBlYWNoIHdpdGggdGhlIHNhbWUgdmFsdWUgb2YgdGhlIHNwbGl0dGluZyB2YXJpYWJsZS4gQXMgYSByZXN1bHQsIHdlIG9idGFpbiBgZGV2X3NwbGl0YCBkYXRhc2V0LCB3aGljaCBzdG9yZXMgNCBkYXRhIGZyYW1lcywgZWFjaCBvbmx5IHdpdGggY291bnRyaWVzIGluIHRoZSByZXNwZWN0aXZlIHF1YW50aWxlIG9mIGV4cGVjdGVkIHllYXJzIG9mIHNjaG9vbGluZy4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldl9zcGxpdCA8LSBzcGxpdChkZXYsIHF1YXJ0aWxlKGRldiRleXMpKQpoZWFkKGRldl9zcGxpdFtbMV1dKQoKIycgCiMnIFlvdSBjYW4gdGhlbiBsb29rIGF0IGRlc2NyaXB0aXZlIHN0YXRpc3RpY3Mgb2YgZWFjaCBvZiB0aGUgcXVhcnRpbGVzIHVzaW5nOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kc2FwcGx5KGRldl9zcGxpdCwgc3VtbWFyeSkKCiMnIAojJyAKIycgV2hpbGUgd29ya2luZyBhbiBSIGFuZCBsb29raW5nIGZvciBoZWxwIG9ubGluZSwgeW91IG1heSBzdHVtYmxlIHVwb24gb3RoZXIgdmFyaWFudHMgb2YgdGhlIGBzYXBwbHkoKWAgZnVuY3Rpb25zLiBFc3NlbnRpYWxseSwgYWxsIFIgZnVuY3Rpb25zIHdpdGggYGFwcGx5YCBpbiB0aGVpciBuYW1lIHNlcnZlIHRoZSBzYW1lIHB1cnBvc2UgLSBhcHBseWluZyBhIGZ1bmN0aW9uIHRvIGVhY2ggZWxlbWVudCBvZiBhbiBvYmplY3QuIGBsYXBwbHkoKWAgaXMgYSBsZXNzIHVzZXIgZnJpZW5keSB2ZXJzaW9uIG9mIGBzYXBwbHkoKWAsIHdoaWNoIGFsd2F5cyByZXR1cm5zIGEgbGlzdCwgbm90IGEgdmVjdG9yLiBgdmFwcGx5KClgIGZvcmNlcyB0aGUgdXNlciB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgdGhlIG91dHB1dCwgd2hpY2ggbWFrZXMgaXRzIGJlaGF2aW91ciBtb3JlIHByZWRpY3RpYmxlIGFuZCBzbGlnaHRseSBmYXN0ZXIuIGB0YXBwbHkoKWAgYXBwbGllcyB0aGUgZnVuY3Rpb24gdG8gZGF0YSBmcmFtZSBieSBncm91cCBkZXRlcm1pbmVkIGJ5IGFub3RoZXIgdmFyaWFibGUgLSBhIHNpbWlsYXIgcHJvY2VkdXJlIHRvIHdoYXQgd2UgZGlkIHVzaW5nIGBzcGxpdCgpYCBhbmQgYHNhcHBseSgpYCwgYnV0IGluIGxlc3Mgc3RlcHMuCiMnIAojJyAKIycgCiMnIAojJyAKIycgCgA=&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;05-key_programming_concepts.R&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter script</button>
<button class="btn btn-default" onclick="fetch(&#39;data:text/x-markdown;base64,LS0tCm91dHB1dDogaHRtbF9kb2N1bWVudAotLS0KIyAoUEFSVCkgQURWQU5DRUQgREFUQSBNQU5JUFVMQVRJT04gey19CgojIEtleSBQcm9ncmFtbWluZyBDb25jZXB0cyB7I3Byb2dyYW1taW5nfQoKCgoKCgojIyBDb250ZW50CgpUbyBtYWtlIHRoZSBkYXRhIGFuYWx5c2lzIG1vcmUgZWZmaWNpZW50LCBpdCBpcyBjcnVjaWFsIHRvIHVuZGVyc3RhbmQgc29tZSBvZiB0aGUgY3J1Y2lhbCBwcm9ncmFtbWluZyBjb25jZXB0cy4gSW4gdGhlIGZpcnN0IHBhcnQgb2YgdGhpcyBzZWN0aW9uIHdlIGRpc2N1c3MgZm9yIGxvb3BzIGFuZCBpZiBzdGF0ZW1lbnRzLiBUaGVzZSBhcmUgc28tY2FsbGVkICJjb250cm9sIGZsb3cgc3RhdGVtZW50cyIsIHdoaWNoIGFyZSBjb21tb24gdG8gYWxtb3N0IGFsbCBwcm9ncmFtbWluZyBsYW5ndWFnZXMuIFRoZSBzZWNvbmQgcGFydCB3aWxsIGRpc2N1c3MgdGhlIGNyZWF0aW9uIGFuZCBiYXNpYyB1c2FnZSBvZiBmdW5jdGlvbnMuIEZpbmFsbHksIHRoZSB0aGlyZCBwYXJ0IHdpbGwgZ28gdGhyb3VnaCB0aGUgYHNhcHBseSgpYCBmdW5jdGlvbiBmYW1pbHksIGEgY29tbW9uIHRvb2wgdXNlZCBpbiBSIHRvIGFwcGx5IGZ1bmN0aW9ucyBvdmVyIG9iamVjdHMgbXVsdGlwbGUgdGltZXMuIAoKIyMjIENvbnRyb2wgZmxvdyBzdGF0ZW1lbnRzIHstfQoKIyMjIEZvciBsb29wcyB7LX0KCkZvciBsb29wcyBhcmUgZXNzZW50aWFsbHkgYSB3YXkgb2YgdGVsbGluZyB0aGUgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgInBlcmZvcm0gdGhlIG9wZXJhdGlvbnMgSSBhc2sgeW91IHRvIGRvIE4gdGltZXMiLiBBIGZvciBsb29wIGluIFIgYmVnaW5ucyB3aXRoIGFuIGBmb3IoKWAgc3RhdGVtZW50LCB3aGljaCBpcyBmb2xsb3dlZCBieSBhbiBvcGVuaW5nIGN1cmx5IGJyYWNlIGB7YCBpbiB0aGUgc2FtZSBsaW5lIC0gdGhpcyBpcyBlc2VudGlhbGx5ICpvcGVuaW5nIHRoZSBmb3ItbG9vcCouIEFmdGVyIHRoaXMsIHVzdWFsbHkgaW4gYSBuZXcgbGluZSwgeW91IHBsYWNlIHRoZSBjb2RlIHdoaWNoIHlvdSB3YW50IHRvIGV4ZWN1dGUuIFRoZW4sIGluIHRoZSBsYXN0IGxpbmUgeW91ICpjbG9zZSB0aGUgZm9yIGxvb3AqIGJ5IGFub3RoZXIgY3VybHkgYnJhY2UgYH1gLiBZb3UgY2FuIGV4ZWN1dGUgdGhlIGZvciBsb29wIGJ5IHBsYWNpbmcgdGhlIGN1cnNvciBlaXRoZXIgb24gdGhlIGZvciBzdGF0ZW1lbnQgKGZpcnN0IGxpbmUpIG9yIHRoZSBjbG9zaW5nIGJyYWNlIChsYXN0IGxpbmUpIGFuZCBleGVjdXRpbmcgaXQgYXMgYW55IG90aGVyIGNvZGUuIEJlbG93LCB5b3UgY2FuIHNlZSB0aGUgZm9yIGxvb3AgcHJpbnRpbmcgdGhlIHN0cmluZyBgIkhlbGxvIHdvcmxkISJgIDUgdGltZXMKCmBgYHtyfQpmb3IoaSBpbiAxOjUpIHsKICBwcmludCgiSGVsbG8gd29ybGQiKQp9CmBgYAoKVGhlIGBpYCBpbiB0aGUgZm9yIHN0YXRlbWVudHMgaXMgdGhlIHZhcmlhYmxlIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgdGFrZSBhbGwgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0ICh1c3VhbGx5IGEgdmVjdG9yKSBzcGVjaWZpZWQgb24gdGhlIHJpZ2h0IGhhbmQgc2lkZSBvZiB0aGUgYGluYCBrZXl3b3JkLiBJbiBtYWpvcml0eSBvZiB0aGUgY2FzZXMsIHRoZSBvYmplY3QgaXMgYSBzZXF1ZW5jZSBvZiBpbnRlZ2VycywgYXMgaW4gdGhlIGV4YW1wbGUgYmVsb3csIHdoZXJlIGBpYCB0YWtlcyB0aGUgdmFsdWVzIG9mIGVhY2ggZWxlbWVudCBvZiB0aGUgdmVjdG9yIGAxOjVgIGFuZCBwcmludHMgaXQuCgpgYGB7cn0KZm9yKGkgaW4gMTo1KSB7CiAgcHJpbnQoaSkKfQpgYGAKCkEgZm9yIGxvb3AgY291bGQgYmUgdXNlZCB0byBhZGQgYSBjb25zdGFudCB0byBlYWNoIGVsZW1lbnQgb2YgYSB2ZWN0b3I6CgpgYGB7cn0KeCA8LSBjKDQsIDUsIDEsIDIsIDksIDgsIDAsIDUsIDMpCngKI2ZvciBhbGwgaW50ZWdlcnMgYmV0d2VlbiAxIGFuZCBsZW5ndGggb2YgdmVjdG9yIHg6CmZvcihpIGluIDE6bGVuZ3RoKHgpKSB7IAogIHhbaV0gPC0geFtpXSArIDUKfQp4CmBgYAoKSG93ZXZlciwgaW4gUiB0aGlzIGlzIHJlZHVuZGFudCwgYmVjYXVzZSBvZiAqKnZlY3Rvcml6YXRpb24qKiAoc2VlIHRoZSBbc2VjdGlvbiBvbiB2ZWN0b3JzXSgjdmVjdG9ycykgZnJvbSBjaGFwdGVyIDIpLiBUaGUgYWJvdmUgc3RhdGVtZW50IG9zIGVxdWl2YWxlbnQgdG86CgpgYGB7cn0KeCA8LSBjKDQsIDUsIDEsIDIsIDksIDgsIDAsIDUsIDMpCnggKyA1CmBgYAoKVGhpcyBpcyBub3Qgb25seSBzaW1wbGVyLCBidXQgYWxzbyBtb3JlIGVmZmljaWVudC4gCgpBbm90aGVyLCBtb3JlIHByYWN0aWNhbCBhcGxpY2F0aW9uIG9mIHRoZSBmb3IgbG9vcCBjb3VsZCBleGFtaW5lIGFsbCBjb2x1bW5zIG9mIGEgZGF0YSBmcmFtZSBmb3IgbWlzc2luZyB2YWx1ZXMsIHNvIHRoYXQ6CgpgYGB7cn0KZGV2IDwtIHJlYWQuY3N2KCJkYXRhL3VuX2RhdGEvZGV2MjAxOC5jc3YiLAogICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEZBTFNFKQptaXNzaW5nIDwtIG51bWVyaWMoKSAjY3JlYXRlIGVtcHR5IG51bWVyaWMgdmVjdG9yCmZvciAoaSBpbiAxOmxlbmd0aChkZXYpKXsKICBtaXNzaW5nW2ldIDwtIHN1bShpcy5uYShkZXZbLGldKSkgI2dldCBzdW0gb2YgbWlzc2luZyBmb3IgaXRoIGNvbHVtbgogIG5hbWVzKG1pc3NpbmcpW2ldIDwtIG5hbWVzKGRldilbaV0gI25hbWUgaXQgd2l0aCBpdGggY29sdW1uIG5hbWUKfQptaXNzaW5nCmBgYAoKRnJvbSB0aGlzLCB3ZSBjYW4gc2VlIHRoYXQgdGhlcmUgYXJlIDAgbWlzaXNuZyB2YWx1ZXMgaW4gdGhlIGNvdW50cnkgbmFtZSwgMSBtaXNzaW5nIHZhbHVlIGluIHRoZSBleHBlY3RlZCB5ZWFycyBvZiBzY2hvb2xpbmcgdmFyaWFibGUgYW5kLCAzIG1pc3NpbmcgdmFsdWVzIGluIGduaSBhbmQgbGlmZSBleHBlY3RhbmN5IGFuZCA1IG1pc3NpbmcgdmFsdWVzIGluIG1lYW4geWVhcnMgb2Ygc2Nob29saW5nLgoKCgpXaGlsZSB0aGlzIGlzIGEgYml0IG1vcmUgdXNlZnVsIHRoYW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIFIgc3RpbGwgb2ZmZXJzIGEgc2hvcnRoYW5kIG1ldGhvZCBmb3Igc3VjaCBwcm9ibGVtcywgd2hpY2ggaXMgZGlzY3Vzc2VkIGluIG1vcmUgZGV0YWlsIGluIHRoZSBbbGFzdCBwYXJ0IG9mIHRoaXMgY2hhcHRlcl0oI2FwcGx5LWZhbWlseSkuIEluIGdlbmVyYWwsIGR1ZSB0byB0aGUgcGhlbm9tZW5hIG9mIHZlY3Rvcml6YXRpb24sIGZvciBsb29wcyBhcmUgcmFyZWx5IHVzZWQgaW4gc2ltcGxlIGRhdGEgYW5hbHlzaXMgaW4gUi4gSG93ZXZlciwgdGhleSBhcmUgYSBjb3JlIGVsZW1lbnQgb2YgcHJvZ3JhbW1pbmcgYXMgc3VjaCwgdGhlcmVmb3JlIGl0J3MgaW1wb3J0YW50IHRvIHVuZGVyc3RhbmQgdGhlbS4gSW4gZmFjdCwgdmVjdG9yaXphdGlvbiBpcyBtYWRlIHBvc3NpYmxlIG9ubHkgYmVjYXVzZSBvZiBmb3IgbG9vcHMgYmVpbmcgdXNlZCBieSBSIGluIHRoZSBiYWNrZ3JvdW5kIC0gc2ltcGx5IHRoZWlyIGZhc3RlciBhbmQgbW9yZSBlZmZpY2llbnQgdmVyc2lvbnMuCgoKIyMjIElmIHN0YXRlbWVudHMgey19CgpJZiBzdGF0ZW1lbnRzIGFyZSBhbm90aGVyIGNydWNpYWwgcHJvZ3JhbW1pbmcgY29uY2VwdC4gVGhleSBlc3NlbnRpYWxseSBhbGxvdyBwZXJmb3JtaW5nIGNvbXB1dGF0aW9uICpjb25kaXRpb25hbGx5KiBvbiBhIGxvZ2ljYWwgc3RhdGVtZW50LiBJbiBvdGhlciB3b3JkcywgZGVwZW5kaW5nIG9uIGEgW2xvZ2ljYWwgZXhwcmVzc2lvbl0obG9naWNhbC12YWx1ZXMtYW5kLW9wZXJhdG9ycykgYW4gb3BlcmF0aW9uIGlzIHBlcmZvcm1lZCBvciBub3QuIElmIGxvb3BzIGluIFIgYXJlIGNvbnN0cnVjdGVkIGluIHRoZSBmb2xsb3dpbmcgd2F5OgoKCgoKV2hlcmUgYGxvZ2ljYWxfZXhwcmVzc2lvbmAgbXVzdCBhbiBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGEgbG9naWNhbCB2YWx1ZSwgZm9yIGV4YW1wbGUgYFggPiA1YCwgYGNvdW50cnkgPT0gIkZyYW5jZSJgIG9yIGBpcy5uYSh4KWAuIGBvcGVyYXRpb25zYCBhcmUgcGVyZm9ybWVkIGlmIGFuZCBvbmx5IGlmIHRoZSBgbG9naWNhbF9leHByZXNzaW9uYCBldmFsdWF0ZXMgdG8gYFRSVUVgLiBUaGUgc2ltcGxlcyBwb3NzaWJsZSBleGFtcGxlIHdvdWxkIGJlCgpgYGB7cn0KeCA8LSAyCmlmICh4ID4gMCkgewogIHByaW50KCJ0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAiKQp9Cgp4IDwtIC0yCmlmICh4ID4gMCkgewogIHByaW50KCJ0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAiKQp9CmBgYAoKCklmIGlzIG5hdHVyYWxseSBjb21wbGVtZW50ZWQgYnkgdGhlIGBlbHNlYCBjbGF1c2UsIGkuZS4gdGhlIG9wZXJhdGlvbnMgdGhhdCBzaG91bGQgYmUgcGVyZm9ybWVkIG90aGVyd2lzZS4gVGhlIGdlbmVyYWwgZm9ybSBvZiBzdWNoIHN0YXRlbWVudCBpczoKCgoKCkluIHRoaXMgY2FzZSwgUiBmaXJzdCBjaGVja3MgaWYgdGhlIGBsb2dpY2FsX2V4cHJlc3Npb25gIGV2YWx1YXRlcyB0byBgVFJVRWAsIGFuZCBpZiBpdCBkb2Vzbid0LCBwZXJmb3JtcyB0aGUgYG90aGVyX29wZXJhdGlvbnNgLiBGb3IgZXhhbXBsZToKCmBgYHtyfQp4IDwtIC0yCmlmICh4ID4gMCkgewogIHByaW50KCJ0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAiKQp9IGVsc2UgewogIHByaW50KCJ0aGUgdmFsdWUgaXMgbGVzcyBvciBlcXVhbCB0aGFuIDAiKQp9CmBgYAoKRmluYWxseSwgYGVsc2UgaWZgIGFsbG93cyB0byBwcm92aWRlIGFub3RoZXIgc3RhdGVtZW50IHRvIGJlIGV2YWx1YXRlZC4gVGhlIGdlbmVyYWwgZm9ybSBvZiBzdWNoIHN0YXRlbWVudCB3b3VsZCBiZToKCgoKCkhlcmUsIFIgZmlyc3QgY2hlY2tzIHRoZSBgbG9naWNhbF9zdGF0ZW1lbnRgLCBpZiBpdCdzIGBGQUxTRWAgdGhlbiBpdCBwcm9jZWVkcyB0byBjaGVjayB0aGUgYG90aGVyX2xvZ2ljYWxfc3RhdGVtZW50YC4gSWYgdGhlIHNlY29uZCBvbmUgaXMgYFRSVUVgIGlmIHBlcmZvcm1zIHRoZSBgb3RoZXJfb3BlcmF0aW9uYCBhbmQgaWYgaXQncyBgRkFMU0VgIGl0IHByb2NlZWRzIHRvIHBlcmZvcm0gdGhlIGB5ZXRfYW5vdGhlcl9vcGVyYXRpb25gLiBBbiBleHRlbnNpb24gb2YgdGhlIHByZXZpb3VzIGV4YW1wbGU6CgpgYGB7cn0KeCA8LSAyCmlmICh4ID4gMCkgewogIHByaW50KCJUaGUgdmFsdWUgaXMgcG9zaXRpdmUiKQp9IGVsc2UgaWYgKHggPCAwKSB7CiAgcHJpbnQoIlRoZSB2YWx1ZSBpcyBuZWdhdGl2ZSIpIAp9IGVsc2UgewogIHByaW50KCJUaGUgdmFsdWUgaXMgMCIpCn0KYGBgCgpJRi1FTFNFIHN0YXRtZW50cyBjYW4gYmUgdXNlZCB0byBjb25kaXRpb25hbGx5IHJlcGxhY2UgdmFsdWVzLiBGb3IgZXhhbXBsZSwgc3VwcG9zZSB0aGF0IHdlIHdhbnQgdG8gY3JlYXRlIGEgdmFyaWFibGUgdGhhdCBpcyAxIHdoZW4gY291bnRyeSBpcyBGcmFuY2UgYW5kIDAgb3RoZXJ3aXNlLiBXZSBjb3VsZCBkbyB0aGF0IGJ5OgoKYGBge3J9CmRldiRmcmFuY2UgPC0gMApmb3IgKGkgaW4gMTpucm93KGRldikpIHsKICBpZiAoZGV2JGNvdW50cnlbaV0gPT0gIkZyYW5jZSIpIHsKICAgIGRldiRmcmFuY2VbaV0gPC0gMQogIH0KfQoKZGV2JGZyYW5jZVtkZXYkY291bnRyeSA9PSAiRnJhbmNlIl0KYGBgCgpBZ2FpbiwgYmVjYXVzZSBvZiB2ZWN0b3JpemF0aW9uLCBSIG9mZmVycyBhIHNob3J0aGFuZCBmb3IgdGhpcywgdGhyb3VnaCB0aGUgYGlmZWxzZSgpYCBmdW5jdGlvbjoKCmBgYHtyfQpkZXYkZnJhbmNlIDwtIGlmZWxzZShkZXYkY291bnRyeSA9PSAiRnJhbmNlIiwgMSwgMCkKZGV2JGZyYW5jZVtkZXYkY291bnRyeSA9PSAiRnJhbmNlIl0KYGBgCgoKV2hlbiB5b3UgbG9vayBhdCB0aGUgZG9jdW1lbnRhdGlvbiAgYD9pZmVsc2VgLCB5b3UgY2FuIHNlZSB0aGF0IGl0IHRha2VzIHRocmVlIGFyZ3VtZW50cyAtIGB0ZXN0YCwgYHllc2AgYW5kIGBub2AuIFRoZSBgdGVzdGAgYXJndW1lbnQgaXMgdGhlIGxvZ2ljYWwgY29uZGl0aW9uIC0gc2FtZSBhcyBgbG9naWNhbF9zdGF0ZW1lbnRgIGluIHRoZSBgaWZgLCB3aXRoIHRoZSBzbWFsbCBzdWJ0bGUgZGlmZmVyZW5jZSB0aGF0IGl0IGNhbiBldmFsdWF0ZSB0byBhIGxvZ2ljYWwgdmVjdG9yIHJhdGhlciB0aGFuIG9uZSBzaW5nbGUgbG9naWNhbCB2YWx1ZS4gVGhlIGB5ZXNgIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24gaWYgdGhlIGB0ZXN0YCBpcyBgVFJVRWAgYW5kIHRoZSBgbm9gIGFyZ3VtZW50IGlzIHJldHVybmVkIHdoZW4gYHRlc3RgIGlzIGBGQUxTRWAuIFlvdSBjYW4gZnVsbHkgc2VlIHRoaXMgaW4gdGhlIGV4YW1wbGUgYmVsb3c6CgoKYGBge3J9CmlmZWxzZShjKFRSVUUsIEZBTFNFLCBGQUxTRSwgVFJVRSksICJ5ZXMiLCAibm8iKQppZmVsc2UoYyhUUlVFLCBGQUxTRSwgRkFMU0UsIFRSVUUpLCAxLCAwKQpgYGAKCgojIyMgRnVuY3Rpb25zIHstfQoKUiBpcyBrbm93biBhcyBhICpmdW5jdGlvbmFsIHByb2dyYW1taW5nIGxhbmd1YWdlKiAtIGFzIHlvdSBoYXZlIGFscmVhZHkgc2VlbiwgYWxtb3N0IGFsbCBvZiB0aGUgb3BlcmF0aW9ucyBwZXJmb3JtZWQgYXJlIGRvbmUgdXNpbmcgZnVuY3Rpb25zLiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGNyZWF0ZSBvdXIgb3duLCBjdXN0b20gZnVuY3Rpb25zIGJ5IGNvbWJpbmluZyBvdGhlciBmdW5jdGlvbnMgYW5kIGRhdGEgc3RydWN0dXJlcy4gVGhpcyBpcyBkb25lIHVzaW5nIHRoZSBgZnVuY3Rpb24oKWAga2V5d29yZC4gVGhlIGdlbmVyYWwgc3ludGF4IG9mIGEgZnVuY3Rpb24gbG9va3MgYXMgZm9sbG93czoKCgoKCkFzIHdpdGggYW55IFIgb2JqZWN0LCB5b3UgY2FuIHVzZSBhbG1vc3QgYW55IG5hbWUgaW5zdGVhZCBvZiBgZnVuY3Rpb25fbmFtZWAuIEFyZ3VtZW50cyBhcmUgc2VwYXJldGVkIGJ5IGNvbW1hcyAoaW4gdGhlIGFib3ZlIGV4YW1wbGUgYGFyZzFgLCBgYXJnMmApIC0gdGhlc2UgYXJlIHRoZSBvYmplY3RzIHlvdSBwYXNzIHRvIHlvdXIgZnVuY3Rpb24gb24gd2hpY2ggeW91IHBlcmZvcm0gc29tZSBhcmJpdHJhcnkgYG9wZXJhdGlvbnNgLiBBZ2FpbiwgdGhlIGFyZ3VtZW50cyBjYW4gaGF2ZSBhcmJpdHJhcnkgbmFtZXMsIGJ1dCB5b3UgbmVlZCB0byB1c2UgdGhlbSB3aXRoaW4gdGhlIGZ1bmN0aW9uIGNvbnNpc3RlbnRseS4gRmluYWxseSwgbW9zdCBvZiB0aGUgZnVuY3Rpb25zIHJldHVybiBhIHZhbHVlIC0gdGhpcyBpcyB0aGUgbGFzdCBvYmplY3QgY2FsbGVkIHdpdGhpbiB0aGUgZnVuY3Rpb24gKGBvdXRwdXRgIGluIHRoZSBhYm92ZSBleGFtcGxlKS4KCkFmdGVyIGNyZWF0aW5nIHRoZSBmdW5jdGlvbiB3ZSBjYW4gcnVuIGl0LCBleGFjdGx5IHRoZSBzYW1lIHdheSBhcyB3ZSB3b3VsZCB3aXRoIGFueSBvZiBSJ3MgYnVpbHQtaW4gZnVuY3Rpb25zLiBBIHNpbXBsZSBleGFtcGxlIGNvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mIG1pc3NpbmcgdmFsdWVzIGluIGFuIG9iamVjdDoKCmBgYHtyfQpjb3VudF9uYSA8LSBmdW5jdGlvbih4KSB7CiAgc3VtKGlzLm5hKHgpKQp9Cgpjb3VudF9uYShkZXYkbXlzKQpgYGAKCldlIGNvdWxkIGFsc28gaW1wbGVtZW50IG91ciBvd24gc3VtbWFyeSBzdGF0aXN0aWNzIGZ1bmN0aW9uLCBzaW1pbGFyIHRvIGBkZXNjcmliZSgpYCBkaXNjdXNzZWQgaW4gW3RoZSBwcmV2aW91cyBjaGFwdGVyXSgjZXhwbG9yYXRvcnkpOgoKYGBge3J9CnN1bW1hcnlfc3RhdHMgPC0gZnVuY3Rpb24oeCkgewogIGlmIChpcy5udW1lcmljKHgpKSB7CiAgICBsaXN0KE1lYW4gPSBtZWFuKHgsIG5hLnJtID0gVFJVRSksIAogICAgICAgICAgICAgICAgU0QgPSBzZCh4LCBuYS5ybSA9IFRSVUUpLCAKICAgICAgICAgICAgICAgIElRUiA9IElRUih4LCBuYS5ybSA9IFRSVUUpKQogIH0gZWxzZSBpZiAoaXMuY2hhcmFjdGVyKHgpKSB7CiAgICBsaXN0KExlbmd0aCA9IGxlbmd0aCh4KSwgCiAgICAgICAgICAgICAgICAgIE1lYW5fTmNoYXIgPSBtZWFuKG5jaGFyKHgpKSkKICB9IGVsc2UgaWYgKGlzLmZhY3Rvcih4KSkgewogIGxpc3QoTGVuZ3RoID0gbGVuZ3RoKHgpLCAKICAgICAgIE5sZXZlbHMgID0gbGVuZ3RoKGxldmVscyh4KSkpCiAgfQp9CmBgYAoKTGV0J3Mgd2FsayB0aHJvdWdoIHRoZSBhYm92ZSBmdW5jdGlvbiBHaXZlbiBhIHZlY3RvciBgeGAsIHRoZSBmdW5jdGlvbiA6CjEuIENoZWNrcyB3aGV0aGVyIGB4YCBpcyBhIG51bWVyaWMgdmVjdG9yLiBJZiBzbywgcmV0dXJucyBhIGxpc3Qgb2YgaXQncyBtZWFuLCBzdGFuZGFyZCBkZXZpYXRpb24gYW5kIGludGVycXVhcnRpbGUgcmFuZ2UuCjIuIEVsc2UsIGNoZWNrcyBpZiBgeGAgaXMgYSBjaGFyYWN0ZXIgdmVjdG9yLiBJZiBzbywgcmV0dXJucyBhIGxpc3QgY29udGFpbm5nIGl0cyBsZW5ndGggYW5kIGF2ZXJhZ2UgbnVtYmVyIG9mIGNoYXJhY3RlcnMuCjMuIEVsc2UsIGNoZWNrcyBpZiBgeGAgaXMgYSBmYWN0b3IuIElmIHNvIHJldHVybnMgYSBsaXN0IGNvbnRhaW5pbmcgaXRzIGxlbmd0aCBhbmQgYXZlcmFnZSBudW1iZXIgb2YgY2hhcmFjdGVyLgoKV2UgY2FuIHNlZSBob3cgaXQgd29ya3MgYmVsb3c6CgpgYGB7cn0Kc3VtbWFyeV9zdGF0cyhjKDEsIDIsIDMsIDEwKSkKc3VtbWFyeV9zdGF0cyhkZXYkY291bnRyeSkKc3VtbWFyeV9zdGF0cyhhcy5mYWN0b3IoZGV2JGNvdW50cnkpKQpgYGAKCgojIyMjIEtleXdvcmQgYXJndW1lbnRzIHstfQoKTWFueSBvZiB0aGUgZnVuY3Rpb25zIHVzZWQgaW4gUiBjb21lIHdpdGggc28tY2FsbGVkICpkZWZhdWx0KiBhcmd1bWVudHMgLSB0aGlzIHdhcyBhbHJlYWR5IG1lbnRpb25lZCBpbiBbc29ydGluZ10oI3NvcnRpbmcpLiBXaGVuIGRlZmluaW5nIG91ciBvd24gZnVuY3Rpb25zLCB3ZSBjYW4gbWFrZSB1c2Ugb2YgdGhhdCBmdW5jdGlvbmFsaXR5IGFzIHdlbGwuIEZvciBleGFtcGxlLCB0aGUgYGNvdW50X25hYCBleGFtcGxlIGNhbiBiZSBtb2RpZmllZCBpbiB0aGUgZm9sbG93aW5nIHdheToKCmBgYHtyfQpjb3VudF9uYSA8LSBmdW5jdGlvbih4LCBwcm9wb3J0aW9uID0gVFJVRSkgewogIG51bV9uYSA8LSBzdW0oaXMubmEoeCkpCiAgaWYgKHByb3BvcnRpb24gPT0gVFJVRSkgewogICAgbnVtX25hL2xlbmd0aCh4KQogIH0gZWxzZSB7CiAgICBudW1fbmEKICB9Cn0KYGBgCgpUaGUgYHByb3BvcnRpb25gIGFyZ3VtZW50IGNvbnRyb2xzIHdoZXRoZXIgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIG51bWJlciBvZiBOQXMgYXMgdmFsdWUgb3IgYXMgcHJvcG9ydGlvbiBvZiB0aGUgZW50aXJlIHZlY3RvcjoKCmBgYHtyfQpjb3VudF9uYShkZXYkZ25pKQpjb3VudF9uYShkZXYkZ25pLCBwcm9wb3J0aW9uID0gVFJVRSkgI3NhbWUgYXMgYWJvdmUKY291bnRfbmEoZGV2JGduaSwgcHJvcG9ydGlvbiA9IEZBTFNFKQpgYGAKCgpUaGVyZSBhcmUgY291cGxlIG9mIHJlYXNvbnMgd2h5IGZ1bmN0aW9ucyBhcmUgZnJlcXVlbnRseSBhcHBsaWVkIHdoZW4gYW5hbHl6aW5nIGRhdGE6CjEuICpUbyBhdm9pZCByZXBldGl0aW9uKiAtIG9mdGVuLCB5b3UgbmVlZCB0byBwZXJmb3JtIHRoZSBzYW1lIG9wZXJhdGlvbiByZXBlYXRlZGx5IC0gc29tZXRpbWVzIG9uIGEgZGF0YWZyYW1lIHdpdGggdGVucyBvciBodW5kZXJkcyBvZiBjb2x1bW5zIG9yIGV2ZW4gbXVsdGlwbGUgZGF0YSBmcmFtZXMuIFRvIGF2b2lkIHJlLXdyaXRpbmcgdGhlIHNhbWUgY29kZSBvdmVyIGFuZCBvdmVyIGFnYWluICh3aGljaCBhbHdheXMgaW5jcmVhc2VzIHRoZSBjaGFuY2Ugb2YgYW4gZXJyb3Igb2NjdXJpbmcpLgoyLiAqVG8gZW5oYW5jZSBjbGFyaXR5KiAtIHdoZW4geW91IHBlcmZvcm0gYSBsb25nIGFuZCBjb21wbGljYXRlZCBzZXJpZXMgb2Ygb3BlcmF0aW9ucyBvbiBhIGRhdGFzZXQsIGl0J3Mgb2Z0ZW4gbXVjaCBlYXNpZXIgdG8gYnJlYWsgaXQgZG93biBpbnRvIGZ1bmN0aW9ucy4gVGhlbiB3aGVuIHlvdSBuZWVkIHRvIGNvbWUgYmFjayB0byB5b3VyIGNvZGUgYWZ0ZXIgYSBsb25nIHRpbWUsIGl0IGlzIG9mdGVuIG11Y2ggZWFzaWVyIHRvIHNlZSBgcmVjb2RlX21pc3NpbmdfdmFsdWVzKGRhdGEpYCBhcHBlYXIgaW4geW91ciBjb2RlLCB3aXRoIHRoZSBgcmVjb3JkX21pc3NpbmdfdmFsdWVzYCBmdW5jdGlvbiBkZWZpbmVkIHNvbWV3aGVyZSBlbHNlLCBhcyB5b3UgZG9uJ3QgbmVlZCB0byBnbyB0aHJvdWdoIHlvdXIgY29kZSBzdGVwIGJ5IHN0ZXAsIGJ1dCBvbmx5IHVuZGVyc3RhbmQgd2hhdCBwYXJ0aWN1bGFyIGZ1bmN0aW9ucyByZXR1cm4uCjMgKlRvIGltcHJvdmUgcGVyZm9ybWFuY2UqIC0gd2hpbGUgbW9zdCBvZiB0aGUgb3BlcmF0aW9ucyB3ZSd2ZSBzZWVuIGluIFIgdGFrZSBmcmFjdGlvbnMgb2Ygc2Vjb25kcywgbGFyZ2VyIGRhdGEgY2FuIG9mdGVuIGxlYWQgdG8gbG9uZ2VyIGNvbXB1dGF0aW9uIHRpbWVzLiBGdW5jdGlvbnMgY2FuIGJlIGNvbWJpbmVkIHdpdGggb3RoZXIgdG9vbHMgdG8gbWFrZSBjb21wdXRhdGlvbiBtb3JlIGVsZWdhbnQgYW5kIHF1aWNrZXIgLSBzb21lIG9mIHRoZXNlIG1ldGhvZHMgYXJlIGRpc2N1c3NlZCBpbiB0aGUgbmV4dCBzZWN0aW9uLgoKCiMjIyBTYXBwbHkgey19CgpSZWNhbGwgdGhlIGNvZGUgd2UgdXNlZCB0byBjaGVjayBlYWNoIGNvbHVtbiBvZiBvdXIgZGF0YSBmcmFtZSBmb3IgbWlzc2luZ25lc3MgaW4gdGhlIFtmb3IgbG9vcHMgc2VjdGlvbl0oZm9yLWxvb3BzKToKCmBgYHtyfQptaXNzaW5nIDwtIG51bWVyaWMoKSAjY3JlYXRlIGVtcHR5IG51bWVyaWMgdmVjdG9yCmZvciAoaSBpbiAxOmxlbmd0aChkZXYpKXsKICBtaXNzaW5nW2ldIDwtIHN1bShpcy5uYShkZXZbLGldKSkgI2dldCBzdW0gb2YgbWlzc2luZyBmb3IgaXRoIGNvbHVtbgogIG5hbWVzKG1pc3NpbmcpW2ldIDwtIG5hbWVzKGRldilbaV0gI25hbWUgaXQgd2l0aCBpdGggY29sdW1uIG5hbWUKfQpgYGAKCldlIGNvdWxkIHJlLXdyaXRlIGl0IHVzaW5nIG91ciBuZXcga25vd2xlZGdlIG9mIGZ1bmN0aW9ucywgc3VjaCB0aGF0OgoKYGBge3J9CmNvdW50X25hIDwtIGZ1bmN0aW9uKHgpIHsKICBzdW0oaXMubmEoeCkpCn0KCm1pc3NpbmcgPC0gbnVtZXJpYygpCmZvciAoaSBpbiAxOmxlbmd0aChkZXYpKSB7CiAgbWlzc2luZ1tpXSA8LSBjb3VudF9uYShkZXZbLGldKQogIG5hbWVzKG1pc3NpbmcpW2ldIDwtIG5hbWVzKGRldilbaV0KfQptaXNzaW5nCmBgYAoKV2hpbGUgdGhpcyBtYXkgbG9vayBhIGJpdCBtb3JlIGZhbmN5LCBpbiBmYWN0IG1vcmUgY29kZSB3YXMgdXNlZCB0byBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uIGFuZCBpdCBkb2Vzbid0IGRpZmZlciB0b28gbXVjaCBpbiB0ZXJtcyBvZiBjbGFyaXR5LiBUaGUgZXhhY3Qgc2FtZSByZXN1bHQgY2FuIGJlIGFjaGlldmVkIHVzaW5nIHRoZSBgc2FwcGx5KClgIGZ1bmN0aW9uLiBgc2FwcGx5KClgIHRha2VzIHR3byBhcmd1bWVudHMgLSBhbiBSIG9iamVjdCwgc3VjaCBhcyBhIHZlY3RvciBhbmQgYSBkYXRhIGZyYW1lIGFuZCBhIGZ1bmN0aW9uLiBUaGVuLCBpdCBhcHBsaWVzIHRoZSBmdW5jdGlvbiB0byBlYWNoIGVsZW1lbnQgb2YgdGhpcyBvYmplY3QgKGkuZS4gdmFsdWUgaW4gY2FzZSBvZiB2ZWN0b3JzLCBjb2x1bW4vdmFyaWFibGUgaW4gY2FzZSBvZiBkYXRhIGZyYW1lcykuIAoKYGBge3J9CnNhcHBseShkZXYsIGNvdW50X25hKQpgYGAKClRoZSByZXN1bHQgaXMgZXhhY3RseSB0aGUgc2FtZSBhcyBpbiB0aGUgcHJldmlvdXMgY2FzZS4gYHNhcHBseSgpYCB1c2VkIHRoZSBgY291bnRfbmFgIGZ1bmN0aW9uIG9uIGVhY2ggY29sdW1ucyBvZiB0aGUgYGRldmAgZGF0YXNldC4KCldoZW4gdXNpbmcgc2hvcnQsIHNpbXBsZSBmdW5jdGlvbnMsIGBzYXBwbHkoKWAgY2FuIGJlIGV2ZW4gbW9yZSBjb25jaXNlLCBhcyB3ZSBjYW4gZGVmaW5lZCBvdXIgZnVuY3Rpb24gd2l0aG91dCBnaXZpbmcgaXQgYSBuYW1lLiBJbiB0aGUgZXhhbXBsZSBiZWxvdywgaW5zdGVhZCBvZiBkZWZpbmluZyBgY291bnRfbmFgIHNlcGFyYXRlbHksIHdlIGRlZmluZSBpdCBkaXJlY3RseSB3aXRoaW4gdGhlIGBzYXBwbHkoKWAgY2FsbCAoaS5lLiBpbnNpZGUgdGhlIHBhcmVudGhlc2VzKS4gVGhpcyB5aWVsZHMgdGhlIHNhbWUgcmVzdWx0LiAKCmBgYHtyfQpzYXBwbHkoZGV2LCBmdW5jdGlvbih4KSBzdW0oaXMubmEoeCkpKQpgYGAKCgpDb25zaWRlciB0aGUgZnVuY3Rpb24gYmVsb3cuIFdoYXQgZG8geW91IGV4cGVjdCBpdCB0byByZXR1cm4/IFRyeSBnb2luZyB0aHJvdWdoIGVhY2ggZWxlbWVudCBvZiB0aGUgY29kZSBzZXBhcmF0ZWx5LiBZb3UgY2FuIGNoZWNrIGhvdyB0aGUgYHJvd1N1bXNgIGNvbW1hbmQgd29ya3MgYnkgdHlwaW5nIGA/cm93U3Vtc2AgaW50byB0aGUgUiBjb25zb2xlLgoKYGBge3J9CnF1YXJ0aWxlIDwtIGZ1bmN0aW9uKHgpIHsKICBxdWFudGlsZXMgPC0gcXVhbnRpbGUoeCwgYygwLjI1LCAwLjUsIDAuNzUpLCBuYS5ybSA9IFRSVUUpCiAgY29tcGFyaXNvbnMgPC0gc2FwcGx5KHF1YW50aWxlcywgZnVuY3Rpb24oeSkgeSA8PSB4KQogIHJvd1N1bXMoY29tcGFyaXNvbnMpICsgMQp9CmBgYAoKVGhlIGZ1bmN0aW9uIHRha2VzIGEgdmVjdG9yIGFzIGlucHV0IGFuZCBjb21wdXRlcyB0aHJlZSBxdWFudGlsZXMgb2YgaXRzIHZhbHVlcyAtIDI1JSwgNTAlLCA3NSUuIFlvdSBtYXkgcmVjYWxsIGZyb20gdGhlIFtwcmV2aW91cyBjaGFwdGVyXSgjZXhwbG9yYXRvcnkpIHRoYXQgcXVhbnRpbGVzIGFyZSBjdXQgcG9pbnRzIHRoYXQgZGl2aWRlIGEgdmFyaWFibGUgaW50byByYW5nZXMgb2YgZXF1YWwgcHJvcG9ydGlvbnMgaW4gdGhlIGRhdGEgc2V0LiBUaGUgcmVzdWx0aW5nIGBxdWFudGlsZXNgIHZlY3RvciBjb25zaXN0cyBvZiB0aHJlZSB2YWx1ZXMsIGNvcnJlc3BvbmRpbmcgd2l0aCB0aHJlIHRocmVlIHF1YW50aWxlcy4gV2UgdGhlbiB1c2UgYHNhcHBseWAgb24gdGhlc2UgdGhyZWUgdmFsdWVzIHRvIGNvbXBhcmUgZWFjaCBvZiB0aGVtIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBgeGAgdmVjdG9yLiBBcyBhIHJlc3VsdCwgd2Ugb2J0YWluIGEgMyB4IG4gYXJyYXksIHdoZXJlIG4gaXMgbGVuZ3RoIG9mIGB4YC4gRm9yIGVhY2ggb2YgdGhlIHZhbHVlcyBvZiBgeGAgd2UgZ2V0IHRocmVlIGxvZ2ljYWwgdmFsdWVzLiBFYWNoIG9mIHRoZW0gaXMgYFRSVUVgIHdoZW4gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2YgeCB3YXMgbGFyZ2VyIHRoYW4gdGhlIHF1YW50aWxlIGFuZCBgRkFMU0VgIGlmIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mIHggd2FzIGxvd2VyIHRoYW4gdGhlIHF1YW50aWxlLiBXZSBjYW4gdGhlbiBzdW0gdGhlIHJlc3VsdHMgYnkgcm93LCB1c2luZyBgcm93U3Vtc2AuIE91ciBmaW5hbCByZXN1bHQgaXMgYSB2ZWN0b3Igd2l0aCB2YWx1ZXMgb2YgMCwgMSBhbmQgMi4gSXRzIHZhbHVlIGlzIDAgaWYgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2YgeCB3YXMgbGVzcyB0aGFuIGFsbCBxdWFydGlsZXMsIDEgaWYgaXQgd2FzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiB0aGUgLjI1LCAyIGlmIGl0IHdhcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gMC41IGFuZCAzIGlmIGl0IHdhcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gYWxsIG9mIHRoZW0uIFdlIHRoZW4gZmluYWxseSBhZGQgMSB0byBlYWNoLCBzbyB0aGF0IHRoZXkgY29ycmVzcG9uZCB0byB0cnVlIHF1YXJ0aWxlIG51bWJlcnMgKDFzdCBxdWFydGlsZSwgcmF0aGVyIHRoYW4gMHRoIHF1YXJ0aWxlLCBldGMpLgoKV2UgY2FuIHRoZW4gdXNlIHRoZSBgc3BsaXRgIGZ1bmN0aW9uLCB3aGljaCB0YWtlcyBhIGRhdGEgZnJhbWUgYW5kIGEgdmVjdG9yIGFzIGlucHV0IGFuZCBzcGxpdHMgdGhlIGRhdGEgZnJhbWUgaW50byBzZXZlcmFsIHBhcnRzLCBlYWNoIHdpdGggdGhlIHNhbWUgdmFsdWUgb2YgdGhlIHNwbGl0dGluZyB2YXJpYWJsZS4gQXMgYSByZXN1bHQsIHdlIG9idGFpbiBgZGV2X3NwbGl0YCBkYXRhc2V0LCB3aGljaCBzdG9yZXMgNCBkYXRhIGZyYW1lcywgZWFjaCBvbmx5IHdpdGggY291bnRyaWVzIGluIHRoZSByZXNwZWN0aXZlIHF1YW50aWxlIG9mIGV4cGVjdGVkIHllYXJzIG9mIHNjaG9vbGluZy4KCmBgYHtyfQpkZXZfc3BsaXQgPC0gc3BsaXQoZGV2LCBxdWFydGlsZShkZXYkZXlzKSkKaGVhZChkZXZfc3BsaXRbWzFdXSkKYGBgCgpZb3UgY2FuIHRoZW4gbG9vayBhdCBkZXNjcmlwdGl2ZSBzdGF0aXN0aWNzIG9mIGVhY2ggb2YgdGhlIHF1YXJ0aWxlcyB1c2luZzoKCmBgYHtyfQpzYXBwbHkoZGV2X3NwbGl0LCBzdW1tYXJ5KQpgYGAKCgpXaGlsZSB3b3JraW5nIGFuIFIgYW5kIGxvb2tpbmcgZm9yIGhlbHAgb25saW5lLCB5b3UgbWF5IHN0dW1ibGUgdXBvbiBvdGhlciB2YXJpYW50cyBvZiB0aGUgYHNhcHBseSgpYCBmdW5jdGlvbnMuIEVzc2VudGlhbGx5LCBhbGwgUiBmdW5jdGlvbnMgd2l0aCBgYXBwbHlgIGluIHRoZWlyIG5hbWUgc2VydmUgdGhlIHNhbWUgcHVycG9zZSAtIGFwcGx5aW5nIGEgZnVuY3Rpb24gdG8gZWFjaCBlbGVtZW50IG9mIGFuIG9iamVjdC4gYGxhcHBseSgpYCBpcyBhIGxlc3MgdXNlciBmcmllbmR5IHZlcnNpb24gb2YgYHNhcHBseSgpYCwgd2hpY2ggYWx3YXlzIHJldHVybnMgYSBsaXN0LCBub3QgYSB2ZWN0b3IuIGB2YXBwbHkoKWAgZm9yY2VzIHRoZSB1c2VyIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiB0aGUgb3V0cHV0LCB3aGljaCBtYWtlcyBpdHMgYmVoYXZpb3VyIG1vcmUgcHJlZGljdGlibGUgYW5kIHNsaWdodGx5IGZhc3Rlci4gYHRhcHBseSgpYCBhcHBsaWVzIHRoZSBmdW5jdGlvbiB0byBkYXRhIGZyYW1lIGJ5IGdyb3VwIGRldGVybWluZWQgYnkgYW5vdGhlciB2YXJpYWJsZSAtIGEgc2ltaWxhciBwcm9jZWR1cmUgdG8gd2hhdCB3ZSBkaWQgdXNpbmcgYHNwbGl0KClgIGFuZCBgc2FwcGx5KClgLCBidXQgaW4gbGVzcyBzdGVwcy4KCiMjIFN1bW1hcnkKCi0qRm9yIGxvb3BzKiBhbGxvdyB0byBwZXJmb3JtIHRoZSBzYW1lIG9wZXJhdGlvbiBtdWx0aXBsZSB0aW1lcyBvdmVyIGEgcmFuZ2Ugb2YgdmFsdWVzIG9mIG9uZSB2YXJpYWJsZS4gVGhleSBhcmUgY29uc3RydWN0ZWQgdXNpbmcgYGZvcihpIGluIHZlY3RvcilgLiBUaGVpciB1c2UgaW4gUiBpcyByZWxhdGl2ZWx5IHJhcmUgZHVlIHRvIHZlY3Rvcml6YXRpb24uCgotKklmIHN0YXRlbWVudHMqIGNvbnRyb2wgd2hldGhlciBuYSBvcGVyYXRpb24gaXMgcGVyZm9ybWVkIGRlcGVuZGluZyBvbiB0aGUgdmFsdWUgb2YgYSBsb2dpY2FsIGNvbmRpdGlvbi4gVG8gY29uZGl0aW9uYWxseSBtb2RpZnkgdmFsdWVzIG9mIHZlY3RvcnMsIHVzZSBgaWZlbHNlKHRlc3QsIHllcywgbm8pYAoKLSpGdW5jdGlvbnMqIGNhbiBiZSBjcmVhdGVkIGJ5IHVzZXIgdG8gY29tYmluZSBtdWx0aXBsZSBvcGVyYXRpb25zIGludG8gc2hvcnRlciBwaWVjZXMgb2YgY29kZSwgd2hpY2ggYWxsb3dzIHRvIGF2b2lkIHJlcGV0aXRpb24uIFRoZXkgdGFrZSBvbmUgb3IgbWFueSBhcmd1bWVudHMgYW5kIHJldHVybiBvbmUgdmFsdWUuCgotYHNhcHBseSgpYCBpcyBhIGZ1bmN0aW9uIHVzZWQgZm9yIGFwcGx5aW5nIGEgZnVuY3Rpb24gdG8gZWFjaCBlbGVtZW50IG9mIGEgdmVjdG9yIG9yIGVhY2ggY29sdW1uIG9mIGEgZGF0YSBmcmFtZS4gWW91IG1heSBmaW5kIG90aGVyIHZlcnNpb25zIG9mIGl0LCB3aXRoICphcHBseSogaW4gdGhlaXIgbmFtZSwgd2hpY2ggcGVyZm9ybSB0aGUgc2FtZSB0YXNrLCBidXQgd2l0aCBzbGlnaHQgYWx0ZXJhdGlvbi4KCgoKIyMjIEZ1bmN0aW9ucyBsaXN0IHstfQoKCgoKIyMgRXhlcmNpc2VzCgoxLiBTdXBwb3NlIHdlIHBhc3MgYSBkYXRhIGZyYW1lIHRvIHRoZSBgc3VtbWFyeV9zdGF0c2AgZnVuY3Rpb24uIFdoYXQgd291bGQgdGhlIGZ1bmN0aW9uIHJldHVybj8gV2h5PwoKCgoKCjIuIFVzZSB0aGUgYHN1bW1hcnlfc3RhdHNgIGZ1bmN0aW9uIHRvIHN1bW1hcml6ZSBlYWNoIHZhcmlhYmxlIGZyb20gdGhlIGBpcmlzYCBkYXRhc2V0LiBZb3UgY2FuIGxvYWQgaXQgdXNpbmcgYGRhdGEoaXJpcylgLgoKCgoKCjMuIFVzZSBhIGZvciBsb29wIHRvIGNyZWF0ZSBhIHNjYXR0ZXIgcGxvdCBvZiBgU2VwYWwuV2lkdGhgIGFuZCBgU2VwYWwubGVuZ3RoYCBhdHRyaWJ1dGVzIGZyb20gdGhlIGBpcmlzYCBkYXRhc2V0IHdpdGggZWFjaCBmbG93ZXIgc3BlY2llcyAoc3BlY2lmaWVkIGJ5IHRoZSBgU3BlY2llc2AgdmFyaWFibGUpIGhhdmluZyBhIGRpZmZlcmVudCBtYXJrZXIgYW5kIGNvbG9yLiBUbyBkbyB0aGF0LCB1c2UgdGhlIHNrZWxldG9uIGNvZGUgYmVsb3cuIAoKCgoKCgoKCjQuIENyZWF0ZSBmdW5jdGlvbiBjYWxsZWQgYGRldGVjdF9vdXRsaWVyc2AgdGhhdCB3aWxsIHRha2UgYSB2ZWN0b3IgYW5kIGEgcXVhbnRpbGUgdGhyZXNob2xkIGFzIGFuIGFyZ3VtZW50IGFuZCB3aWxsIHJldHVybiB0aGUgaW5kaWNlcyBvZiB0aGUgdmFsdWVzIHRoYXQgY2FuIGJlIGNvbnNpZGVyZWQgb3V0bGllcnMgZ2l2ZW4gdGhpcyB0aHJlc2hvbGQgKGkuZS4gbGllIGFib3ZlIHRoZSBudGggcXVhbnRpbGUgb3IgYmVsb3cgMTAwIC0gbnRoIHF1YW50aWxlKS4KCgoKCjUuIEV4dGVuZCB0aGlzIGZ1bmN0aW9uIHNvIHRoYXQgaXQgcmV0dXJucyByb3dzIG9mIHRoZSBkYXRhIGZyYW1lIHRoYXQgY29udGFpbiBvdXRsaWVycyBpbiAqYW55KiBvZiB0aGUgKG51bWVyaWNhbCkgdmFyaWFibGVzLgoKCgoKNi4gQXBwbHkgdGhlIGZ1bmN0aW9uIGZyb20gdGhlIGFib3ZlIGV4ZXJjaXNlIHRvIHRoZSBgZGV2YCBkYXRhc2V0LiBXaGljaCBjb3VudHJpZXMgY2FuIGJlIGNvbnNpZGVyZWQgb3V0bGllcnM/CgoKCgo3LiBSZWNhbGwgdGhlIGBxdWFydGlsZWAgZnVuY3Rpb24gZnJvbSB0aGUgZXhhbXBsZXMgYWJvdmUuIENhbiB5b3UgZXh0ZW5kIGl0IHNvIHRoYXQ6IAoKYGBge3J9CnF1YXJ0aWxlIDwtIGZ1bmN0aW9uKHgpIHsKICBxdWFudGlsZXMgPC0gcXVhbnRpbGUoeCwgYygwLjI1LCAwLjUsIDAuNzUpLCBuYS5ybSA9IFRSVUUpCiAgY29tcGFyaXNvbnMgPC0gc2FwcGx5KHF1YW50aWxlcywgZnVuY3Rpb24oeSkgeSA8PSB4KQogIHJvd1N1bXMoY29tcGFyaXNvbnMpICsgMQp9CmBgYAoKCi0gaXQgc3BsaXRzIGEgdmFyaWFibGUgaW50byBhbiBhcmJpdGFyeSBudW1iZXIgb2YgcmFuZ2VzIHdpdGggZXF1YWwgcHJvcG9ydGlvbnMgKGZvciBleGFtcGxlIGludG8gW2RlY2lsZXNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlY2lsZSkpLgoKCgoKLSBpdCByZXR1cm5zIGEgc2Vuc2libGUgZGVmYXVsdCB3aGVuIGEgdmFsdWUgb2YgdGhlIHZlY3RvciBpcyBtaXNzaW5nLiBXaGF0IGNvdWxkIHN1Y2ggInNlbnNpYmxlIGRlZmF1bHQiIGJlPyBNYWtlIGl0IHRoZSBkZWZhdWx0IHZhbHVlIHdoZW4gc3BlY2lmeWluZyBmdW5jdGlvbiBhcmd1bWVudHMuCgoKCgotIFRyeSBhcHBseWluZyB5b3VyIG5ldyBmdW5jdGlvbiB0byB0aGUgYGRldmAgZGF0YXNldCBhbmQgc3BsaXR0aW5nIGl0IGludG8gcGFydHMgdXNpbmcgYHNwbGl0YC4gWW91IG1heSB0aGVuIGNvbXBhcmUgdGhlIGRlc2NyaXB0aXZlIHN0YXRpc3RpY3Mgb2YgZWFjaCBwYXJ0IHVzaW5nIHRoZSBgbGFwcGx5YCBmdW5jdGlvbi4KCgoKCipUaGUgc29sdXRpb25zIGZvciB0aGUgZXhlcmNpc2VzIHdpbGwgYmUgYXZhaWxhYmxlIGhlcmUgb24gYHIgY29uZmlnJGtleV9wcm9ncmFtbWluZ19jb25jZXB0c2AuKgoKCgoA&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;05-key_programming_concepts.Rmd&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter markdown</button>
<button class="btn btn-default" onclick="fetch(&#39;data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAxLiBTdXBwb3NlIHdlIHBhc3MgYSBkYXRhIGZyYW1lIHRvIHRoZSBgc3VtbWFyeV9zdGF0c2AgZnVuY3Rpb24uIFdoYXQgd291bGQgdGhlIGZ1bmN0aW9uIHJldHVybj8gV2h5PwojJyAKIycgCiMnIAojJyAKIycgCiMnIDIuIFVzZSB0aGUgYHN1bW1hcnlfc3RhdHNgIGZ1bmN0aW9uIHRvIHN1bW1hcml6ZSBlYWNoIHZhcmlhYmxlIGZyb20gdGhlIGBpcmlzYCBkYXRhc2V0LiBZb3UgY2FuIGxvYWQgaXQgdXNpbmcgYGRhdGEoaXJpcylgLgojJyAKIycgCiMnIAojJyAKIycgCiMnIDMuIFVzZSBhIGZvciBsb29wIHRvIGNyZWF0ZSBhIHNjYXR0ZXIgcGxvdCBvZiBgU2VwYWwuV2lkdGhgIGFuZCBgU2VwYWwubGVuZ3RoYCBhdHRyaWJ1dGVzIGZyb20gdGhlIGBpcmlzYCBkYXRhc2V0IHdpdGggZWFjaCBmbG93ZXIgc3BlY2llcyAoc3BlY2lmaWVkIGJ5IHRoZSBgU3BlY2llc2AgdmFyaWFibGUpIGhhdmluZyBhIGRpZmZlcmVudCBtYXJrZXIgYW5kIGNvbG9yLiBUbyBkbyB0aGF0LCB1c2UgdGhlIHNrZWxldG9uIGNvZGUgYmVsb3cuIAojJyAKIycgCiMnIAojJyAKIycgCiMnIAojJyAKIycgCiMnIDQuIENyZWF0ZSBmdW5jdGlvbiBjYWxsZWQgYGRldGVjdF9vdXRsaWVyc2AgdGhhdCB3aWxsIHRha2UgYSB2ZWN0b3IgYW5kIGEgcXVhbnRpbGUgdGhyZXNob2xkIGFzIGFuIGFyZ3VtZW50IGFuZCB3aWxsIHJldHVybiB0aGUgaW5kaWNlcyBvZiB0aGUgdmFsdWVzIHRoYXQgY2FuIGJlIGNvbnNpZGVyZWQgb3V0bGllcnMgZ2l2ZW4gdGhpcyB0aHJlc2hvbGQgKGkuZS4gbGllIGFib3ZlIHRoZSBudGggcXVhbnRpbGUgb3IgYmVsb3cgMTAwIC0gbnRoIHF1YW50aWxlKS4KIycgCiMnIAojJyAKIycgCiMnIDUuIEV4dGVuZCB0aGlzIGZ1bmN0aW9uIHNvIHRoYXQgaXQgcmV0dXJucyByb3dzIG9mIHRoZSBkYXRhIGZyYW1lIHRoYXQgY29udGFpbiBvdXRsaWVycyBpbiAqYW55KiBvZiB0aGUgKG51bWVyaWNhbCkgdmFyaWFibGVzLgojJyAKIycgCiMnIAojJyAKIycgNi4gQXBwbHkgdGhlIGZ1bmN0aW9uIGZyb20gdGhlIGFib3ZlIGV4ZXJjaXNlIHRvIHRoZSBgZGV2YCBkYXRhc2V0LiBXaGljaCBjb3VudHJpZXMgY2FuIGJlIGNvbnNpZGVyZWQgb3V0bGllcnM/CiMnIAojJyAKIycgCiMnIAojJyA3LiBSZWNhbGwgdGhlIGBxdWFydGlsZWAgZnVuY3Rpb24gZnJvbSB0aGUgZXhhbXBsZXMgYWJvdmUuIENhbiB5b3UgZXh0ZW5kIGl0IHNvIHRoYXQ6IAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KcXVhcnRpbGUgPC0gZnVuY3Rpb24oeCkgewogIHF1YW50aWxlcyA8LSBxdWFudGlsZSh4LCBjKDAuMjUsIDAuNSwgMC43NSksIG5hLnJtID0gVFJVRSkKICBjb21wYXJpc29ucyA8LSBzYXBwbHkocXVhbnRpbGVzLCBmdW5jdGlvbih5KSB5IDw9IHgpCiAgcm93U3Vtcyhjb21wYXJpc29ucykgKyAxCn0KCiMnIAojJyAKIycgLSBpdCBzcGxpdHMgYSB2YXJpYWJsZSBpbnRvIGFuIGFyYml0YXJ5IG51bWJlciBvZiByYW5nZXMgd2l0aCBlcXVhbCBwcm9wb3J0aW9ucyAoZm9yIGV4YW1wbGUgaW50byBbZGVjaWxlc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVjaWxlKSkuCiMnIAojJyAKIycgCiMnIAojJyAtIGl0IHJldHVybnMgYSBzZW5zaWJsZSBkZWZhdWx0IHdoZW4gYSB2YWx1ZSBvZiB0aGUgdmVjdG9yIGlzIG1pc3NpbmcuIFdoYXQgY291bGQgc3VjaCAic2Vuc2libGUgZGVmYXVsdCIgYmU/IE1ha2UgaXQgdGhlIGRlZmF1bHQgdmFsdWUgd2hlbiBzcGVjaWZ5aW5nIGZ1bmN0aW9uIGFyZ3VtZW50cy4KIycgCiMnIAojJyAKIycgCiMnIC0gVHJ5IGFwcGx5aW5nIHlvdXIgbmV3IGZ1bmN0aW9uIHRvIHRoZSBgZGV2YCBkYXRhc2V0IGFuZCBzcGxpdHRpbmcgaXQgaW50byBwYXJ0cyB1c2luZyBgc3BsaXRgLiBZb3UgbWF5IHRoZW4gY29tcGFyZSB0aGUgZGVzY3JpcHRpdmUgc3RhdGlzdGljcyBvZiBlYWNoIHBhcnQgdXNpbmcgdGhlIGBsYXBwbHlgIGZ1bmN0aW9uLgojJyAKIycgCiMnIAojJyAKIycgKlRoZSBzb2x1dGlvbnMgZm9yIHRoZSBleGVyY2lzZXMgd2lsbCBiZSBhdmFpbGFibGUgaGVyZSBvbiBgciBjb25maWcka2V5X3Byb2dyYW1taW5nX2NvbmNlcHRzYC4qCiMnIAojJyAKAA==&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;05-key_programming_concepts-exercises.R&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter exercises</button>
<button class="btn btn-default" onclick="fetch(&#39;data:text/csv;base64,Y291bnRyeSxleXMsZ25pLGxleHAsbXlzCkFmZ2hhbmlzdGFuLDEwLjEsMTc0Niw2NC41LDMuOQpBbGJhbmlhLDE1LjIsMTIzMDAsNzguNSwxMC4xCkFsZ2VyaWEsMTQuNywxMzYzOSw3Ni43LDgKQW5kb3JyYSwxMy4zLDQ4NjQxLDgxLjgsMTAuMgpBbmdvbGEsMTEuOCw1NTU1LDYwLjgsNS4xCkFudGlndWEgYW5kIEJhcmJ1ZGEsMTIuNSwyMjIwMSw3Ni45LDkuMwpBcmdlbnRpbmEsMTcuNiwxNzYxMSw3Ni41LDEwLjYKQXJtZW5pYSwxMy4yLDkyNzcsNzQuOSwxMS44CkF1c3RyYWxpYSwyMi4xLDQ0MDk3LDgzLjMsMTIuNwpBdXN0cmlhLDE2LjMsNDYyMzEsODEuNCwxMi42CkF6ZXJiYWlqYW4sMTIuNCwxNTI0MCw3Mi45LDEwLjUKQmFoYW1hcywxMi44LDI4Mzk1LDczLjgsMTEuNQpCYWhyYWluLDE1LjMsNDAzOTksNzcuMiw5LjQKQmFuZ2xhZGVzaCwxMS4yLDQwNTcsNzIuMyw2LjEKQmFyYmFkb3MsMTUuMiwxNTkxMiw3OS4xLDEwLjYKQmVsYXJ1cywxNS40LDE3MDM5LDc0LjYsMTIuMwpCZWxnaXVtLDE5LjcsNDM4MjEsODEuNSwxMS44CkJlbGl6ZSwxMy4xLDcxMzYsNzQuNSw5LjgKQmVuaW4sMTIuNiwyMTM1LDYxLjUsMy44CkJodXRhbiwxMi4xLDg2MDksNzEuNSwzLjEKQm9saXZpYSAoUGx1cmluYXRpb25hbCBTdGF0ZSBvZiksMTQsNjg0OSw3MS4yLDkKQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSwxMy44LDEyNjkwLDc3LjMsOS43CkJvdHN3YW5hLDEyLjcsMTU5NTEsNjkuMyw5LjMKQnJhemlsLDE1LjQsMTQwNjgsNzUuNyw3LjgKQnJ1bmVpIERhcnVzc2FsYW0sMTQuNCw3NjM4OSw3NS43LDkuMQpCdWxnYXJpYSwxNC44LDE5NjQ2LDc0LjksMTEuOApCdXJraW5hIEZhc28sOC45LDE3MDUsNjEuMiwxLjYKQnVydW5kaSwxMS4zLDY2MCw2MS4yLDMuMQpDYWJvIFZlcmRlLDExLjksNjUxMyw3Mi44LDYuMgpDYW1ib2RpYSwxMS4zLDM1OTcsNjkuNiw0LjgKQ2FtZXJvb24sMTIuNywzMjkxLDU4LjksNi4zCkNhbmFkYSwxNi4xLDQzNjAyLDgyLjMsMTMuMwpDZW50cmFsIEFmcmljYW4gUmVwdWJsaWMsNy42LDc3Nyw1Mi44LDQuMwpDaGFkLDcuNSwxNzE2LDU0LDIuNApDaGlsZSwxNi41LDIxOTcyLDgwLDEwLjQKQ2hpbmEsMTMuOSwxNjEyNyw3Ni43LDcuOQpDb2xvbWJpYSwxNC42LDEyODk2LDc3LjEsOC4zCkNvbW9yb3MsMTEuMiwyNDI2LDY0LjEsNC45CkNvbmdvLDExLjYsNTgwNCw2NC4zLDYuNQpDb25nbyAoRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUpLDkuNyw4MDAsNjAuNCw2LjgKQ29zdGEgUmljYSwxNS40LDE0NzkwLDgwLjEsOC43CkNyb2F0aWEsMTUsMjMwNjEsNzguMywxMS40CkN1YmEsMTQuNCw3ODExLDc4LjcsMTEuOApDeXBydXMsMTQuNywzMzEwMCw4MC44LDEyLjEKQ3plY2hpYSwxNi44LDMxNTk3LDc5LjIsMTIuNwpDw7R0ZSBkJ0l2b2lyZSw5LjYsMzU4OSw1Ny40LDUuMgpEZW5tYXJrLDE5LjEsNDg4MzYsODAuOCwxMi42CkRqaWJvdXRpLDYuNSwzNjAxLDY2LjYsNApEb21pbmljYSwxMyw5MjQ1LDc4LjEsNy44CkRvbWluaWNhbiBSZXB1YmxpYywxNC4xLDE1MDc0LDczLjksNy45CkVjdWFkb3IsMTQuOSwxMDE0MSw3Ni44LDkKRWd5cHQsMTMuMSwxMDc0NCw3MS44LDcuMwpFbCBTYWx2YWRvciwxMiw2OTczLDczLjEsNi45CkVxdWF0b3JpYWwgR3VpbmVhLDkuMiwxNzc5Niw1OC40LDUuNgpFcml0cmVhLDUsMTcwOCw2NS45LDMuOQpFc3RvbmlhLDE2LjEsMzAzNzksNzguNiwxMwpFc3dhdGluaSAoS2luZ2RvbSBvZiksMTEuNCw5MzU5LDU5LjQsNi43CkV0aGlvcGlhLDguNywxNzgyLDY2LjIsMi44CkZpamksMTQuNCw5MTEwLDY3LjMsMTAuOQpGaW5sYW5kLDE5LjMsNDE3NzksODEuNywxMi40CkZyYW5jZSwxNS41LDQwNTExLDgyLjUsMTEuNApHYWJvbiwxMi45LDE1Nzk0LDY2LjIsOC4zCkdhbWJpYSw5LjUsMTQ5MCw2MS43LDMuNwpHZW9yZ2lhLDE1LjQsOTU3MCw3My42LDEyLjgKR2VybWFueSwxNy4xLDQ2OTQ2LDgxLjIsMTQuMQpHaGFuYSwxMS41LDQwOTksNjMuOCw3LjIKR3JlZWNlLDE3LjMsMjQ5MDksODIuMSwxMC41CkdyZW5hZGEsMTYuNiwxMjY4NCw3Mi40LDguOApHdWF0ZW1hbGEsMTAuNiw3Mzc4LDc0LjEsNi41Ckd1aW5lYSw5LDIyMTEsNjEuMiwyLjcKR3VpbmVhLUJpc3NhdSwxMC41LDE1OTMsNTgsMy4zCkd1eWFuYSwxMS41LDc2MTUsNjkuOCw4LjUKSGFpdGksOS41LDE2NjUsNjMuNyw1LjQKSG9uZHVyYXMsMTAuMiw0MjU4LDc1LjEsNi42CiJIb25nIEtvbmcsIENoaW5hIChTQVIpIiwxNi41LDYwMjIxLDg0LjcsMTIKSHVuZ2FyeSwxNS4xLDI3MTQ0LDc2LjcsMTEuOQpJY2VsYW5kLDE5LjIsNDc1NjYsODIuOSwxMi41CkluZGlhLDEyLjMsNjgyOSw2OS40LDYuNQpJbmRvbmVzaWEsMTIuOSwxMTI1Niw3MS41LDgKSXJhbiAoSXNsYW1pYyBSZXB1YmxpYyBvZiksMTQuNywxODE2Niw3Ni41LDEwCklyYXEsMTEuMSwxNTM2NSw3MC41LDcuMwpJcmVsYW5kLDE4LjgsNTU2NjAsODIuMSwxMi41CklzcmFlbCwxNiwzMzY1MCw4Mi44LDEzCkl0YWx5LDE2LjIsMzYxNDEsODMuNCwxMC4yCkphbWFpY2EsMTMuMSw3OTMyLDc0LjQsOS44CkphcGFuLDE1LjIsNDA3OTksODQuNSwxMi44CkpvcmRhbiwxMS45LDgyNjgsNzQuNCwxMC41CkthemFraHN0YW4sMTUuMywyMjE2OCw3My4yLDExLjgKS2VueWEsMTEuMSwzMDUyLDY2LjMsNi42CktpcmliYXRpLDExLjgsMzkxNyw2OC4xLDcuOQpLb3JlYSAoRGVtb2NyYXRpYyBQZW9wbGUncyBSZXAuIG9mKSwxMC44LE5BLDcyLjEsTkEKS29yZWEgKFJlcHVibGljIG9mKSwxNi40LDM2NzU3LDgyLjgsMTIuMgpLdXdhaXQsMTMuOCw3MTE2NCw3NS40LDcuMwpLeXJneXpzdGFuLDEzLjQsMzMxNyw3MS4zLDEwLjkKTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWMsMTEuMSw2MzE3LDY3LjYsNS4yCkxhdHZpYSwxNiwyNjMwMSw3NS4yLDEyLjgKTGViYW5vbiwxMS4zLDExMTM2LDc4LjksOC43Ckxlc290aG8sMTAuNywzMjQ0LDUzLjcsNi4zCkxpYmVyaWEsOS42LDEwNDAsNjMuNyw0LjcKTGlieWEsMTIuOCwxMTY4NSw3Mi43LDcuNgpMaWVjaHRlbnN0ZWluLDE0LjcsOTk3MzIsODAuNSwxMi41CkxpdGh1YW5pYSwxNi41LDI5Nzc1LDc1LjcsMTMKTHV4ZW1ib3VyZywxNC4yLDY1NTQzLDgyLjEsMTIuMgpNYWRhZ2FzY2FyLDEwLjQsMTQwNCw2Ni43LDYuMQpNYWxhd2ksMTEsMTE1OSw2My44LDQuNgpNYWxheXNpYSwxMy41LDI3MjI3LDc2LDEwLjIKTWFsZGl2ZXMsMTIuMSwxMjU0OSw3OC42LDYuOApNYWxpLDcuNiwxOTY1LDU4LjksMi40Ck1hbHRhLDE1LjksMzQ3OTUsODIuNCwxMS4zCk1hcnNoYWxsIElzbGFuZHMsMTIuNCw0NjMzLDczLjksMTAuOQpNYXVyaXRhbmlhLDguNSwzNzQ2LDY0LjcsNC42Ck1hdXJpdGl1cywxNSwyMjcyNCw3NC45LDkuNApNZXhpY28sMTQuMywxNzYyOCw3NSw4LjYKTWljcm9uZXNpYSAoRmVkZXJhdGVkIFN0YXRlcyBvZiksMTEuNSwzNzAwLDY3LjgsNy43Ck1vbGRvdmEgKFJlcHVibGljIG9mKSwxMS42LDY4MzMsNzEuOCwxMS42Ck1vbmdvbGlhLDE0LjIsMTA3ODQsNjkuNywxMC4yCk1vbnRlbmVncm8sMTUsMTc1MTEsNzYuOCwxMS40Ck1vcm9jY28sMTMuMSw3NDgwLDc2LjUsNS41Ck1vemFtYmlxdWUsOS43LDExNTQsNjAuMiwzLjUKTXlhbm1hciwxMC4zLDU3NjQsNjYuOSw1Ck5hbWliaWEsMTIuNiw5NjgzLDYzLjQsNi45Ck5hdXJ1LDExLjMsMTczMTMsTkEsTkEKTmVwYWwsMTIuMiwyNzQ4LDcwLjUsNC45Ck5ldGhlcmxhbmRzLDE4LDUwMDEzLDgyLjEsMTIuMgpOZXcgWmVhbGFuZCwxOC44LDM1MTA4LDgyLjEsMTIuNwpOaWNhcmFndWEsMTIuMiw0NzkwLDc0LjMsNi44Ck5pZ2VyLDYuNSw5MTIsNjIsMgpOaWdlcmlhLDkuNyw1MDg2LDU0LjMsNi41Ck5vcnRoIE1hY2Vkb25pYSwxMy41LDEyODc0LDc1LjcsOS43Ck5vcndheSwxOC4xLDY4MDU5LDgyLjMsMTIuNgpPbWFuLDE0LjcsMzcwMzksNzcuNiw5LjcKUGFraXN0YW4sOC41LDUxOTAsNjcuMSw1LjIKUGFsYXUsMTUuNiwxNjcyMCw3My43LDEyLjQKIlBhbGVzdGluZSwgU3RhdGUgb2YiLDEyLjgsNTMxNCw3My45LDkuMQpQYW5hbWEsMTIuOSwyMDQ1NSw3OC4zLDEwLjIKUGFwdWEgTmV3IEd1aW5lYSwxMCwzNjg2LDY0LjMsNC42ClBhcmFndWF5LDEyLjcsMTE3MjAsNzQuMSw4LjQKUGVydSwxMy44LDEyMzIzLDc2LjUsOS4yClBoaWxpcHBpbmVzLDEyLjcsOTU0MCw3MS4xLDkuNApQb2xhbmQsMTYuNCwyNzYyNiw3OC41LDEyLjMKUG9ydHVnYWwsMTYuMywyNzkzNSw4MS45LDkuMgpRYXRhciwxMi4yLDExMDQ4OSw4MC4xLDkuNwpSb21hbmlhLDE0LjMsMjM5MDYsNzUuOSwxMQpSdXNzaWFuIEZlZGVyYXRpb24sMTUuNSwyNTAzNiw3Mi40LDEyClJ3YW5kYSwxMS4yLDE5NTksNjguNyw0LjQKU2FpbnQgS2l0dHMgYW5kIE5ldmlzLDEzLjYsMjY3NzAsNzQuNiw4LjUKU2FpbnQgTHVjaWEsMTMuOSwxMTUyOCw3Ni4xLDguNQpTYWludCBWaW5jZW50IGFuZCB0aGUgR3JlbmFkaW5lcywxMy42LDExNzQ2LDcyLjQsOC42ClNhbW9hLDEyLjUsNTg4NSw3My4yLDEwLjYKU2FuIE1hcmlubywxNS4xLE5BLE5BLE5BClNhbyBUb21lIGFuZCBQcmluY2lwZSwxMi43LDMwMjQsNzAuMiw2LjQKU2F1ZGkgQXJhYmlhLDE3LDQ5MzM4LDc1LDkuNwpTZW5lZ2FsLDksMzI1Niw2Ny43LDMuMQpTZXJiaWEsMTQuOCwxNTIxOCw3NS44LDExLjIKU2V5Y2hlbGxlcywxNS41LDI1MDc3LDczLjMsOS43ClNpZXJyYSBMZW9uZSwxMC4yLDEzODEsNTQuMywzLjYKU2luZ2Fwb3JlLDE2LjMsODM3OTMsODMuNSwxMS41ClNsb3Zha2lhLDE0LjUsMzA2NzIsNzcuNCwxMi42ClNsb3ZlbmlhLDE3LjQsMzIxNDMsODEuMiwxMi4zClNvbG9tb24gSXNsYW5kcywxMC4yLDIwMjcsNzIuOCw1LjUKU291dGggQWZyaWNhLDEzLjcsMTE3NTYsNjMuOSwxMC4yClNvdXRoIFN1ZGFuLDUsMTQ1NSw1Ny42LDQuOApTcGFpbiwxNy45LDM1MDQxLDgzLjQsOS44ClNyaSBMYW5rYSwxNCwxMTYxMSw3Ni44LDExLjEKU3VkYW4sNy43LDM5NjIsNjUuMSwzLjcKU3VyaW5hbWUsMTIuOSwxMTkzMyw3MS42LDkuMQpTd2VkZW4sMTguOCw0Nzk1NSw4Mi43LDEyLjQKU3dpdHplcmxhbmQsMTYuMiw1OTM3NSw4My42LDEzLjQKU3lyaWFuIEFyYWIgUmVwdWJsaWMsOC44LDI3MjUsNzEuOCw1LjEKVGFqaWtpc3RhbiwxMS40LDM0ODIsNzAuOSwxMC43ClRhbnphbmlhIChVbml0ZWQgUmVwdWJsaWMgb2YpLDgsMjgwNSw2NSw2ClRoYWlsYW5kLDE0LjcsMTYxMjksNzYuOSw3LjcKVGltb3ItTGVzdGUsMTIuNCw3NTI3LDY5LjMsNC41ClRvZ28sMTIuNiwxNTkzLDYwLjgsNQpUb25nYSwxNC4zLDU3ODMsNzAuOCwxMS4yClRyaW5pZGFkIGFuZCBUb2JhZ28sMTMsMjg0OTcsNzMuNCwxMQpUdW5pc2lhLDE1LjEsMTA2NzcsNzYuNSw3LjIKVHVya2V5LDE2LjQsMjQ5MDUsNzcuNCw3LjcKVHVya21lbmlzdGFuLDEwLjksMTY0MDcsNjguMSw5LjgKVHV2YWx1LDEyLjMsNTQwOSxOQSxOQQpVZ2FuZGEsMTEuMiwxNzUyLDYzLDYuMQpVa3JhaW5lLDE1LjEsNzk5NCw3MiwxMS4zClVuaXRlZCBBcmFiIEVtaXJhdGVzLDEzLjYsNjY5MTIsNzcuOCwxMQpVbml0ZWQgS2luZ2RvbSwxNy40LDM5NTA3LDgxLjIsMTMKVW5pdGVkIFN0YXRlcywxNi4zLDU2MTQwLDc4LjksMTMuNApVcnVndWF5LDE2LjMsMTk0MzUsNzcuOCw4LjcKVXpiZWtpc3RhbiwxMiw2NDYyLDcxLjYsMTEuNQpWYW51YXR1LDExLjQsMjgwOCw3MC4zLDYuOApWZW5lenVlbGEgKEJvbGl2YXJpYW4gUmVwdWJsaWMgb2YpLDEyLjgsOTA3MCw3Mi4xLDEwLjMKVmlldCBOYW0sMTIuNyw2MjIwLDc1LjMsOC4yClllbWVuLDguNywxNDMzLDY2LjEsMy4yClphbWJpYSwxMi4xLDM1ODIsNjMuNSw3LjEKWmltYmFid2UsMTAuNSwyNjYxLDYxLjIsOC4zClN1Yi1TYWhhcmFuIEFmcmljYSwxMCwzNDQzLDYxLjIsNS43ClNvbWFsaWEsTkEsTkEsNTcuMSxOQQo=&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;dev2018.csv&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter data</button>
<div id="content-4" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Content<a href="programming.html#content-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To make the data analysis more efficient, it is crucial to understand some of the crucial programming concepts. In the first part of this section we discuss for loops and if statements. These are so-called “control flow statements”, which are common to almost all programming languages. The second part will discuss the creation and basic usage of functions. Finally, the third part will go through the <code>sapply()</code> function family, a common tool used in R to apply functions over objects multiple times.</p>
<div id="control-flow-statements" class="section level3 unnumbered hasAnchor">
<h3>Control flow statements<a href="programming.html#control-flow-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="for-loops" class="section level3 unnumbered hasAnchor">
<h3>For loops<a href="programming.html#for-loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For loops are essentially a way of telling the programming language “perform the operations I ask you to do N times”. A for loop in R beginns with an <code>for()</code> statement, which is followed by an opening curly brace <code>{</code> in the same line - this is esentially <em>opening the for-loop</em>. After this, usually in a new line, you place the code which you want to execute. Then, in the last line you <em>close the for loop</em> by another curly brace <code>}</code>. You can execute the for loop by placing the cursor either on the for statement (first line) or the closing brace (last line) and executing it as any other code. Below, you can see the for loop printing the string <code>"Hello world!"</code> 5 times</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="programming.html#cb217-1" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb217-2"><a href="programming.html#cb217-2" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Hello world&quot;</span>)</span>
<span id="cb217-3"><a href="programming.html#cb217-3" tabindex="-1"></a>}</span>
<span id="cb217-4"><a href="programming.html#cb217-4" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Hello world&quot;</span></span>
<span id="cb217-5"><a href="programming.html#cb217-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Hello world&quot;</span></span>
<span id="cb217-6"><a href="programming.html#cb217-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Hello world&quot;</span></span>
<span id="cb217-7"><a href="programming.html#cb217-7" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Hello world&quot;</span></span>
<span id="cb217-8"><a href="programming.html#cb217-8" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Hello world&quot;</span></span></code></pre></div>
<p>The <code>i</code> in the for statements is the variable that will sequentially take all the values of the object (usually a vector) specified on the right hand side of the <code>in</code> keyword. In majority of the cases, the object is a sequence of integers, as in the example below, where <code>i</code> takes the values of each element of the vector <code>1:5</code> and prints it.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="programming.html#cb218-1" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb218-2"><a href="programming.html#cb218-2" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb218-3"><a href="programming.html#cb218-3" tabindex="-1"></a>}</span>
<span id="cb218-4"><a href="programming.html#cb218-4" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb218-5"><a href="programming.html#cb218-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb218-6"><a href="programming.html#cb218-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb218-7"><a href="programming.html#cb218-7" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span></span>
<span id="cb218-8"><a href="programming.html#cb218-8" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>A for loop could be used to add a constant to each element of a vector:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="programming.html#cb219-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb219-2"><a href="programming.html#cb219-2" tabindex="-1"></a>x</span>
<span id="cb219-3"><a href="programming.html#cb219-3" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span> <span class="dv">5</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">9</span> <span class="dv">8</span> <span class="dv">0</span> <span class="dv">5</span> <span class="dv">3</span></span></code></pre></div>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="programming.html#cb220-1" tabindex="-1"></a><span class="co">#for all integers between 1 and length of vector x:</span></span>
<span id="cb220-2"><a href="programming.html#cb220-2" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) { </span>
<span id="cb220-3"><a href="programming.html#cb220-3" tabindex="-1"></a>  x[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> <span class="dv">5</span></span>
<span id="cb220-4"><a href="programming.html#cb220-4" tabindex="-1"></a>}</span>
<span id="cb220-5"><a href="programming.html#cb220-5" tabindex="-1"></a>x</span>
<span id="cb220-6"><a href="programming.html#cb220-6" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">9</span> <span class="dv">10</span>  <span class="dv">6</span>  <span class="dv">7</span> <span class="dv">14</span> <span class="dv">13</span>  <span class="dv">5</span> <span class="dv">10</span>  <span class="dv">8</span></span></code></pre></div>
<p>However, in R this is redundant, because of <strong>vectorization</strong> (see the <a href="basics.html#vectors">section on vectors</a> from chapter 2). The above statement os equivalent to:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="programming.html#cb221-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb221-2"><a href="programming.html#cb221-2" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">5</span></span>
<span id="cb221-3"><a href="programming.html#cb221-3" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">9</span> <span class="dv">10</span>  <span class="dv">6</span>  <span class="dv">7</span> <span class="dv">14</span> <span class="dv">13</span>  <span class="dv">5</span> <span class="dv">10</span>  <span class="dv">8</span></span></code></pre></div>
<p>This is not only simpler, but also more efficient.</p>
<p>Another, more practical aplication of the for loop could examine all columns of a data frame for missing values, so that:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="programming.html#cb222-1" tabindex="-1"></a>dev <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/un_data/dev2018.csv&quot;</span>,</span>
<span id="cb222-2"><a href="programming.html#cb222-2" tabindex="-1"></a>                <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb222-3"><a href="programming.html#cb222-3" tabindex="-1"></a>missing <span class="ot">&lt;-</span> <span class="fu">numeric</span>() <span class="co">#create empty numeric vector</span></span>
<span id="cb222-4"><a href="programming.html#cb222-4" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dev)){</span>
<span id="cb222-5"><a href="programming.html#cb222-5" tabindex="-1"></a>  missing[i] <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(dev[,i])) <span class="co">#get sum of missing for ith column</span></span>
<span id="cb222-6"><a href="programming.html#cb222-6" tabindex="-1"></a>  <span class="fu">names</span>(missing)[i] <span class="ot">&lt;-</span> <span class="fu">names</span>(dev)[i] <span class="co">#name it with ith column name</span></span>
<span id="cb222-7"><a href="programming.html#cb222-7" tabindex="-1"></a>}</span>
<span id="cb222-8"><a href="programming.html#cb222-8" tabindex="-1"></a>missing</span>
<span id="cb222-9"><a href="programming.html#cb222-9" tabindex="-1"></a>country     eys     gni    lexp     mys </span>
<span id="cb222-10"><a href="programming.html#cb222-10" tabindex="-1"></a>      <span class="dv">0</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">3</span>       <span class="dv">5</span> </span></code></pre></div>
<p>From this, we can see that there are 0 misisng values in the country name, 1 missing value in the expected years of schooling variable and, 3 missing values in gni and life expectancy and 5 missing values in mean years of schooling.</p>
<p>While this is a bit more useful than the previous example, R still offers a shorthand method for such problems, which is discussed in more detail in the <a href="#apply-family">last part of this chapter</a>. In general, due to the phenomena of vectorization, for loops are rarely used in simple data analysis in R. However, they are a core element of programming as such, therefore it’s important to understand them. In fact, vectorization is made possible only because of for loops being used by R in the background - simply their faster and more efficient versions.</p>
</div>
<div id="if-statements" class="section level3 unnumbered hasAnchor">
<h3>If statements<a href="programming.html#if-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If statements are another crucial programming concept. They essentially allow performing computation <em>conditionally</em> on a logical statement. In other words, depending on a <a href="logical-values-and-operators">logical expression</a> an operation is performed or not. If loops in R are constructed in the following way:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="programming.html#cb223-1" tabindex="-1"></a><span class="cf">if</span> (logical_expression) {</span>
<span id="cb223-2"><a href="programming.html#cb223-2" tabindex="-1"></a>  operations</span>
<span id="cb223-3"><a href="programming.html#cb223-3" tabindex="-1"></a>}</span></code></pre></div>
<p>Where <code>logical_expression</code> must an expression that evaluates to a logical value, for example <code>X &gt; 5</code>, <code>country == "France"</code> or <code>is.na(x)</code>. <code>operations</code> are performed if and only if the <code>logical_expression</code> evaluates to <code>TRUE</code>. The simples possible example would be</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="programming.html#cb224-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb224-2"><a href="programming.html#cb224-2" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb224-3"><a href="programming.html#cb224-3" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;the value is greater than 0&quot;</span>)</span>
<span id="cb224-4"><a href="programming.html#cb224-4" tabindex="-1"></a>}</span>
<span id="cb224-5"><a href="programming.html#cb224-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;the value is greater than 0&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="programming.html#cb225-1" tabindex="-1"></a></span>
<span id="cb225-2"><a href="programming.html#cb225-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb225-3"><a href="programming.html#cb225-3" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb225-4"><a href="programming.html#cb225-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;the value is greater than 0&quot;</span>)</span>
<span id="cb225-5"><a href="programming.html#cb225-5" tabindex="-1"></a>}</span></code></pre></div>
<p>If is naturally complemented by the <code>else</code> clause, i.e. the operations that should be performed otherwise. The general form of such statement is:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="programming.html#cb226-1" tabindex="-1"></a><span class="cf">if</span> (logical_expression) {</span>
<span id="cb226-2"><a href="programming.html#cb226-2" tabindex="-1"></a>  operations</span>
<span id="cb226-3"><a href="programming.html#cb226-3" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb226-4"><a href="programming.html#cb226-4" tabindex="-1"></a>  other_operations</span>
<span id="cb226-5"><a href="programming.html#cb226-5" tabindex="-1"></a>}</span></code></pre></div>
<p>In this case, R first checks if the <code>logical_expression</code> evaluates to <code>TRUE</code>, and if it doesn’t, performs the <code>other_operations</code>. For example:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="programming.html#cb227-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb227-2"><a href="programming.html#cb227-2" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb227-3"><a href="programming.html#cb227-3" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;the value is greater than 0&quot;</span>)</span>
<span id="cb227-4"><a href="programming.html#cb227-4" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb227-5"><a href="programming.html#cb227-5" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;the value is less or equal than 0&quot;</span>)</span>
<span id="cb227-6"><a href="programming.html#cb227-6" tabindex="-1"></a>}</span>
<span id="cb227-7"><a href="programming.html#cb227-7" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;the value is less or equal than 0&quot;</span></span></code></pre></div>
<p>Finally, <code>else if</code> allows to provide another statement to be evaluated. The general form of such statement would be:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="programming.html#cb228-1" tabindex="-1"></a><span class="cf">if</span> (logical_statement) { </span>
<span id="cb228-2"><a href="programming.html#cb228-2" tabindex="-1"></a>  operation</span>
<span id="cb228-3"><a href="programming.html#cb228-3" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (other_logical_statement) {</span>
<span id="cb228-4"><a href="programming.html#cb228-4" tabindex="-1"></a>  other_operation</span>
<span id="cb228-5"><a href="programming.html#cb228-5" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb228-6"><a href="programming.html#cb228-6" tabindex="-1"></a>  yet_another_operation</span>
<span id="cb228-7"><a href="programming.html#cb228-7" tabindex="-1"></a>}</span></code></pre></div>
<p>Here, R first checks the <code>logical_statement</code>, if it’s <code>FALSE</code> then it proceeds to check the <code>other_logical_statement</code>. If the second one is <code>TRUE</code> if performs the <code>other_operation</code> and if it’s <code>FALSE</code> it proceeds to perform the <code>yet_another_operation</code>. An extension of the previous example:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="programming.html#cb229-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb229-2"><a href="programming.html#cb229-2" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb229-3"><a href="programming.html#cb229-3" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;The value is positive&quot;</span>)</span>
<span id="cb229-4"><a href="programming.html#cb229-4" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb229-5"><a href="programming.html#cb229-5" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;The value is negative&quot;</span>) </span>
<span id="cb229-6"><a href="programming.html#cb229-6" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb229-7"><a href="programming.html#cb229-7" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;The value is 0&quot;</span>)</span>
<span id="cb229-8"><a href="programming.html#cb229-8" tabindex="-1"></a>}</span>
<span id="cb229-9"><a href="programming.html#cb229-9" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;The value is positive&quot;</span></span></code></pre></div>
<p>IF-ELSE statments can be used to conditionally replace values. For example, suppose that we want to create a variable that is 1 when country is France and 0 otherwise. We could do that by:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="programming.html#cb230-1" tabindex="-1"></a>dev<span class="sc">$</span>france <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb230-2"><a href="programming.html#cb230-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dev)) {</span>
<span id="cb230-3"><a href="programming.html#cb230-3" tabindex="-1"></a>  <span class="cf">if</span> (dev<span class="sc">$</span>country[i] <span class="sc">==</span> <span class="st">&quot;France&quot;</span>) {</span>
<span id="cb230-4"><a href="programming.html#cb230-4" tabindex="-1"></a>    dev<span class="sc">$</span>france[i] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb230-5"><a href="programming.html#cb230-5" tabindex="-1"></a>  }</span>
<span id="cb230-6"><a href="programming.html#cb230-6" tabindex="-1"></a>}</span>
<span id="cb230-7"><a href="programming.html#cb230-7" tabindex="-1"></a></span>
<span id="cb230-8"><a href="programming.html#cb230-8" tabindex="-1"></a>dev<span class="sc">$</span>france[dev<span class="sc">$</span>country <span class="sc">==</span> <span class="st">&quot;France&quot;</span>]</span>
<span id="cb230-9"><a href="programming.html#cb230-9" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>Again, because of vectorization, R offers a shorthand for this, through the <code>ifelse()</code> function:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="programming.html#cb231-1" tabindex="-1"></a>dev<span class="sc">$</span>france <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dev<span class="sc">$</span>country <span class="sc">==</span> <span class="st">&quot;France&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb231-2"><a href="programming.html#cb231-2" tabindex="-1"></a>dev<span class="sc">$</span>france[dev<span class="sc">$</span>country <span class="sc">==</span> <span class="st">&quot;France&quot;</span>]</span>
<span id="cb231-3"><a href="programming.html#cb231-3" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>When you look at the documentation <code>?ifelse</code>, you can see that it takes three arguments - <code>test</code>, <code>yes</code> and <code>no</code>. The <code>test</code> argument is the logical condition - same as <code>logical_statement</code> in the <code>if</code>, with the small subtle difference that it can evaluate to a logical vector rather than one single logical value. The <code>yes</code> argument is the value returned by the function if the <code>test</code> is <code>TRUE</code> and the <code>no</code> argument is returned when <code>test</code> is <code>FALSE</code>. You can fully see this in the example below:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="programming.html#cb232-1" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>)</span>
<span id="cb232-2"><a href="programming.html#cb232-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;yes&quot;</span> <span class="st">&quot;no&quot;</span>  <span class="st">&quot;no&quot;</span>  <span class="st">&quot;yes&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="programming.html#cb233-1" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb233-2"><a href="programming.html#cb233-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span></span></code></pre></div>
</div>
<div id="functions" class="section level3 unnumbered hasAnchor">
<h3>Functions<a href="programming.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R is known as a <em>functional programming language</em> - as you have already seen, almost all of the operations performed are done using functions. It is also possible to create our own, custom functions by combining other functions and data structures. This is done using the <code>function()</code> keyword. The general syntax of a function looks as follows:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="programming.html#cb234-1" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2) {</span>
<span id="cb234-2"><a href="programming.html#cb234-2" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">operations</span>(arg1, arg2)</span>
<span id="cb234-3"><a href="programming.html#cb234-3" tabindex="-1"></a>  output</span>
<span id="cb234-4"><a href="programming.html#cb234-4" tabindex="-1"></a>}</span></code></pre></div>
<p>As with any R object, you can use almost any name instead of <code>function_name</code>. Arguments are separeted by commas (in the above example <code>arg1</code>, <code>arg2</code>) - these are the objects you pass to your function on which you perform some arbitrary <code>operations</code>. Again, the arguments can have arbitrary names, but you need to use them within the function consistently. Finally, most of the functions return a value - this is the last object called within the function (<code>output</code> in the above example).</p>
<p>After creating the function we can run it, exactly the same way as we would with any of R’s built-in functions. A simple example could return the number of missing values in an object:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="programming.html#cb235-1" tabindex="-1"></a>count_na <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb235-2"><a href="programming.html#cb235-2" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb235-3"><a href="programming.html#cb235-3" tabindex="-1"></a>}</span>
<span id="cb235-4"><a href="programming.html#cb235-4" tabindex="-1"></a></span>
<span id="cb235-5"><a href="programming.html#cb235-5" tabindex="-1"></a><span class="fu">count_na</span>(dev<span class="sc">$</span>mys)</span>
<span id="cb235-6"><a href="programming.html#cb235-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>We could also implement our own summary statistics function, similar to <code>describe()</code> discussed in <a href="exploratory.html#exploratory">the previous chapter</a>:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="programming.html#cb236-1" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb236-2"><a href="programming.html#cb236-2" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb236-3"><a href="programming.html#cb236-3" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb236-4"><a href="programming.html#cb236-4" tabindex="-1"></a>                <span class="at">SD =</span> <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb236-5"><a href="programming.html#cb236-5" tabindex="-1"></a>                <span class="at">IQR =</span> <span class="fu">IQR</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb236-6"><a href="programming.html#cb236-6" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.character</span>(x)) {</span>
<span id="cb236-7"><a href="programming.html#cb236-7" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">Length =</span> <span class="fu">length</span>(x), </span>
<span id="cb236-8"><a href="programming.html#cb236-8" tabindex="-1"></a>                  <span class="at">Mean_Nchar =</span> <span class="fu">mean</span>(<span class="fu">nchar</span>(x)))</span>
<span id="cb236-9"><a href="programming.html#cb236-9" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.factor</span>(x)) {</span>
<span id="cb236-10"><a href="programming.html#cb236-10" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">Length =</span> <span class="fu">length</span>(x), </span>
<span id="cb236-11"><a href="programming.html#cb236-11" tabindex="-1"></a>       <span class="at">Nlevels  =</span> <span class="fu">length</span>(<span class="fu">levels</span>(x)))</span>
<span id="cb236-12"><a href="programming.html#cb236-12" tabindex="-1"></a>  }</span>
<span id="cb236-13"><a href="programming.html#cb236-13" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s walk through the above function Given a vector <code>x</code>, the function :
1. Checks whether <code>x</code> is a numeric vector. If so, returns a list of it’s mean, standard deviation and interquartile range.
2. Else, checks if <code>x</code> is a character vector. If so, returns a list containng its length and average number of characters.
3. Else, checks if <code>x</code> is a factor. If so returns a list containing its length and average number of character.</p>
<p>We can see how it works below:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="programming.html#cb237-1" tabindex="-1"></a><span class="fu">summary_stats</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">10</span>))</span>
<span id="cb237-2"><a href="programming.html#cb237-2" tabindex="-1"></a><span class="sc">$</span>Mean</span>
<span id="cb237-3"><a href="programming.html#cb237-3" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span></span>
<span id="cb237-4"><a href="programming.html#cb237-4" tabindex="-1"></a></span>
<span id="cb237-5"><a href="programming.html#cb237-5" tabindex="-1"></a><span class="sc">$</span>SD</span>
<span id="cb237-6"><a href="programming.html#cb237-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">4.082483</span></span>
<span id="cb237-7"><a href="programming.html#cb237-7" tabindex="-1"></a></span>
<span id="cb237-8"><a href="programming.html#cb237-8" tabindex="-1"></a><span class="sc">$</span>IQR</span>
<span id="cb237-9"><a href="programming.html#cb237-9" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span></code></pre></div>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="programming.html#cb238-1" tabindex="-1"></a><span class="fu">summary_stats</span>(dev<span class="sc">$</span>country)</span>
<span id="cb238-2"><a href="programming.html#cb238-2" tabindex="-1"></a><span class="sc">$</span>Length</span>
<span id="cb238-3"><a href="programming.html#cb238-3" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">195</span></span>
<span id="cb238-4"><a href="programming.html#cb238-4" tabindex="-1"></a></span>
<span id="cb238-5"><a href="programming.html#cb238-5" tabindex="-1"></a><span class="sc">$</span>Mean_Nchar</span>
<span id="cb238-6"><a href="programming.html#cb238-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">9.902564</span></span></code></pre></div>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="programming.html#cb239-1" tabindex="-1"></a><span class="fu">summary_stats</span>(<span class="fu">as.factor</span>(dev<span class="sc">$</span>country))</span>
<span id="cb239-2"><a href="programming.html#cb239-2" tabindex="-1"></a><span class="sc">$</span>Length</span>
<span id="cb239-3"><a href="programming.html#cb239-3" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">195</span></span>
<span id="cb239-4"><a href="programming.html#cb239-4" tabindex="-1"></a></span>
<span id="cb239-5"><a href="programming.html#cb239-5" tabindex="-1"></a><span class="sc">$</span>Nlevels</span>
<span id="cb239-6"><a href="programming.html#cb239-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">195</span></span></code></pre></div>
<div id="keyword-arguments" class="section level4 unnumbered hasAnchor">
<h4>Keyword arguments<a href="programming.html#keyword-arguments" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Many of the functions used in R come with so-called <em>default</em> arguments - this was already mentioned in <a href="basics.html#sorting">sorting</a>. When defining our own functions, we can make use of that functionality as well. For example, the <code>count_na</code> example can be modified in the following way:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="programming.html#cb240-1" tabindex="-1"></a>count_na <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">proportion =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb240-2"><a href="programming.html#cb240-2" tabindex="-1"></a>  num_na <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb240-3"><a href="programming.html#cb240-3" tabindex="-1"></a>  <span class="cf">if</span> (proportion <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb240-4"><a href="programming.html#cb240-4" tabindex="-1"></a>    num_na<span class="sc">/</span><span class="fu">length</span>(x)</span>
<span id="cb240-5"><a href="programming.html#cb240-5" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb240-6"><a href="programming.html#cb240-6" tabindex="-1"></a>    num_na</span>
<span id="cb240-7"><a href="programming.html#cb240-7" tabindex="-1"></a>  }</span>
<span id="cb240-8"><a href="programming.html#cb240-8" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>proportion</code> argument controls whether the function returns the number of NAs as value or as proportion of the entire vector:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="programming.html#cb241-1" tabindex="-1"></a><span class="fu">count_na</span>(dev<span class="sc">$</span>gni)</span>
<span id="cb241-2"><a href="programming.html#cb241-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.01538462</span></span></code></pre></div>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="programming.html#cb242-1" tabindex="-1"></a><span class="fu">count_na</span>(dev<span class="sc">$</span>gni, <span class="at">proportion =</span> <span class="cn">TRUE</span>) <span class="co">#same as above</span></span>
<span id="cb242-2"><a href="programming.html#cb242-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.01538462</span></span></code></pre></div>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="programming.html#cb243-1" tabindex="-1"></a><span class="fu">count_na</span>(dev<span class="sc">$</span>gni, <span class="at">proportion =</span> <span class="cn">FALSE</span>)</span>
<span id="cb243-2"><a href="programming.html#cb243-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span></code></pre></div>
<p>There are couple of reasons why functions are frequently applied when analyzing data:
1. <em>To avoid repetition</em> - often, you need to perform the same operation repeatedly - sometimes on a dataframe with tens or hunderds of columns or even multiple data frames. To avoid re-writing the same code over and over again (which always increases the chance of an error occuring).
2. <em>To enhance clarity</em> - when you perform a long and complicated series of operations on a dataset, it’s often much easier to break it down into functions. Then when you need to come back to your code after a long time, it is often much easier to see <code>recode_missing_values(data)</code> appear in your code, with the <code>record_missing_values</code> function defined somewhere else, as you don’t need to go through your code step by step, but only understand what particular functions return.
3 <em>To improve performance</em> - while most of the operations we’ve seen in R take fractions of seconds, larger data can often lead to longer computation times. Functions can be combined with other tools to make computation more elegant and quicker - some of these methods are discussed in the next section.</p>
</div>
</div>
<div id="sapply" class="section level3 unnumbered hasAnchor">
<h3>Sapply<a href="programming.html#sapply" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Recall the code we used to check each column of our data frame for missingness in the <a href="for-loops">for loops section</a>:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="programming.html#cb244-1" tabindex="-1"></a>missing <span class="ot">&lt;-</span> <span class="fu">numeric</span>() <span class="co">#create empty numeric vector</span></span>
<span id="cb244-2"><a href="programming.html#cb244-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dev)){</span>
<span id="cb244-3"><a href="programming.html#cb244-3" tabindex="-1"></a>  missing[i] <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(dev[,i])) <span class="co">#get sum of missing for ith column</span></span>
<span id="cb244-4"><a href="programming.html#cb244-4" tabindex="-1"></a>  <span class="fu">names</span>(missing)[i] <span class="ot">&lt;-</span> <span class="fu">names</span>(dev)[i] <span class="co">#name it with ith column name</span></span>
<span id="cb244-5"><a href="programming.html#cb244-5" tabindex="-1"></a>}</span></code></pre></div>
<p>We could re-write it using our new knowledge of functions, such that:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="programming.html#cb245-1" tabindex="-1"></a>count_na <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb245-2"><a href="programming.html#cb245-2" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb245-3"><a href="programming.html#cb245-3" tabindex="-1"></a>}</span>
<span id="cb245-4"><a href="programming.html#cb245-4" tabindex="-1"></a></span>
<span id="cb245-5"><a href="programming.html#cb245-5" tabindex="-1"></a>missing <span class="ot">&lt;-</span> <span class="fu">numeric</span>()</span>
<span id="cb245-6"><a href="programming.html#cb245-6" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(dev)) {</span>
<span id="cb245-7"><a href="programming.html#cb245-7" tabindex="-1"></a>  missing[i] <span class="ot">&lt;-</span> <span class="fu">count_na</span>(dev[,i])</span>
<span id="cb245-8"><a href="programming.html#cb245-8" tabindex="-1"></a>  <span class="fu">names</span>(missing)[i] <span class="ot">&lt;-</span> <span class="fu">names</span>(dev)[i]</span>
<span id="cb245-9"><a href="programming.html#cb245-9" tabindex="-1"></a>}</span>
<span id="cb245-10"><a href="programming.html#cb245-10" tabindex="-1"></a>missing</span>
<span id="cb245-11"><a href="programming.html#cb245-11" tabindex="-1"></a>country     eys     gni    lexp     mys  france </span>
<span id="cb245-12"><a href="programming.html#cb245-12" tabindex="-1"></a>      <span class="dv">0</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">3</span>       <span class="dv">5</span>       <span class="dv">0</span> </span></code></pre></div>
<p>While this may look a bit more fancy, in fact more code was used to perform this operation and it doesn’t differ too much in terms of clarity. The exact same result can be achieved using the <code>sapply()</code> function. <code>sapply()</code> takes two arguments - an R object, such as a vector and a data frame and a function. Then, it applies the function to each element of this object (i.e. value in case of vectors, column/variable in case of data frames).</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="programming.html#cb246-1" tabindex="-1"></a><span class="fu">sapply</span>(dev, count_na)</span>
<span id="cb246-2"><a href="programming.html#cb246-2" tabindex="-1"></a>country     eys     gni    lexp     mys  france </span>
<span id="cb246-3"><a href="programming.html#cb246-3" tabindex="-1"></a>      <span class="dv">0</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">3</span>       <span class="dv">5</span>       <span class="dv">0</span> </span></code></pre></div>
<p>The result is exactly the same as in the previous case. <code>sapply()</code> used the <code>count_na</code> function on each columns of the <code>dev</code> dataset.</p>
<p>When using short, simple functions, <code>sapply()</code> can be even more concise, as we can defined our function without giving it a name. In the example below, instead of defining <code>count_na</code> separately, we define it directly within the <code>sapply()</code> call (i.e. inside the parentheses). This yields the same result.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="programming.html#cb247-1" tabindex="-1"></a><span class="fu">sapply</span>(dev, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span>
<span id="cb247-2"><a href="programming.html#cb247-2" tabindex="-1"></a>country     eys     gni    lexp     mys  france </span>
<span id="cb247-3"><a href="programming.html#cb247-3" tabindex="-1"></a>      <span class="dv">0</span>       <span class="dv">1</span>       <span class="dv">3</span>       <span class="dv">3</span>       <span class="dv">5</span>       <span class="dv">0</span> </span></code></pre></div>
<p>Consider the function below. What do you expect it to return? Try going through each element of the code separately. You can check how the <code>rowSums</code> command works by typing <code>?rowSums</code> into the R console.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="programming.html#cb248-1" tabindex="-1"></a>quartile <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb248-2"><a href="programming.html#cb248-2" tabindex="-1"></a>  quantiles <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb248-3"><a href="programming.html#cb248-3" tabindex="-1"></a>  comparisons <span class="ot">&lt;-</span> <span class="fu">sapply</span>(quantiles, <span class="cf">function</span>(y) y <span class="sc">&lt;=</span> x)</span>
<span id="cb248-4"><a href="programming.html#cb248-4" tabindex="-1"></a>  <span class="fu">rowSums</span>(comparisons) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb248-5"><a href="programming.html#cb248-5" tabindex="-1"></a>}</span></code></pre></div>
<p>The function takes a vector as input and computes three quantiles of its values - 25%, 50%, 75%. You may recall from the <a href="exploratory.html#exploratory">previous chapter</a> that quantiles are cut points that divide a variable into ranges of equal proportions in the data set. The resulting <code>quantiles</code> vector consists of three values, corresponding with thre three quantiles. We then use <code>sapply</code> on these three values to compare each of them with the value of the <code>x</code> vector. As a result, we obtain a 3 x n array, where n is length of <code>x</code>. For each of the values of <code>x</code> we get three logical values. Each of them is <code>TRUE</code> when the corresponding value of x was larger than the quantile and <code>FALSE</code> if the corresponding value of x was lower than the quantile. We can then sum the results by row, using <code>rowSums</code>. Our final result is a vector with values of 0, 1 and 2. Its value is 0 if the corresponding value of x was less than all quartiles, 1 if it was greater or equal than the .25, 2 if it was greater or equal than 0.5 and 3 if it was greater or equal than all of them. We then finally add 1 to each, so that they correspond to true quartile numbers (1st quartile, rather than 0th quartile, etc).</p>
<p>We can then use the <code>split</code> function, which takes a data frame and a vector as input and splits the data frame into several parts, each with the same value of the splitting variable. As a result, we obtain <code>dev_split</code> dataset, which stores 4 data frames, each only with countries in the respective quantile of expected years of schooling.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="programming.html#cb249-1" tabindex="-1"></a>dev_split <span class="ot">&lt;-</span> <span class="fu">split</span>(dev, <span class="fu">quartile</span>(dev<span class="sc">$</span>eys))</span>
<span id="cb249-2"><a href="programming.html#cb249-2" tabindex="-1"></a><span class="fu">head</span>(dev_split[[<span class="dv">1</span>]])</span>
<span id="cb249-3"><a href="programming.html#cb249-3" tabindex="-1"></a>                    country  eys  gni lexp mys france</span>
<span id="cb249-4"><a href="programming.html#cb249-4" tabindex="-1"></a><span class="dv">1</span>               Afghanistan <span class="fl">10.1</span> <span class="dv">1746</span> <span class="fl">64.5</span> <span class="fl">3.9</span>      <span class="dv">0</span></span>
<span id="cb249-5"><a href="programming.html#cb249-5" tabindex="-1"></a><span class="dv">14</span>               Bangladesh <span class="fl">11.2</span> <span class="dv">4057</span> <span class="fl">72.3</span> <span class="fl">6.1</span>      <span class="dv">0</span></span>
<span id="cb249-6"><a href="programming.html#cb249-6" tabindex="-1"></a><span class="dv">27</span>             Burkina Faso  <span class="fl">8.9</span> <span class="dv">1705</span> <span class="fl">61.2</span> <span class="fl">1.6</span>      <span class="dv">0</span></span>
<span id="cb249-7"><a href="programming.html#cb249-7" tabindex="-1"></a><span class="dv">33</span> Central African Republic  <span class="fl">7.6</span>  <span class="dv">777</span> <span class="fl">52.8</span> <span class="fl">4.3</span>      <span class="dv">0</span></span>
<span id="cb249-8"><a href="programming.html#cb249-8" tabindex="-1"></a><span class="dv">34</span>                     Chad  <span class="fl">7.5</span> <span class="dv">1716</span> <span class="fl">54.0</span> <span class="fl">2.4</span>      <span class="dv">0</span></span>
<span id="cb249-9"><a href="programming.html#cb249-9" tabindex="-1"></a><span class="dv">38</span>                  Comoros <span class="fl">11.2</span> <span class="dv">2426</span> <span class="fl">64.1</span> <span class="fl">4.9</span>      <span class="dv">0</span></span></code></pre></div>
<p>You can then look at descriptive statistics of each of the quartiles using:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="programming.html#cb250-1" tabindex="-1"></a><span class="fu">sapply</span>(dev_split, summary)</span>
<span id="cb250-2"><a href="programming.html#cb250-2" tabindex="-1"></a><span class="sc">$</span><span class="st">`</span><span class="at">1</span><span class="st">`</span></span>
<span id="cb250-3"><a href="programming.html#cb250-3" tabindex="-1"></a>   country               eys              gni             lexp            mys            france </span>
<span id="cb250-4"><a href="programming.html#cb250-4" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">47</span>          Min.   <span class="sc">:</span> <span class="fl">5.000</span>   Min.   <span class="sc">:</span>  <span class="dv">777</span>   Min.   <span class="sc">:</span><span class="fl">52.80</span>   Min.   <span class="sc">:</span><span class="fl">1.600</span>   Min.   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-5"><a href="programming.html#cb250-5" tabindex="-1"></a> Class <span class="sc">:</span>character   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">8.700</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="dv">1611</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">60.80</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">3.700</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-6"><a href="programming.html#cb250-6" tabindex="-1"></a> Mode  <span class="sc">:</span>character   Median <span class="sc">:</span> <span class="fl">9.700</span>   Median <span class="sc">:</span> <span class="dv">2318</span>   Median <span class="sc">:</span><span class="fl">64.30</span>   Median <span class="sc">:</span><span class="fl">4.850</span>   Median <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-7"><a href="programming.html#cb250-7" tabindex="-1"></a>                    Mean   <span class="sc">:</span> <span class="fl">9.415</span>   Mean   <span class="sc">:</span> <span class="dv">3579</span>   Mean   <span class="sc">:</span><span class="fl">63.89</span>   Mean   <span class="sc">:</span><span class="fl">4.861</span>   Mean   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-8"><a href="programming.html#cb250-8" tabindex="-1"></a>                    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">10.550</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span> <span class="dv">3731</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">67.00</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">6.075</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-9"><a href="programming.html#cb250-9" tabindex="-1"></a>                    Max.   <span class="sc">:</span><span class="fl">11.200</span>   Max.   <span class="sc">:</span><span class="dv">17796</span>   Max.   <span class="sc">:</span><span class="fl">75.10</span>   Max.   <span class="sc">:</span><span class="fl">9.800</span>   Max.   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-10"><a href="programming.html#cb250-10" tabindex="-1"></a>                                     NA<span class="st">&#39;s   :1                       NA&#39;</span>s   <span class="sc">:</span><span class="dv">1</span>                  </span>
<span id="cb250-11"><a href="programming.html#cb250-11" tabindex="-1"></a></span>
<span id="cb250-12"><a href="programming.html#cb250-12" tabindex="-1"></a><span class="sc">$</span><span class="st">`</span><span class="at">2</span><span class="st">`</span></span>
<span id="cb250-13"><a href="programming.html#cb250-13" tabindex="-1"></a>   country               eys             gni              lexp            mys             france </span>
<span id="cb250-14"><a href="programming.html#cb250-14" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">50</span>          Min.   <span class="sc">:</span><span class="fl">11.30</span>   Min.   <span class="sc">:</span>   <span class="dv">660</span>   Min.   <span class="sc">:</span><span class="fl">58.90</span>   Min.   <span class="sc">:</span> <span class="fl">3.100</span>   Min.   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-15"><a href="programming.html#cb250-15" tabindex="-1"></a> Class <span class="sc">:</span>character   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">11.80</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span>  <span class="dv">4232</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">68.03</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">6.500</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-16"><a href="programming.html#cb250-16" tabindex="-1"></a> Mode  <span class="sc">:</span>character   Median <span class="sc">:</span><span class="fl">12.30</span>   Median <span class="sc">:</span>  <span class="dv">6903</span>   Median <span class="sc">:</span><span class="fl">71.50</span>   Median <span class="sc">:</span> <span class="fl">7.850</span>   Median <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-17"><a href="programming.html#cb250-17" tabindex="-1"></a>                    Mean   <span class="sc">:</span><span class="fl">12.22</span>   Mean   <span class="sc">:</span> <span class="dv">10788</span>   Mean   <span class="sc">:</span><span class="fl">70.39</span>   Mean   <span class="sc">:</span> <span class="fl">7.869</span>   Mean   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-18"><a href="programming.html#cb250-18" tabindex="-1"></a>                    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">12.70</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span> <span class="dv">11578</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">73.83</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span> <span class="fl">9.475</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-19"><a href="programming.html#cb250-19" tabindex="-1"></a>                    Max.   <span class="sc">:</span><span class="fl">13.00</span>   Max.   <span class="sc">:</span><span class="dv">110489</span>   Max.   <span class="sc">:</span><span class="fl">80.10</span>   Max.   <span class="sc">:</span><span class="fl">11.600</span>   Max.   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-20"><a href="programming.html#cb250-20" tabindex="-1"></a>                                                     NA<span class="st">&#39;s   :2       NA&#39;</span>s   <span class="sc">:</span><span class="dv">2</span>                   </span>
<span id="cb250-21"><a href="programming.html#cb250-21" tabindex="-1"></a></span>
<span id="cb250-22"><a href="programming.html#cb250-22" tabindex="-1"></a><span class="sc">$</span><span class="st">`</span><span class="at">3</span><span class="st">`</span></span>
<span id="cb250-23"><a href="programming.html#cb250-23" tabindex="-1"></a>   country               eys             gni             lexp            mys             france </span>
<span id="cb250-24"><a href="programming.html#cb250-24" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">47</span>          Min.   <span class="sc">:</span><span class="fl">13.10</span>   Min.   <span class="sc">:</span> <span class="dv">3317</span>   Min.   <span class="sc">:</span><span class="fl">63.90</span>   Min.   <span class="sc">:</span> <span class="fl">5.500</span>   Min.   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-25"><a href="programming.html#cb250-25" tabindex="-1"></a> Class <span class="sc">:</span>character   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">13.65</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="dv">10694</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">74.53</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">8.600</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-26"><a href="programming.html#cb250-26" tabindex="-1"></a> Mode  <span class="sc">:</span>character   Median <span class="sc">:</span><span class="fl">14.30</span>   Median <span class="sc">:</span><span class="dv">14356</span>   Median <span class="sc">:</span><span class="fl">76.05</span>   Median <span class="sc">:</span> <span class="fl">9.900</span>   Median <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-27"><a href="programming.html#cb250-27" tabindex="-1"></a>                    Mean   <span class="sc">:</span><span class="fl">14.19</span>   Mean   <span class="sc">:</span><span class="dv">22644</span>   Mean   <span class="sc">:</span><span class="fl">75.45</span>   Mean   <span class="sc">:</span> <span class="fl">9.883</span>   Mean   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-28"><a href="programming.html#cb250-28" tabindex="-1"></a>                    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">14.70</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="dv">26054</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">76.88</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">11.200</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-29"><a href="programming.html#cb250-29" tabindex="-1"></a>                    Max.   <span class="sc">:</span><span class="fl">15.10</span>   Max.   <span class="sc">:</span><span class="dv">99732</span>   Max.   <span class="sc">:</span><span class="fl">82.10</span>   Max.   <span class="sc">:</span><span class="fl">12.600</span>   Max.   <span class="sc">:</span><span class="dv">0</span>  </span>
<span id="cb250-30"><a href="programming.html#cb250-30" tabindex="-1"></a>                                    NA<span class="st">&#39;s   :1       NA&#39;</span>s   <span class="sc">:</span><span class="dv">1</span>       NA<span class="st">&#39;s   :1                   </span></span>
<span id="cb250-31"><a href="programming.html#cb250-31" tabindex="-1"></a></span>
<span id="cb250-32"><a href="programming.html#cb250-32" tabindex="-1"></a><span class="st">$`4`</span></span>
<span id="cb250-33"><a href="programming.html#cb250-33" tabindex="-1"></a><span class="st">   country               eys             gni             lexp            mys       </span></span>
<span id="cb250-34"><a href="programming.html#cb250-34" tabindex="-1"></a><span class="st"> Length:50          Min.   :15.20   Min.   : 9570   Min.   :72.40   Min.   : 7.70  </span></span>
<span id="cb250-35"><a href="programming.html#cb250-35" tabindex="-1"></a><span class="st"> Class :character   1st Qu.:15.68   1st Qu.:24906   1st Qu.:77.25   1st Qu.:10.43  </span></span>
<span id="cb250-36"><a href="programming.html#cb250-36" tabindex="-1"></a><span class="st"> Mode  :character   Median :16.35   Median :34918   Median :81.20   Median :12.25  </span></span>
<span id="cb250-37"><a href="programming.html#cb250-37" tabindex="-1"></a><span class="st">                    Mean   :16.79   Mean   :35322   Mean   :79.66   Mean   :11.55  </span></span>
<span id="cb250-38"><a href="programming.html#cb250-38" tabindex="-1"></a><span class="st">                    3rd Qu.:17.40   3rd Qu.:45698   3rd Qu.:82.38   3rd Qu.:12.70  </span></span>
<span id="cb250-39"><a href="programming.html#cb250-39" tabindex="-1"></a><span class="st">                    Max.   :22.10   Max.   :83793   Max.   :84.70   Max.   :14.10  </span></span>
<span id="cb250-40"><a href="programming.html#cb250-40" tabindex="-1"></a><span class="st">     france    </span></span>
<span id="cb250-41"><a href="programming.html#cb250-41" tabindex="-1"></a><span class="st"> Min.   :0.00  </span></span>
<span id="cb250-42"><a href="programming.html#cb250-42" tabindex="-1"></a><span class="st"> 1st Qu.:0.00  </span></span>
<span id="cb250-43"><a href="programming.html#cb250-43" tabindex="-1"></a><span class="st"> Median :0.00  </span></span>
<span id="cb250-44"><a href="programming.html#cb250-44" tabindex="-1"></a><span class="st"> Mean   :0.02  </span></span>
<span id="cb250-45"><a href="programming.html#cb250-45" tabindex="-1"></a><span class="st"> 3rd Qu.:0.00  </span></span>
<span id="cb250-46"><a href="programming.html#cb250-46" tabindex="-1"></a><span class="st"> Max.   :1.00  </span></span></code></pre></div>
<p>While working an R and looking for help online, you may stumble upon other variants of the <code>sapply()</code> functions. Essentially, all R functions with <code>apply</code> in their name serve the same purpose - applying a function to each element of an object. <code>lapply()</code> is a less user friendy version of <code>sapply()</code>, which always returns a list, not a vector. <code>vapply()</code> forces the user to determine the type of the output, which makes its behaviour more predictible and slightly faster. <code>tapply()</code> applies the function to data frame by group determined by another variable - a similar procedure to what we did using <code>split()</code> and <code>sapply()</code>, but in less steps.</p>
</div>
</div>
<div id="summary-3" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Summary<a href="programming.html#summary-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>-<em>For loops</em> allow to perform the same operation multiple times over a range of values of one variable. They are constructed using <code>for(i in vector)</code>. Their use in R is relatively rare due to vectorization.</p>
<p>-<em>If statements</em> control whether na operation is performed depending on the value of a logical condition. To conditionally modify values of vectors, use <code>ifelse(test, yes, no)</code></p>
<p>-<em>Functions</em> can be created by user to combine multiple operations into shorter pieces of code, which allows to avoid repetition. They take one or many arguments and return one value.</p>
<p>-<code>sapply()</code> is a function used for applying a function to each element of a vector or each column of a data frame. You may find other versions of it, with <em>apply</em> in their name, which perform the same task, but with slight alteration.</p>
<div id="functions-list-3" class="section level3 unnumbered hasAnchor">
<h3>Functions list<a href="programming.html#functions-list-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="11%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">function</th>
<th align="left">package</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">count_na()</td>
<td align="left">.GlobalEnv</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">quartile()</td>
<td align="left">.GlobalEnv</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">summary_stats()</td>
<td align="left">.GlobalEnv</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">names()</td>
<td align="left">c(“.GlobalEnv”, “base”)</td>
<td align="left">retrieve names of a list/vector</td>
</tr>
<tr class="odd">
<td align="left">as.factor()</td>
<td align="left">base</td>
<td align="left">coerce a vector to factor</td>
</tr>
<tr class="even">
<td align="left">c()</td>
<td align="left">base</td>
<td align="left">Combine values/vectors into a vector</td>
</tr>
<tr class="odd">
<td align="left">ifelse()</td>
<td align="left">base</td>
<td align="left">return a or b depending on the value of test</td>
</tr>
<tr class="even">
<td align="left">is.character()</td>
<td align="left">base</td>
<td align="left">check if vector is character</td>
</tr>
<tr class="odd">
<td align="left">is.factor()</td>
<td align="left">base</td>
<td align="left">check if a vector is of class ‘factor’</td>
</tr>
<tr class="even">
<td align="left">is.na()</td>
<td align="left">base</td>
<td align="left">check if a value is NA/elements of vector are NA</td>
</tr>
<tr class="odd">
<td align="left">is.numeric()</td>
<td align="left">base</td>
<td align="left">check if vector is numeric</td>
</tr>
<tr class="even">
<td align="left">length()</td>
<td align="left">base</td>
<td align="left">get number of elements in a vector or list</td>
</tr>
<tr class="odd">
<td align="left">levels()</td>
<td align="left">base</td>
<td align="left">get levels of a factor</td>
</tr>
<tr class="even">
<td align="left">list()</td>
<td align="left">base</td>
<td align="left">create a list</td>
</tr>
<tr class="odd">
<td align="left">mean()</td>
<td align="left">base</td>
<td align="left">get mean of a vector</td>
</tr>
<tr class="even">
<td align="left">nchar()</td>
<td align="left">base</td>
<td align="left">get number of characters in a string</td>
</tr>
<tr class="odd">
<td align="left">nrow()</td>
<td align="left">base</td>
<td align="left">get number of rows of a data frame</td>
</tr>
<tr class="even">
<td align="left">numeric()</td>
<td align="left">base</td>
<td align="left">initialize a numeric vector</td>
</tr>
<tr class="odd">
<td align="left">print()</td>
<td align="left">base</td>
<td align="left">print object to the console</td>
</tr>
<tr class="even">
<td align="left">rowSums()</td>
<td align="left">base</td>
<td align="left">get sums of a data frame by rows</td>
</tr>
<tr class="odd">
<td align="left">sapply()</td>
<td align="left">base</td>
<td align="left">apply function to each element of a list</td>
</tr>
<tr class="even">
<td align="left">split()</td>
<td align="left">base</td>
<td align="left">split list based on a function/vector</td>
</tr>
<tr class="odd">
<td align="left">sum()</td>
<td align="left">base</td>
<td align="left">get sum of numeric values or a vector</td>
</tr>
<tr class="even">
<td align="left">IQR()</td>
<td align="left">stats</td>
<td align="left">obtain the inter-quartile range of a vector</td>
</tr>
<tr class="odd">
<td align="left">quantile()</td>
<td align="left">stats</td>
<td align="left">obtain empirical quantiles of a vector</td>
</tr>
<tr class="even">
<td align="left">sd()</td>
<td align="left">stats</td>
<td align="left">Get standard deviation of a vector</td>
</tr>
<tr class="odd">
<td align="left">head()</td>
<td align="left">utils</td>
<td align="left">show first 5 rows of a data frame</td>
</tr>
<tr class="even">
<td align="left">head()</td>
<td align="left">utils</td>
<td align="left">print first n (default 5) rows of the data</td>
</tr>
<tr class="odd">
<td align="left">read.csv()</td>
<td align="left">utils</td>
<td align="left">read a csv file to data frame. Specify stringsAsFactors = FALSE to keep all string columns as characters</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="exercises-3" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Exercises<a href="programming.html#exercises-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Suppose we pass a data frame to the <code>summary_stats</code> function. What would the function return? Why?</p></li>
<li><p>Use the <code>summary_stats</code> function to summarize each variable from the <code>iris</code> dataset. You can load it using <code>data(iris)</code>.</p></li>
<li><p>Use a for loop to create a scatter plot of <code>Sepal.Width</code> and <code>Sepal.length</code> attributes from the <code>iris</code> dataset with each flower species (specified by the <code>Species</code> variable) having a different marker and color. To do that, use the skeleton code below.</p></li>
</ol>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="programming.html#cb251-1" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb251-2"><a href="programming.html#cb251-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="sc">-</span><span class="dv">99</span>, <span class="sc">-</span><span class="dv">99</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">min</span>(iris<span class="sc">$</span>Sepal.Width), <span class="fu">max</span>(iris<span class="sc">$</span>Sepal.Width)),</span>
<span id="cb251-3"><a href="programming.html#cb251-3" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fu">min</span>(iris<span class="sc">$</span>Sepal.Length), <span class="fu">max</span>(iris<span class="sc">$</span>Petal.Length)))</span>
<span id="cb251-4"><a href="programming.html#cb251-4" tabindex="-1"></a><span class="cf">for</span> (...) {</span>
<span id="cb251-5"><a href="programming.html#cb251-5" tabindex="-1"></a>  <span class="fu">points</span>(<span class="at">x =</span> , <span class="at">y =</span> , <span class="at">col =</span> , <span class="at">pch =</span> )</span>
<span id="cb251-6"><a href="programming.html#cb251-6" tabindex="-1"></a>}</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li><p>Create function called <code>detect_outliers</code> that will take a vector and a quantile threshold as an argument and will return the indices of the values that can be considered outliers given this threshold (i.e. lie above the nth quantile or below 100 - nth quantile).</p></li>
<li><p>Extend this function so that it returns rows of the data frame that contain outliers in <em>any</em> of the (numerical) variables.</p></li>
<li><p>Apply the function from the above exercise to the <code>dev</code> dataset. Which countries can be considered outliers?</p></li>
<li><p>Recall the <code>quartile</code> function from the examples above. Can you extend it so that:</p></li>
</ol>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="programming.html#cb252-1" tabindex="-1"></a>quartile <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb252-2"><a href="programming.html#cb252-2" tabindex="-1"></a>  quantiles <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x, <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb252-3"><a href="programming.html#cb252-3" tabindex="-1"></a>  comparisons <span class="ot">&lt;-</span> <span class="fu">sapply</span>(quantiles, <span class="cf">function</span>(y) y <span class="sc">&lt;=</span> x)</span>
<span id="cb252-4"><a href="programming.html#cb252-4" tabindex="-1"></a>  <span class="fu">rowSums</span>(comparisons) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb252-5"><a href="programming.html#cb252-5" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><p>it splits a variable into an arbitary number of ranges with equal proportions (for example into <a href="https://en.wikipedia.org/wiki/Decile">deciles</a>).</p></li>
<li><p>it returns a sensible default when a value of the vector is missing. What could such “sensible default” be? Make it the default value when specifying function arguments.</p></li>
<li><p>Try applying your new function to the <code>dev</code> dataset and splitting it into parts using <code>split</code>. You may then compare the descriptive statistics of each part using the <code>lapply</code> function.</p></li>
</ul>
<p><em>The solutions for the exercises will be available here on 2021-01-07.</em></p>
<button class="btn btn-default" onclick="fetch(&#39;data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAxLiBTdXBwb3NlIHdlIHBhc3MgYSBkYXRhIGZyYW1lIHRvIHRoZSBgc3VtbWFyeV9zdGF0c2AgZnVuY3Rpb24uIFdoYXQgd291bGQgdGhlIGZ1bmN0aW9uIHJldHVybj8gV2h5PwojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpzdW1tYXJ5X3N0YXRzIDwtIGZ1bmN0aW9uKHgpIHsKICBpZiAoaXMubnVtZXJpYyh4KSkgewogICAgbGlzdChNZWFuID0gbWVhbih4LCBuYS5ybSA9IFRSVUUpLCAKICAgICAgICAgU0QgPSBzZCh4LCBuYS5ybSA9IFRSVUUpLCAKICAgICAgICAgSVFSID0gSVFSKHgsIG5hLnJtID0gVFJVRSkpCiAgfSBlbHNlIGlmIChpcy5jaGFyYWN0ZXIoeCkpIHsKICAgIGxpc3QoTGVuZ3RoID0gbGVuZ3RoKHgpLCAKICAgICAgICAgTWVhbl9OY2hhciA9IG1lYW4obmNoYXIoeCkpKQogIH0gZWxzZSBpZiAoaXMuZmFjdG9yKHgpKSB7CiAgICBsaXN0KExlbmd0aCA9IGxlbmd0aCh4KSwgCiAgICAgICAgIE5sZXZlbHMgID0gbGVuZ3RoKGxldmVscyh4KSkpIAogIH0KfQoKI1NPTFVUSU9OCgpkYXRhKGlyaXMpICNsb2FkIGV4YW1wbGUgZGF0c2V0CnN1bW1hcnlfc3RhdHMoaXJpcykKCiN0aGlzIGlzIGJlY2F1c2UgdGhlIGlmIGFuZCBlbHNlLWlmIHN0YXRlbWVudHMgb25seSBjaGVjayBmb3IgY2hhcmFjdGVycywgZmFjdG9ycyBhbmQgbnVtZXJpYyBjbGFzc2VzLgppcy5udW1lcmljKGlyaXMpCmlzLmZhY3RvcihpcmlzKQppcy5jaGFyYWN0ZXIoaXJpcykKCnN1bW1hcnlfc3RhdHMgPC0gZnVuY3Rpb24oeCkgewogIGlmIChpcy5udW1lcmljKHgpKSB7CiAgICBsaXN0KE1lYW4gPSBtZWFuKHgsIG5hLnJtID0gVFJVRSksIAogICAgICAgICBTRCA9IHNkKHgsIG5hLnJtID0gVFJVRSksIAogICAgICAgICBJUVIgPSBJUVIoeCwgbmEucm0gPSBUUlVFKSkKICB9IGVsc2UgaWYgKGlzLmNoYXJhY3Rlcih4KSkgewogICAgbGlzdChMZW5ndGggPSBsZW5ndGgoeCksIAogICAgICAgICBNZWFuX05jaGFyID0gbWVhbihuY2hhcih4KSkpCiAgfSBlbHNlIGlmIChpcy5mYWN0b3IoeCkpIHsKICAgIGxpc3QoTGVuZ3RoID0gbGVuZ3RoKHgpLCAKICAgICAgICAgTmxldmVscyAgPSBsZW5ndGgobGV2ZWxzKHgpKSkgCiAgfSBlbHNlIHsKICAgIG1lc3NhZ2UoIldyb25nIGRhdGEgdHlwZSIpCiAgfQp9CgojJyAKIycgCiMnIDIuIFVzZSB0aGUgYHN1bW1hcnlfc3RhdHNgIGZ1bmN0aW9uIHRvIHN1bW1hcml6ZSBlYWNoIHZhcmlhYmxlIGZyb20gdGhlIGBpcmlzYCBkYXRhc2V0LiBZb3UgY2FuIGxvYWQgaXQgdXNpbmcgYGRhdGEoaXJpcylgLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpkYXRhKGlyaXMpCnNhcHBseShpcmlzLCBzdW1tYXJ5X3N0YXRzKQoKIycgCiMnIAojJyAzLiBVc2UgYSBmb3IgbG9vcCB0byBjcmVhdGUgYSBzY2F0dGVyIHBsb3Qgb2YgYFNlcGFsLldpZHRoYCBhbmQgYFNlcGFsLmxlbmd0aGAgYXR0cmlidXRlcyBmcm9tIHRoZSBgaXJpc2AgZGF0YXNldCB3aXRoIGVhY2ggZmxvd2VyIHNwZWNpZXMgKHNwZWNpZmllZCBieSB0aGUgYFNwZWNpZXNgIHZhcmlhYmxlKSBoYXZpbmcgYSBkaWZmZXJlbnQgbWFya2VyIGFuZCBjb2xvci4gVG8gZG8gdGhhdCwgdXNlIHRoZSBza2VsZXRvbiBjb2RlIGJlbG93LiAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMjIGRhdGEoaXJpcykKIyMgcGxvdCgtOTksIC05OSwgeGxpbSA9IGMobWluKGlyaXMkU2VwYWwuV2lkdGgpLCBtYXgoaXJpcyRTZXBhbC5XaWR0aCkpLAojIyAgICAgIHlsaW0gPSBjKG1pbihpcmlzJFNlcGFsLkxlbmd0aCksIG1heChpcmlzJFBldGFsLkxlbmd0aCkpKQojIyBmb3IgKC4uLikgewojIyAgIHBvaW50cyh4ID0gLCB5ID0gLCBjb2wgPSAsIHBjaCA9ICkKIyMgfQoKIycgCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSOgpkYXRhKGlyaXMpCnBsb3QoLTk5LCAtOTksIHhsaW0gPSBjKG1pbihpcmlzJFNlcGFsLldpZHRoKSwgbWF4KGlyaXMkU2VwYWwuV2lkdGgpKSwKICAgICB5bGltID0gYyhtaW4oaXJpcyRTZXBhbC5MZW5ndGgpLCBtYXgoaXJpcyRQZXRhbC5MZW5ndGgpKSwKICAgICB4bGFiID0gIlNlcGFsIFdpZHRoIiwgeWxhYiA9ICJTZXBhbCBMZW5ndGgiKQpjb2xvcnMgPC0gYygncmVkJywnZ3JlZW4nLCdibHVlJykKc3BlY2llcyA8LSBsZXZlbHMoaXJpcyRTcGVjaWVzKQpmb3IgKGkgaW4gMTpsZW5ndGgoc3BlY2llcykpIHsKICBzdWJkZiA8LSBzdWJzZXQoaXJpcywgaXJpcyRTcGVjaWVzID09IHNwZWNpZXNbaV0pCiAgcG9pbnRzKHggPSBzdWJkZiRTZXBhbC5XaWR0aCwgeSA9IHN1YmRmJFNlcGFsLkxlbmd0aCwgY29sID0gY29sb3JzW2ldLCAKICAgICAgIHBjaCA9IGkpCn0KCiMnIAojJyA0LiBDcmVhdGUgZnVuY3Rpb24gY2FsbGVkIGBkZXRlY3Rfb3V0bGllcnNgIHRoYXQgd2lsbCB0YWtlIGEgdmVjdG9yIGFuZCBhIHF1YW50aWxlIHRocmVzaG9sZCBhcyBhbiBhcmd1bWVudCBhbmQgd2lsbCByZXR1cm4gdGhlIGluZGljZXMgb2YgdGhlIHZhbHVlcyB0aGF0IGNhbiBiZSBjb25zaWRlcmVkIG91dGxpZXJzIGdpdmVuIHRoaXMgdGhyZXNob2xkIChpLmUuIGxpZSBhYm92ZSB0aGUgbnRoIHF1YW50aWxlIG9yIGJlbG93IDEwMCAtIG50aCBxdWFudGlsZSkuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCmRldGVjdF9vdXRsaWVycyA8LSBmdW5jdGlvbih4LCB0aHJlc2hvbGQpIHsKICBjdXRzIDwtIHF1YW50aWxlKHgsIHByb2JzID0gYWJzKGMoMCwxKSAtIHRocmVzaG9sZCksIG5hLnJtID0gVFJVRSkKICB3aGljaCh4IDw9IGN1dHNbMV0gfCB4ID49IGN1dHNbMl0pCn0KCmRldGVjdF9vdXRsaWVycyhpcmlzJFNlcGFsLkxlbmd0aCwgMC4wMDEpCgojJyAKIycgNS4gRXh0ZW5kIHRoaXMgZnVuY3Rpb24gc28gdGhhdCBpdCByZXR1cm5zIHJvd3Mgb2YgdGhlIGRhdGEgZnJhbWUgdGhhdCBjb250YWluIG91dGxpZXJzIGluICphbnkqIG9mIHRoZSAobnVtZXJpY2FsKSB2YXJpYWJsZXMuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCmRldGVjdF9vdXRsaWVyc19kZiA8LSBmdW5jdGlvbihkZiwgdGhyZXNob2xkKSB7CiAgaW5kX251bSA8LSBzYXBwbHkoZGYsIGlzLm51bWVyaWMpCiAgb3V0bGllcnMgPC0gc2FwcGx5KGRmWywgaW5kX251bV0sIGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgICAgICAgICAgIGRldGVjdF9vdXRsaWVycyh4LCB0aHJlc2hvbGQgPSB0aHJlc2hvbGQpCiAgfSkKICB1bmlxdWUodW5saXN0KG91dGxpZXJzKSkKfQoKIycgCiMnIDYuIEFwcGx5IHRoZSBmdW5jdGlvbiBmcm9tIHRoZSBhYm92ZSBleGVyY2lzZSB0byB0aGUgYGRldmAgZGF0YXNldC4gV2hpY2ggY291bnRyaWVzIGNhbiBiZSBjb25zaWRlcmVkIG91dGxpZXJzPwojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpkZXYgPC0gcmVhZC5jc3YoImRhdGEvdW5fZGF0YS9kZXYyMDE4LmNzdiIsCiAgICAgICAgICAgICAgICBzdHJpbmdzQXNGYWN0b3JzID0gRkFMU0UpCmRldltkZXRlY3Rfb3V0bGllcnNfZGYoZGV2LCAwLjAwMDEpLF0KCiMnIAojJyA3LiBSZWNhbGwgdGhlIGBxdWFydGlsZWAgZnVuY3Rpb24gZnJvbSB0aGUgZXhhbXBsZXMgYWJvdmUuIENhbiB5b3UgZXh0ZW5kIGl0IHNvIHRoYXQ6IAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KcXVhcnRpbGUgPC0gZnVuY3Rpb24oeCkgewogIHF1YW50aWxlcyA8LSBxdWFudGlsZSh4LCBjKDAuMjUsIDAuNSwgMC43NSksIG5hLnJtID0gVFJVRSkKICBjb21wYXJpc29ucyA8LSBzYXBwbHkocXVhbnRpbGVzLCBmdW5jdGlvbih5KSB5IDw9IHgpCiAgcm93U3Vtcyhjb21wYXJpc29ucykgKyAxCn0KCiMnIAojJyAKIycgLSBpdCBzcGxpdHMgYSB2YXJpYWJsZSBpbnRvIGFuIGFyYml0YXJ5IG51bWJlciBvZiByYW5nZXMgd2l0aCBlcXVhbCBwcm9wb3J0aW9ucyAoZm9yIGV4YW1wbGUgaW50byBbZGVjaWxlc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVjaWxlKSkuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpxdWFydGlsZSA8LSBmdW5jdGlvbih4LCBudGlsZXMpIHsKICBwcm9icyA8LSBzZXEoMCwgMSwgbGVuZ3RoLm91dCA9IG50aWxlcykKICBxdWFudGlsZXMgPC0gcXVhbnRpbGUoeCwgcHJvYnMgPSBwcm9icywgbmEucm0gPSBUUlVFKQogIGNvbXBhcmlzb25zIDwtIHNhcHBseShxdWFudGlsZXMsIGZ1bmN0aW9uKHkpIHkgPD0geCkKICByb3dTdW1zKGNvbXBhcmlzb25zKSArIDEKfQpkZXYkY291bnRyeVtxdWFydGlsZShkZXYkZ25pLCBudGlsZXMgPSA5KSA9PSAxMF0KCiMnIAojJyAtIGl0IHJldHVybnMgYSBzZW5zaWJsZSBkZWZhdWx0IHdoZW4gYSB2YWx1ZSBvZiB0aGUgdmVjdG9yIGlzIG1pc3NpbmcuIFdoYXQgY291bGQgc3VjaCAic2Vuc2libGUgZGVmYXVsdCIgYmU/IE1ha2UgaXQgdGhlIGRlZmF1bHQgdmFsdWUgd2hlbiBzcGVjaWZ5aW5nIGZ1bmN0aW9uIGFyZ3VtZW50cy4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiNBTlNXRVIKcXVhcnRpbGUgPC0gZnVuY3Rpb24oeCwgbnRpbGVzLCBtaXNzX3JlcGwgPSAwKSB7CiAgcHJvYnMgPC0gc2VxKDAsIDEsIGxlbmd0aC5vdXQgPSBudGlsZXMpCiAgcXVhbnRpbGVzIDwtIHF1YW50aWxlKHgsIHByb2JzID0gcHJvYnMsIG5hLnJtID0gVFJVRSkKICBjb21wYXJpc29ucyA8LSBzYXBwbHkocXVhbnRpbGVzLCBmdW5jdGlvbih5KSB5IDw9IHgpCiAgcmVzdWx0IDwtIHJvd1N1bXMoY29tcGFyaXNvbnMpICsgMQogIHJlc3VsdFtpcy5uYShyZXN1bHQpXSA8LSBtaXNzX3JlcGwgI3VzZSBtaXNzX3JlcGwgdG8gcmVwbGFjZSBOQXMKICByZXN1bHQKfQpkZXYkY291bnRyeVtxdWFydGlsZShkZXYkZ25pLCA5LCAxKSA9PSAxXQoKIycgCiMnIC0gVHJ5IGFwcGx5aW5nIHlvdXIgbmV3IGZ1bmN0aW9uIHRvIHRoZSBgZGV2YCBkYXRhc2V0IGFuZCBzcGxpdHRpbmcgaXQgaW50byBwYXJ0cyB1c2luZyBgc3BsaXRgLiBZb3UgbWF5IHRoZW4gY29tcGFyZSB0aGUgZGVzY3JpcHRpdmUgc3RhdGlzdGljcyBvZiBlYWNoIHBhcnQgdXNpbmcgdGhlIGBsYXBwbHlgIGZ1bmN0aW9uLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpkZXZfc3BsaXQgPC0gc3BsaXQoZGV2LCBxdWFydGlsZShkZXYkZ25pLCBudGlsZXMgPSA5LCBtaXNzX3JlcGwgPSAxKSkKbGFwcGx5KGRldl9zcGxpdCwgc3VtbWFyeSkKCiMnIAojJyAqVGhlIHNvbHV0aW9ucyBmb3IgdGhlIGV4ZXJjaXNlcyB3aWxsIGJlIGF2YWlsYWJsZSBoZXJlIG9uIGByIGNvbmZpZyRrZXlfcHJvZ3JhbW1pbmdfY29uY2VwdHNgLioKIycgCiMnIAoA&#39;).then(res =&gt; res.blob()).then(blob =&gt; {&#10;      const downloadURL = window.URL.createObjectURL(blob);&#10;      const a = document.createElement(&#39;a&#39;);&#10;      a.style.display = &#39;none&#39;; // Hide the link&#10;      document.body.appendChild(a);&#10;      a.href = downloadURL;&#10;      a.download = &#39;05-key_programming_concepts-solutions.R&#39;;&#10;      a.click();&#10;      window.URL.revokeObjectURL(downloadURL);&#10;      document.body.removeChild(a);&#10;      return false;&#10;    });"><i class="fa fa-save"></i> Chapter solutions</button>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"toc_depth": 2
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Dr Flo Linke | Teaching</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./favicon-32.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-bc185b5c5bdbcb35c2eb49d8a876ef70.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f31db0824967e9338b9d01ed282dbb0f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#ffffff">
<link rel="manifest" href="site.webmanifest">


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./Crest_white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Flo Linke</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./teaching.html" aria-current="page"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/PO11Q/">
 <span class="dropdown-text">PO11Q Seminar Companion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/PO12Q/">
 <span class="dropdown-text">PO12Q Seminar Companion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/PO33Q/">
 <span class="dropdown-text">PO33Q Seminar Companion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/PO91Q/">
 <span class="dropdown-text">PO91Q Seminar Companion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/POQFlashcards/">
 <span class="dropdown-text">POQ Flashcards</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/AWWL/">
 <span class="dropdown-text">Academic Writing with LaTeX</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://drflolinke.github.io/AQDR/">
 <span class="dropdown-text">Analysing Quantitative Data with R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./downloads.html">
 <span class="dropdown-text">Downloads</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./textbook.html"> 
<span class="menu-text">Textbook</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-links" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Links</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-links">    
        <li>
    <a class="dropdown-item" href="https://warwick.ac.uk/fac/soc/pais/people/linke/">
 <span class="dropdown-text">Departmental Webpage</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/DrFlolinke/DrFlolinke.github.io/issues/new/choose" target="_blank">
 <span class="dropdown-text">Report an Issue</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/DrFlolinke/DrFlolinke.github.io" target="_blank">
 <span class="dropdown-text">Code</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:Florian.Linke@warwick.ac.uk"> <i class="bi bi-envelope-fill" role="img" aria-label="Email Flo Linke">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Teaching</h1>
</div>



<div class="quarto-title-meta column-page">

    
  
    
  </div>
  


</header>


<h3 class="anchored">
Module Directorships
</h3>
<p>
In the academic year 25/26 I am directing the following modules:
</p>
<ul class="left-on-mobile">
<li>
<a href="https://courses.warwick.ac.uk/modules/2025/PO11Q-15">PO11Q: Introduction to Quantitative Political Analysis I</a>
</li>
<li>
<a href="https://courses.warwick.ac.uk/modules/2025/PO12Q-15">PO12Q: Introduction to Quantitative Political Analysis II</a>
</li>
<li>
<a href="https://courses.warwick.ac.uk/modules/2025/PO33Q-15">PO33Q: Determinants of Democracy</a>
</li>
<li>
<a href="https://courses.warwick.ac.uk/modules/2025/PO91Q-20">PO91Q: Fundamentals of Quantitative Research</a>
</li>
</ul>
<p>&nbsp; &nbsp;</p>
<h3 class="anchored">
Seminar Companions
</h3>
<p>
I am teaching all of my modules that contain a quantitative component with an online seminar companion. This way, all materials are presented in order and in context. This approach is also environmentally friendlier than weekly paper handouts and allows students to utilise the code I provide more easily.
</p>
<p>
Please note that these are password-protected and only available to students registered on the respective module.
</p>
<ul class="left-on-mobile">
<li>
<a href="https://drflolinke.github.io/PO11Q/">PO11Q: Introduction to Quantitative Political Analysis I</a>
</li>
<li>
<a href="https://drflolinke.github.io/PO12Q/">PO12Q: Introduction to Quantitative Political Analysis II</a>
</li>
<li>
<a href="https://drflolinke.github.io/PO33Q/">PO33Q: Determinants of Democracy</a>
</li>
<li>
<a href="https://drflolinke.github.io/PO91Q/">PO91Q: Fundamentals of Quantitative Research</a>
</li>
</ul>
<p>&nbsp; &nbsp;</p>
<h3 class="anchored">
Flashcards
</h3>
<p>
Learning R is a lot like picking up a new language — you have to build up your vocabulary and keep practicing it. To this end, I have created Flashcards which contain the functions covered on each of my modules, divided into weekly content.
</p>
<ul>
<li>
<a href="https://drflolinke.github.io/POQFlashcards/">Module Flashcards</a>
</li>
</ul>
<p>&nbsp; &nbsp;</p>
<h3 class="anchored">
Shiny Apps
</h3>
<p>
Both for my day-to-day teaching and for my textbook, I have written a few R Shiny applications with the following topics:
</p>
<ul class="left-on-mobile">
<li>
<a href="https://drflolinke.github.io/shinylive/descriptives/">Calculate descriptive statistics for up to five observations</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/sd/">How mean and standard deviation affect the shape of a distribution</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/mmm/">How mean, median, and mode affect the shape of a distribution</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/tdis/">How sample size affects the shape of the t-distribution and critical t-values</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/confint/">How sample size and sample standard deviation affect the width of a confidence interval</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/effect-size/">How effect size, sample size, and power shape inference</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/crosstab/">Calculations with a 2 x 2 crosstabulation</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/correlation/">Explore correlation and see how Pearson’s r responds to different shapes, amounts of noise, and sample sizes.</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/reg_calc/">Calculating OLS estimates with up to 5 observations</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/matrices/">Calculating with Matrices</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/reg_assumptions/">Explore the effect of functional misspecification, heteroscedasticity, and collinearity</a>
</li>
<li>
<a href="https://drflolinke.github.io/shinylive/logistic/"> How do the values of β₀ and β₁ influence the shape of the cumulative distribution function (CDF) in Logistic Regression </a>
</li>
</ul>
<p>
Please note that these are web-based applications and might therefore take a moment to load.
</p>
<p>&nbsp; &nbsp;</p>
<h3 class="anchored">
Online Tutorials
</h3>
<p>
Together with a former student and research assistant, Piotr Bogdański, I have written two online tutorials. The first, “Academic Writing with LaTeX”, provides students who are interested in presenting their writing in a professional manner with an introduction to LaTeX. The second, “Analysing Quantitative Data with R”, is an attempt to help students who do not wish to take a formal module, or wish to brush up their skills with an opportunity to learn working with R.
</p>
<ul>
<li>
<a href="https://drflolinke.github.io/AWWL/">Academic Writing with LaTeX</a>
</li>
<li>
<a href="https://drflolinke.github.io/AQDR/">Analysing Quantitative Data with R</a>
</li>
</ul>
<p>&nbsp; &nbsp;</p>
<h3 class="anchored">
Teaching Philosophy
</h3>
<p>I love teaching methods, research design, and comparative politics. Whilst methods often come with the reputation of being dry or intimidating, I see them as the foundation of political science. They not only allow us to evaluate and critique existing work, but also give us the tools to carry out excellent research ourselves. Without methods, a large part of the comparative politics literature – and indeed much of the discipline – would remain inaccessible. I like to think of methods as opening the door to knowledge. Once that door is open, students are free to explore, evaluate, and ultimately contribute to the debates that matter. This is not only true in the context of university degrees, but also in the world beyond. Methods, and especially the quantitative variety, represent transferable skills which make those who possess them a rare and much sought-after commodity on the labour market.</p>
<p>As a guide for my teaching, I am a big fan of this quote from Albert Einstein: “Everything should be made as simple as possible. But not simpler.” In practice, this means I do not want my students to simply learn how to apply a technique in R or any other software. Instead, I want them to look “under the hood” and understand how the method works. This deeper understanding is what allows them to judge whether the results produced by a statistical program are sensible, and what empowers them to become independent researchers. My ultimate goal is for students to be producers of knowledge, not just consumers. At the same time, I remind them that mastery requires patience. Becoming comfortable with methods takes time and effort, and the learning curve can sometimes feel steep.</p>
<p>I know that many students approach methods with a sense of trepidation, often because of the maths these inevitably involve. To help reduce that anxiety, I aim to provide as many supportive resources as possible. These include videos that students can watch at their own pace, flashcards for key terms and concepts, and detailed glossaries that they can return to throughout the module. But I also believe strongly that teaching is more than just providing materials: it is about building dialogue. In lectures, I involve students by asking questions and encouraging participation. In seminars, I see myself more as a facilitator than a lecturer, creating the space for students to come prepared, drive discussions, and take ownership of their learning. The dialogue continues in office hours where I take the time to work through difficult topics and ensure that each student feels supported and heard.</p>
<p>I also view teaching as a process of constant reflection and adaptation. Many of the features I now use in my teaching – such as flashcards, full glossaries, or interactive activities – have come directly from student feedback. I take seriously what students tell me about what helps them learn and try to adapt accordingly. Teaching, for me, is not static but dynamic. Just as I expect students to develop their skills over time, I also strive to keep improving my teaching practice.</p>
<p>Ultimately, I want my students to leave my classes not only with stronger technical skills, but also with confidence. I want them to see methods not as an obstacle, but as a set of tools that enable them to ask better questions, evaluate evidence critically, and contribute their own ideas to the field. If they leave my courses feeling more curious, more capable, and more empowered to engage with research, then I have done my job.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>